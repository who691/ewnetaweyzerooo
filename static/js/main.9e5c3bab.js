/*! For license information please see main.9e5c3bab.js.LICENSE.txt */
(()=>{var e={110:(e,t,n)=>{"use strict";var i=n(309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return i.isMemo(e)?a:o[e.$$typeof]||r}o[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[i.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(f){var r=p(n);r&&r!==f&&e(t,r,i)}var a=u(n);h&&(a=a.concat(h(n)));for(var o=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!s[y]&&(!i||!i[y])&&(!m||!m[y])&&(!o||!o[y])){var v=d(n,y);try{c(t,y,v)}catch(_){}}}}return t}},746:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case u:case h:case s:case o:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case r:return t}}}function w(e){return x(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=r,t.Profiler=o,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===s},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===o},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===o||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=x},309:(e,t,n)=>{"use strict";e.exports=n(746)},463:(e,t,n)=>{"use strict";var i=n(791),r=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,i,r,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),k=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,z=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=i.stack.split("\n"),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||r[a]!==s[o]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case T:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=G(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=H(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),i=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Se=null,Ee=null;function Te(e){if(e=_r(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=xr(t),we(e.stateNode,e.type,t))}}function Ie(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function ke(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Pe=!1;function Ne(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ce(e,t,n)}finally{Pe=!1,(null!==Se||null!==Ee)&&(Ae(),ke())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=xr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Re=!1}function De(e,t,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,ze=null,je=!1,Fe=null,Be={onError:function(e){Le=!0,ze=e}};function Ve(e,t,n,i,r,s,a,o,l){Le=!1,ze=null,De.apply(Be,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return He(r),e;if(a===i)return He(r),t;a=a.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=a;else{for(var o=!1,l=r.child;l;){if(l===n){o=!0,n=r,i=a;break}if(l===i){o=!0,i=r,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,i=r;break}if(l===i){o=!0,i=a,n=r;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=r.unstable_scheduleCallback,Ye=r.unstable_cancelCallback,Ze=r.unstable_shouldYield,Xe=r.unstable_requestPaint,Qe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,$e=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~r;0!==o?i=ht(o):0!==(s&=a)&&(i=ht(s))}else 0!==(a=n&~r)?i=ht(a):0!==s&&(i=ht(s));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,St,Et,Tt,It=!1,kt=[],Ct=null,At=null,Pt=null,Nt=new Map,Mt=new Map,Rt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Lt(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&wt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function zt(e){var t=vr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&wt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Ft(e,t,n){jt(e)&&n.delete(t)}function Bt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Pt&&jt(Pt)&&(Pt=null),Nt.forEach(Ft),Mt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Bt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var i=kt[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==At&&Vt(At,e),null!==Pt&&Vt(Pt,e),Nt.forEach(t),Mt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Gt(e,t,n,i){var r=_t,s=qt.transition;qt.transition=null;try{_t=1,Kt(e,t,n,i)}finally{_t=r,qt.transition=s}}function Wt(e,t,n,i){var r=_t,s=qt.transition;qt.transition=null;try{_t=4,Kt(e,t,n,i)}finally{_t=r,qt.transition=s}}function Kt(e,t,n,i){if(Ht){var r=Zt(e,t,n,i);if(null===r)Hi(e,t,i,Yt,n),Dt(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,i,r),!0;case"dragenter":return At=Lt(At,e,t,n,i,r),!0;case"mouseover":return Pt=Lt(Pt,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Nt.set(s,Lt(Nt.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Mt.set(s,Lt(Mt.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Dt(e,i),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var s=_r(r);if(null!==s&&xt(s),null===(s=Zt(e,t,n,i))&&Hi(e,t,i,Yt,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else Hi(e,t,i,null,n)}}var Yt=null;function Zt(e,t,n,i){if(Yt=null,null!==(e=vr(e=xe(i))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,$t=null;function en(){if($t)return $t;var e,t,n=Jt,i=n.length,r="value"in Qt?Qt.value:Qt.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return $t=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=z({},cn,{view:0,detail:0}),dn=sn(hn),pn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),mn=sn(z({},pn,{dataTransfer:0})),gn=sn(z({},hn,{relatedTarget:0})),yn=sn(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(vn),bn=sn(z({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Tn(){return En}var In=z({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(In),Cn=sn(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=sn(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Pn=sn(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Nn),Rn=[9,13,27,32],On=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Dn,zn=u&&(!On||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,i){Ie(i),0<(t=Wi(t,"onChange")).length&&(n=new un("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Yn(e){ji(e,0)}function Zn(e){if(K(br(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(u){var Jn;if(u){var $n="oninput"in document;if(!$n){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),$n="function"===typeof ei.oninput}Jn=$n}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Wn&&(Wn.detachEvent("onpropertychange",ni),Kn=Wn=null)}function ni(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Gn(t,Kn,e,xe(e)),Ne(Yn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Kn=n,(Wn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function si(e,t){if("click"===e)return Zn(t)}function ai(e,t){if("input"===e||"change"===e)return Zn(t)}var oi="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(oi(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!oi(e[r],t[r]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ui(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function pi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&pi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=void 0===i.end?s:Math.min(i.end,r),!e.extend&&s>i&&(r=i,i=s,s=r),r=ui(n,s);var a=ui(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=u&&"documentMode"in document&&11>=document.documentMode,gi=null,yi=null,vi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==Y(i)||("selectionStart"in(i=gi)&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},vi&&li(vi,i)||(vi=i,0<(i=Wi(yi,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function xi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wi={animationend:xi("Animation","AnimationEnd"),animationiteration:xi("Animation","AnimationIteration"),animationstart:xi("Animation","AnimationStart"),transitionend:xi("Transition","TransitionEnd")},Si={},Ei={};function Ti(e){if(Si[e])return Si[e];if(!wi[e])return e;var t,n=wi[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ei)return Si[e]=n[t];return e}u&&(Ei=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);var Ii=Ti("animationend"),ki=Ti("animationiteration"),Ci=Ti("animationstart"),Ai=Ti("transitionend"),Pi=new Map,Ni="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Pi.set(e,t),l(t,[e])}for(var Ri=0;Ri<Ni.length;Ri++){var Oi=Ni[Ri];Mi(Oi.toLowerCase(),"on"+(Oi[0].toUpperCase()+Oi.slice(1)))}Mi(Ii,"onAnimationEnd"),Mi(ki,"onAnimationIteration"),Mi(Ci,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ai,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Di="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(Di));function zi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,o,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=ze;Le=!1,ze=null,je||(je=!0,Fe=u)}}(i,t,void 0,e),e.currentTarget=null}function ji(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;zi(r,o,c),s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;zi(r,o,c),s=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fi(e,t){var n=t[mr];void 0===n&&(n=t[mr]=new Set);var i=e+"__bubble";n.has(i)||(qi(t,e,2,!1),n.add(i))}function Bi(e,t,n){var i=0;t&&(i|=4),qi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Ui(e){if(!e[Vi]){e[Vi]=!0,a.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Bi(t,!1,e),Bi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Bi("selectionchange",!1,t))}}function qi(e,t,n,i){switch(Xt(t)){case 1:var r=Gt;break;case 4:r=Wt;break;default:r=Kt}n=r.bind(null,t,n,e),r=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Hi(e,t,n,i,r){var s=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var o=i.stateNode.containerInfo;if(o===r||8===o.nodeType&&o.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==o;){if(null===(a=vr(o)))return;if(5===(l=a.tag)||6===l){i=s=a;continue e}o=o.parentNode}}i=i.return}Ne((function(){var i=s,r=xe(n),a=[];e:{var o=Pi.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ii:case ki:case Ci:l=yn;break;case Ai:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=i;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Me(f,d))&&u.push(Gi(f,m,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,r),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vr(c)&&!c[fr])&&(l||o)&&(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?vr(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(u=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:br(l),p=null==c?o:br(c),(o=new u(m,f+"leave",l,n,r)).target=h,o.relatedTarget=p,m=null,vr(r)===i&&((u=new u(d,f+"enter",c,n,r)).target=p,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Ki(p))f++;for(p=0,m=d;m;m=Ki(m))p++;for(;0<f-p;)u=Ki(u),f--;for(;0<p-f;)d=Ki(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Ki(u),d=Ki(d)}u=null}else u=null;null!==l&&Yi(a,o,l,u,!1),null!==c&&null!==h&&Yi(a,h,c,u,!0)}if("select"===(l=(o=i?br(i):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Xn;else if(Hn(o))if(Qn)g=ai;else{g=ri;var y=ii}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=si);switch(g&&(g=g(e,i))?Gn(a,g,n,r):(y&&y(e,o,i),"focusout"===e&&(y=o._wrapperState)&&y.controlled&&"number"===o.type&&ee(o,"number",o.value)),y=i?br(i):window,e){case"focusin":(Hn(y)||"true"===y.contentEditable)&&(gi=y,yi=i,vi=null);break;case"focusout":vi=yi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(a,n,r);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":bi(a,n,r)}var v;if(On)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Un?Bn(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==_?"onCompositionEnd"===_&&Un&&(v=en()):(Jt="value"in(Qt=r)?Qt.value:Qt.textContent,Un=!0)),0<(y=Wi(i,_)).length&&(_=new bn(_,e,null,n,r),a.push({event:_,listeners:y}),v?_.data=v:null!==(v=Vn(n))&&(_.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,jn);case"textInput":return(e=t.data)===jn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Bn(e,t)?(e=en(),$t=Jt=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Wi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=v))}ji(a,t)}))}function Gi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Me(e,n))&&i.unshift(Gi(e,s,r)),null!=(s=Me(e,t))&&i.push(Gi(e,s,r))),e=e.return}return i}function Ki(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yi(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===i)break;5===o.tag&&null!==c&&(o=c,r?null!=(l=Me(n,s))&&a.unshift(Gi(n,l,o)):r||null!=(l=Me(n,s))&&a.push(Gi(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Zi=/\r\n?/g,Xi=/\u0000|\uFFFD/g;function Qi(e){return("string"===typeof e?e:""+e).replace(Zi,"\n").replace(Xi,"")}function Ji(e,t,n){if(t=Qi(t),Qi(e)!==t&&n)throw Error(s(425))}function $i(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(or)}:ir;function or(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Ut(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ur(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,pr="__reactProps$"+hr,fr="__reactContainer$"+hr,mr="__reactEvents$"+hr,gr="__reactListeners$"+hr,yr="__reactHandles$"+hr;function vr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ur(e);null!==e;){if(n=e[dr])return n;e=ur(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xr(e){return e[pr]||null}var wr=[],Sr=-1;function Er(e){return{current:e}}function Tr(e){0>Sr||(e.current=wr[Sr],wr[Sr]=null,Sr--)}function Ir(e,t){Sr++,wr[Sr]=e.current,e.current=t}var kr={},Cr=Er(kr),Ar=Er(!1),Pr=kr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return kr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Rr(){Tr(Ar),Tr(Cr)}function Or(e,t,n){if(Cr.current!==kr)throw Error(s(168));Ir(Cr,t),Ir(Ar,n)}function Dr(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(s(108,q(e)||"Unknown",r));return z({},n,i)}function Lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||kr,Pr=Cr.current,Ir(Cr,e),Ir(Ar,Ar.current),!0}function zr(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Dr(e,t,Pr),i.__reactInternalMemoizedMergedChildContext=e,Tr(Ar),Tr(Cr),Ir(Cr,e)):Tr(Ar),Ir(Ar,n)}var jr=null,Fr=!1,Br=!1;function Vr(e){null===jr?jr=[e]:jr.push(e)}function Ur(){if(!Br&&null!==jr){Br=!0;var e=0,t=_t;try{var n=jr;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}jr=null,Fr=!1}catch(r){throw null!==jr&&(jr=jr.slice(e+1)),Ke($e,Ur),r}finally{_t=t,Br=!1}}return null}var qr=[],Hr=0,Gr=null,Wr=0,Kr=[],Yr=0,Zr=null,Xr=1,Qr="";function Jr(e,t){qr[Hr++]=Wr,qr[Hr++]=Gr,Gr=e,Wr=t}function $r(e,t,n){Kr[Yr++]=Xr,Kr[Yr++]=Qr,Kr[Yr++]=Zr,Zr=e;var i=Xr;e=Qr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var s=32-at(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Xr=1<<32-at(t)+r|n<<r|i,Qr=s+e}else Xr=1<<s|n<<r|i,Qr=e}function es(e){null!==e.return&&(Jr(e,1),$r(e,1,0))}function ts(e){for(;e===Gr;)Gr=qr[--Hr],qr[Hr]=null,Wr=qr[--Hr],qr[Hr]=null;for(;e===Zr;)Zr=Kr[--Yr],Kr[Yr]=null,Qr=Kr[--Yr],Kr[Yr]=null,Xr=Kr[--Yr],Kr[Yr]=null}var ns=null,is=null,rs=!1,ss=null;function as(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,is=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zr?{id:Xr,overflow:Qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,is=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=is;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=cr(n.nextSibling);var i=ns;t&&os(e,t)?as(i,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!rs)return us(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=is)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=cr(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=ns?cr(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=is;e;)e=cr(e.nextSibling)}function ps(){is=ns=null,rs=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Er(null),vs=null,_s=null,bs=null;function xs(){bs=_s=vs=null}function ws(e){var t=ys.current;Tr(ys),e._currentValue=t}function Ss(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){vs=e,bs=_s=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===_s){if(null===vs)throw Error(s(308));_s=e,vs.dependencies={lanes:0,firstContext:e}}else _s=_s.next=e;return t}var Is=null;function ks(e){null===Is?Is=[e]:Is.push(e)}function Cs(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,ks(t)):(n.next=r.next,r.next=n),t.interleaved=n,As(e,i)}function As(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ps=!1;function Ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ms(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Al)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,As(e,n)}return null===(r=i.interleaved)?(t.next=t,ks(i)):(t.next=r.next,r.next=t),i.interleaved=t,As(e,n)}function Ds(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ls(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zs(e,t,n,i){var r=e.updateQueue;Ps=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=r.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((i&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=z({},h,d);break e;case 2:Ps=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(d=o).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===u&&(l=h),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);zl|=a,e.lanes=a,e.memoizedState=h}}function js(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Fs=(new i.Component).refs;function Bs(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Rs(i,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,r))&&(ic(t,e,r,i),Ds(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=tc(),r=nc(e),s=Rs(i,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,r))&&(ic(t,e,r,i),Ds(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),i=nc(e),r=Rs(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Os(e,r,i))&&(ic(t,e,i,n),Ds(t,e,i))}};function Us(e,t,n,i,r,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,s))}function qs(e,t,n){var i=!1,r=kr,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(r=Mr(t)?Pr:Cr.current,s=(i=null!==(i=t.contextTypes)&&void 0!==i)?Nr(e,r):kr),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Gs(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=Fs,Ns(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=Ts(s):(s=Mr(t)?Pr:Cr.current,r.context=Nr(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&Vs.enqueueReplaceState(r,r.state,null),zs(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;t===Fs&&(t=r.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ys(e){return(0,e._init)(e._payload)}function Zs(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=jc(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var s=n.type;return s===S?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Ys(s)===t.type)?((i=r(t,n.props)).ref=Ws(e,t,n),i.return=e,i):((i=Dc(n.type,n.key,n.props,null,e.mode,i)).ref=Ws(e,t,n),i.return=e,i)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,i,s)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case w:return(t=Fc(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===r?c(e,t,n,i):null;case w:return n.key===r?u(e,t,n,i):null;case M:return p(e,t,(r=n._init)(n._payload),i)}if(te(n)||D(n))return null!==r?null:h(e,t,n,i,null);Ks(e,n)}return null}function f(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case x:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case w:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return f(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||D(i))return h(t,e=e.get(n)||null,i,r,null);Ks(t,i)}return null}function m(r,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(r,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(r,h),s=a(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(r,h),rs&&Jr(r,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(r,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return rs&&Jr(r,m),c}for(h=i(r,h);m<o.length;m++)null!==(g=f(h,r,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),rs&&Jr(r,m),c}function g(r,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=p(r,m,v.value,c);if(null===_){null===m&&(m=y);break}e&&m&&null===_.alternate&&t(r,m),o=a(_,o,g),null===h?u=_:h.sibling=_,h=_,m=y}if(v.done)return n(r,m),rs&&Jr(r,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(r,v.value,c))&&(o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return rs&&Jr(r,g),u}for(m=i(r,m);!v.done;g++,v=l.next())null!==(v=f(m,r,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=a(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(r,e)})),rs&&Jr(r,g),u}return function e(i,s,a,l){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case x:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===S){if(7===u.tag){n(i,u.sibling),(s=r(u,a.props.children)).return=i,i=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&Ys(c)===u.type){n(i,u.sibling),(s=r(u,a.props)).ref=Ws(i,u,a),s.return=i,i=s;break e}n(i,u);break}t(i,u),u=u.sibling}a.type===S?((s=Lc(a.props.children,i.mode,l,a.key)).return=i,i=s):((l=Dc(a.type,a.key,a.props,null,i.mode,l)).ref=Ws(i,s,a),l.return=i,i=l)}return o(i);case w:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(i,s.sibling),(s=r(s,a.children||[])).return=i,i=s;break e}n(i,s);break}t(i,s),s=s.sibling}(s=Fc(a,i.mode,l)).return=i,i=s}return o(i);case M:return e(i,s,(u=a._init)(a._payload),l)}if(te(a))return m(i,s,a,l);if(D(a))return g(i,s,a,l);Ks(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(i,s.sibling),(s=r(s,a)).return=i,i=s):(n(i,s),(s=jc(a,i.mode,l)).return=i,i=s),o(i)):n(i,s)}}var Xs=Zs(!0),Qs=Zs(!1),Js={},$s=Er(Js),ea=Er(Js),ta=Er(Js);function na(e){if(e===Js)throw Error(s(174));return e}function ia(e,t){switch(Ir(ta,t),Ir(ea,e),Ir($s,Js),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Tr($s),Ir($s,t)}function ra(){Tr($s),Tr(ea),Tr(ta)}function sa(e){na(ta.current);var t=na($s.current),n=le(t,e.type);t!==n&&(Ir(ea,e),Ir($s,n))}function aa(e){ea.current===e&&(Tr($s),Tr(ea))}var oa=Er(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,pa=0,fa=null,ma=null,ga=null,ya=!1,va=!1,_a=0,ba=0;function xa(){throw Error(s(321))}function wa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!oi(e[n],t[n]))return!1;return!0}function Sa(e,t,n,i,r,a){if(pa=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(i,r),va){a=0;do{if(va=!1,_a=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(i,r)}while(va)}if(ha.current=so,t=null!==ma&&null!==ma.next,pa=0,ga=ma=fa=null,ya=!1,t)throw Error(s(300));return e}function Ea(){var e=0!==_a;return _a=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?fa.memoizedState=ga=e:ga=ga.next=e,ga}function Ia(){if(null===ma){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?fa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?fa.memoizedState=ga=e:ga=ga.next=e}return ga}function ka(e,t){return"function"===typeof t?t(e):t}function Ca(e){var t=Ia(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=ma,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var o=r.next;r.next=a.next,a.next=o}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((pa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:e(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=i):c=c.next=d,fa.lanes|=h,zl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=i:c.next=l,oi(i,t.memoizedState)||(bo=!0),t.memoizedState=i,t.baseState=o,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,fa.lanes|=a,zl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aa(e){var t=Ia(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var o=r=r.next;do{a=e(a,o.action),o=o.next}while(o!==r);oi(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Pa(){}function Na(e,t){var n=fa,i=Ia(),r=t(),a=!oi(i.memoizedState,r);if(a&&(i.memoizedState=r,bo=!0),i=i.queue,qa(Oa.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,ja(9,Ra.bind(null,n,i,r,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&pa)||Ma(n,t,r)}return r}function Ma(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ra(e,t,n,i){t.value=n,t.getSnapshot=i,Da(t)&&La(e)}function Oa(e,t,n){return n((function(){Da(t)&&La(e)}))}function Da(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!oi(e,n)}catch(i){return!0}}function La(e){var t=As(e,1);null!==t&&ic(t,e,1,-1)}function za(e){var t=Ta();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,fa,e),[t.memoizedState,e]}function ja(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Fa(){return Ia().memoizedState}function Ba(e,t,n,i){var r=Ta();fa.flags|=e,r.memoizedState=ja(1|t,n,void 0,void 0===i?null:i)}function Va(e,t,n,i){var r=Ia();i=void 0===i?null:i;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==i&&wa(i,a.deps))return void(r.memoizedState=ja(t,n,s,i))}fa.flags|=e,r.memoizedState=ja(1|t,n,s,i)}function Ua(e,t){return Ba(8390656,8,e,t)}function qa(e,t){return Va(2048,8,e,t)}function Ha(e,t){return Va(4,2,e,t)}function Ga(e,t){return Va(4,4,e,t)}function Wa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4,4,Wa.bind(null,t,e),n)}function Ya(){}function Za(e,t){var n=Ia();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wa(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=Ia();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&wa(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Qa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(oi(n,t)||(n=mt(),fa.lanes|=n,zl|=n,e.baseState=!0),t)}function Ja(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=da.transition;da.transition={};try{e(!1),t()}finally{_t=n,da.transition=i}}function $a(){return Ia().memoizedState}function eo(e,t,n){var i=nc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))io(t,n);else if(null!==(n=Cs(e,t,n,i))){ic(n,e,i,tc()),ro(n,t,i)}}function to(e,t,n){var i=nc(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))io(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,oi(o,a)){var l=t.interleaved;return null===l?(r.next=r,ks(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Cs(e,t,r,i))&&(ic(n,e,i,r=tc()),ro(n,t,i))}}function no(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function io(e,t){va=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ro(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,vt(e,n)}}var so={readContext:Ts,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ao={readContext:Ts,useCallback:function(e,t){return Ta().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:Ua,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Ta();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=eo.bind(null,fa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ta().memoizedState=e},useState:za,useDebugValue:Ya,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=Ja.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=fa,r=Ta();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&pa)||Ma(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,Ua(Oa.bind(null,i,a,e),[e]),i.flags|=2048,ja(9,Ra.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Ta(),t=Pl.identifierPrefix;if(rs){var n=Qr;t=":"+t+"R"+(n=(Xr&~(1<<32-at(Xr)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:Ts,useCallback:Za,useContext:Ts,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:Ca,useRef:Fa,useState:function(){return Ca(ka)},useDebugValue:Ya,useDeferredValue:function(e){return Qa(Ia(),ma.memoizedState,e)},useTransition:function(){return[Ca(ka)[0],Ia().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Na,useId:$a,unstable_isNewReconciler:!1},lo={readContext:Ts,useCallback:Za,useContext:Ts,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:Aa,useRef:Fa,useState:function(){return Aa(ka)},useDebugValue:Ya,useDeferredValue:function(e){var t=Ia();return null===ma?t.memoizedState=e:Qa(t,ma.memoizedState,e)},useTransition:function(){return[Aa(ka)[0],Ia().memoizedState]},useMutableSource:Pa,useSyncExternalStore:Na,useId:$a,unstable_isNewReconciler:!1};function co(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Gl||(Gl=!0,Wl=i),ho(0,t)},n}function mo(e,t,n){(n=Rs(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof i&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new po;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vo(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var _o=b.ReactCurrentOwner,bo=!1;function xo(e,t,n,i){t.child=null===e?Qs(t,null,n,i):Xs(t,e.child,n,i)}function wo(e,t,n,i,r){n=n.render;var s=t.ref;return Es(t,r),i=Sa(e,t,n,i,s,r),n=Ea(),null===e||bo?(rs&&n&&es(t),t.flags|=1,xo(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Go(e,t,r))}function So(e,t,n,i,r){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Eo(e,t,s,i,r))}if(s=e.child,0===(e.lanes&r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return Go(e,t,r)}return t.flags|=1,(e=Oc(s,i)).ref=t.ref,e.return=t,t.child=e}function Eo(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(li(s,i)&&e.ref===t.ref){if(bo=!1,t.pendingProps=i=s,0===(e.lanes&r))return t.lanes=e.lanes,Go(e,t,r);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,i,r)}function To(e,t,n){var i=t.pendingProps,r=i.children,s=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ir(Ol,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ir(Ol,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==s?s.baseLanes:n,Ir(Ol,Rl),Rl|=i}else null!==s?(i=s.baseLanes|n,t.memoizedState=null):i=n,Ir(Ol,Rl),Rl|=i;return xo(e,t,r,n),t.child}function Io(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,i,r){var s=Mr(n)?Pr:Cr.current;return s=Nr(t,s),Es(t,r),n=Sa(e,t,n,i,s,r),i=Ea(),null===e||bo?(rs&&i&&es(t),t.flags|=1,xo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Go(e,t,r))}function Co(e,t,n,i,r){if(Mr(n)){var s=!0;Lr(t)}else s=!1;if(Es(t,r),null===t.stateNode)Ho(e,t),qs(t,n,i),Gs(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ts(c):c=Nr(t,c=Mr(n)?Pr:Cr.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==i||l!==c)&&Hs(t,a,i,c),Ps=!1;var d=t.memoizedState;a.state=d,zs(t,i,a,r),l=t.memoizedState,o!==i||d!==l||Ar.current||Ps?("function"===typeof u&&(Bs(t,n,u,i),l=t.memoizedState),(o=Ps||Us(t,n,o,i,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Ms(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ts(l):l=Nr(t,l=Mr(n)?Pr:Cr.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Hs(t,a,i,l),Ps=!1,d=t.memoizedState,a.state=d,zs(t,i,a,r);var f=t.memoizedState;o!==h||d!==f||Ar.current||Ps?("function"===typeof p&&(Bs(t,n,p,i),f=t.memoizedState),(c=Ps||Us(t,n,c,i,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=l,i=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Ao(e,t,n,i,s,r)}function Ao(e,t,n,i,r,s){Io(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&zr(t,n,!1),Go(e,t,s);i=t.stateNode,_o.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,o,s)):xo(e,t,o,s),t.memoizedState=i.state,r&&zr(t,n,!0),t.child}function Po(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),ia(e,t.containerInfo)}function No(e,t,n,i,r){return ps(),fs(r),t.flags|=256,xo(e,t,n,i),t.child}var Mo,Ro,Oo,Do,Lo={dehydrated:null,treeContext:null,retryLane:0};function zo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var i,r=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ir(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,o?(r=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=zc(l,r,0,null),e=Lc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=zo(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,o){if(n)return 256&t.flags?(t.flags&=-257,Bo(e,t,o,i=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=zc({mode:"visible",children:i.children},r,0,null),(a=Lc(a,r,o,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&Xs(t,e.child,null,o),t.child.memoizedState=zo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Bo(e,t,o,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Bo(e,t,o,i=uo(a=Error(s(419)),i,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(i=Pl)){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|o))?0:r)&&r!==a.retryLane&&(a.retryLane=r,As(e,r),ic(i,e,r,-1))}return gc(),Bo(e,t,o,i=uo(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,is=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Kr[Yr++]=Xr,Kr[Yr++]=Qr,Kr[Yr++]=Zr,Xr=e.id,Qr=e.overflow,Zr=t),t=Fo(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(o){o=r.fallback,l=t.mode,i=(a=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==i?o=Oc(i,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,l=null===(l=e.child.memoizedState)?zo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,r}return e=(o=e.child).sibling,r=Oc(o,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Fo(e,t){return(t=zc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Bo(e,t,n,i){return null!==i&&fs(i),Xs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ss(e.return,t,n)}function Uo(e,t,n,i,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function qo(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;if(xo(e,t,i.children,n),0!==(2&(i=oa.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ir(oa,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Uo(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===la(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Go(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Yo(e,t,n){var i=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Mr(t.type)&&Rr(),Ko(t),null;case 3:return i=t.stateNode,ra(),Tr(Ar),Tr(Cr),ua(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Ro(e,t),Ko(t),null;case 5:aa(t);var r=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=na($s.current),hs(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[dr]=t,i[pr]=a,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":X(i,a),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Fi("invalid",i);break;case"textarea":re(i,a),Fi("invalid",i)}for(var l in ve(n,a),r=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,c,e),r=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":W(i),$(i,a,!0);break;case"textarea":W(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=$i)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[pr]=i,Mo(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<Di.length;r++)Fi(Di[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":X(e,i),r=Z(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=z({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(a in ve(n,r),c=r)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Fi("scroll",e):null!=u&&_(e,a,u,l))}switch(n){case"input":W(e),$(e,i,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+H(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=$i)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na($s.current),hs(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(a=i.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ko(t),null;case 13:if(Tr(oa),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[dr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return ra(),Ro(e,t),null===e&&Ui(t.stateNode.containerInfo),Ko(t),null;case 10:return ws(t.type._context),Ko(t),null;case 19:if(Tr(oa),null===(a=t.memoizedState))return Ko(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Wo(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Wo(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ir(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>ql&&(t.flags|=128,i=!0,Wo(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=la(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!rs)return Ko(t),null}else 2*Qe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,i=!0,Wo(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=oa.current,Ir(oa,i?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Zo(e,t){switch(ts(t),t.tag){case 1:return Mr(t.type)&&Rr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ra(),Tr(Ar),Tr(Cr),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(Tr(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Tr(oa),null;case 4:return ra(),null;case 10:return ws(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Mo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Oo=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,na($s.current);var s,a=null;switch(n){case"input":r=Z(e,r),i=Z(e,i),a=[];break;case"select":r=z({},r,{value:void 0}),i=z({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=$i)}for(u in ve(n,i),n=null,r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&null!=r[u])if("style"===u){var l=r[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(l=null!=r?r[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fi("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,i){n!==i&&(t.flags|=4)};var Xo=!1,Qo=!1,Jo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Tc(e,t,i)}else n.current=null}function tl(e,t,n){try{n()}catch(i){Tc(e,t,i)}}var nl=!1;function il(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&tl(t,n,s)}r=r.next}while(r!==i)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[pr],delete t[mr],delete t[gr],delete t[yr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$i));else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(o){}switch(n.tag){case 5:Qo||el(n,t);case 6:var i=hl,r=dl;hl=null,pl(e,t,n),dl=r,null!==(hl=i)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Ut(e)):lr(hl,n.stateNode));break;case 4:i=hl,r=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=i,dl=r;break;case 0:case 11:case 14:case 15:if(!Qo&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),r=r.next}while(r!==i)}pl(e,t,n);break;case 1:if(!Qo&&(el(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){Tc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qo=(i=Qo)||null!==n.memoizedState,pl(e,t,n),Qo=i):pl(e,t,n);break;default:pl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Jo),t.forEach((function(t){var i=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));fl(a,o,r),hl=null,dl=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(u){Tc(r,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&i){try{il(3,e,e.return),rl(3,e)}catch(g){Tc(e,e.return,g)}try{il(5,e,e.return)}catch(g){Tc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&i&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&i&&null!==n&&el(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){Tc(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Q(r,a),_e(l,o);var u=_e(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,u)}switch(l){case"input":J(r,a);break;case"textarea":se(r,a);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(r,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[pr]=a}catch(g){Tc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&i){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){Tc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(g){Tc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(Ul=Qe())),4&i&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Qo=(u=Qo)||h,gl(t,e),Qo=u):gl(t,e),vl(e),8192&i){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($o=e,h=e.child;null!==h;){for(d=$o=h;null!==$o;){switch(f=(p=$o).child,p.tag){case 0:case 11:case 14:case 15:il(4,p,p.return);break;case 1:el(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){i=p,n=p.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tc(i,n,g)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){wl(d);continue}}null!==f?(f.return=p,$o=f):wl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,u?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){Tc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&i&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,ll(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){Tc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function _l(e,t,n){$o=e,bl(e,t,n)}function bl(e,t,n){for(var i=0!==(1&e.mode);null!==$o;){var r=$o,s=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Xo;if(!a){var o=r.alternate,l=null!==o&&null!==o.memoizedState||Qo;o=Xo;var c=Qo;if(Xo=a,(Qo=l)&&!c)for($o=r;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?Sl(r):null!==l?(l.return=a,$o=l):Sl(r);for(;null!==s;)$o=s,bl(s,t,n),s=s.sibling;$o=r,Xo=o,Qo=c}xl(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,$o=s):xl(e)}}function xl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qo||rl(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qo)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&js(t,a,i);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}js(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(s(163))}Qo||512&t.flags&&sl(t)}catch(p){Tc(t,t.return,p)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function wl(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Sl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Tc(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){Tc(t,r,l)}}var s=t.return;try{sl(t)}catch(l){Tc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){Tc(t,a,l)}}}catch(l){Tc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var El,Tl=Math.ceil,Il=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Al=0,Pl=null,Nl=null,Ml=0,Rl=0,Ol=Er(0),Dl=0,Ll=null,zl=0,jl=0,Fl=0,Bl=null,Vl=null,Ul=0,ql=1/0,Hl=null,Gl=!1,Wl=null,Kl=null,Yl=!1,Zl=null,Xl=0,Ql=0,Jl=null,$l=-1,ec=0;function tc(){return 0!==(6&Al)?Qe():-1!==$l?$l:$l=Qe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==Ml?Ml&-Ml:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function ic(e,t,n,i){if(50<Ql)throw Ql=0,Jl=null,Error(s(185));yt(e,n,i),0!==(2&Al)&&e===Pl||(e===Pl&&(0===(2&Al)&&(jl|=n),4===Dl&&lc(e,Ml)),rc(e,i),1===n&&0===Al&&0===(1&t.mode)&&(ql=Qe()+500,Fr&&Ur()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=dt(e,e===Pl?Ml:0);if(0===i)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Fr=!0,Vr(e)}(cc.bind(null,e)):Vr(cc.bind(null,e)),ar((function(){0===(6&Al)&&Ur()})),n=null;else{switch(bt(i)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Pc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(Sc()&&e.callbackNode!==n)return null;var i=dt(e,e===Pl?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=yc(e,i);else{t=i;var r=Al;Al|=2;var a=mc();for(Pl===e&&Ml===t||(Hl=null,ql=Qe()+500,pc(e,t));;)try{_c();break}catch(l){fc(e,l)}xs(),Il.current=a,Al=r,null!==Nl?t=0:(Pl=null,Ml=0,t=Dl)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(i=r,t=ac(e,r))),1===t)throw n=Ll,pc(e,0),lc(e,i),rc(e,Qe()),n;if(6===t)lc(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!oi(s(),r))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,i))&&(0!==(a=ft(e))&&(i=a,t=ac(e,a))),1===t))throw n=Ll,pc(e,0),lc(e,i),rc(e,Qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Vl,Hl);break;case 3:if(lc(e,i),(130023424&i)===i&&10<(t=Ul+500-Qe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){tc(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(wc.bind(null,e,Vl,Hl),t);break}wc(e,Vl,Hl);break;case 4:if(lc(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var o=31-at(i);a=1<<o,(o=t[o])>r&&(r=o),i&=~a}if(i=r,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Tl(i/1960))-i)){e.timeoutHandle=ir(wc.bind(null,e,Vl,Hl),i);break}wc(e,Vl,Hl);break;default:throw Error(s(329))}}}return rc(e,Qe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if(0!==(6&Al))throw Error(s(327));Sc();var t=dt(e,0);if(0===(1&t))return rc(e,Qe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var i=ft(e);0!==i&&(t=i,n=ac(e,i))}if(1===n)throw n=Ll,pc(e,0),lc(e,t),rc(e,Qe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Vl,Hl),rc(e,Qe()),null}function uc(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(ql=Qe()+500,Fr&&Ur())}}function hc(e){null!==Zl&&0===Zl.tag&&0===(6&Al)&&Sc();var t=Al;Al|=1;var n=Cl.transition,i=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=i,Cl.transition=n,0===(6&(Al=t))&&Ur()}}function dc(){Rl=Ol.current,Tr(Ol)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Nl)for(n=Nl.return;null!==n;){var i=n;switch(ts(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Rr();break;case 3:ra(),Tr(Ar),Tr(Cr),ua();break;case 5:aa(i);break;case 4:ra();break;case 13:case 19:Tr(oa);break;case 10:ws(i.type._context);break;case 22:case 23:dc()}n=n.return}if(Pl=e,Nl=e=Oc(e.current,null),Ml=Rl=t,Dl=0,Ll=null,Fl=jl=zl=0,Vl=Bl=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(i=(n=Is[t]).interleaved)){n.interleaved=null;var r=i.next,s=n.pending;if(null!==s){var a=s.next;s.next=r,i.next=a}n.pending=i}Is=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(xs(),ha.current=so,ya){for(var i=fa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ya=!1}if(pa=0,ga=ma=fa=null,va=!1,_a=0,kl.current=null,null===n||null===n.return){Dl=1,Ll=t,Nl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=yo(o);if(null!==f){f.flags&=-257,vo(f,o,l,0,t),1&f.mode&&go(a,u,t),c=u;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(rs&&1&l.mode){var y=yo(o);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),vo(y,o,l,0,t),fs(co(c,l));break e}}a=c=co(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[a]:Bl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,fo(0,c,t));break e;case 1:l=c;var v=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof v.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Kl||!Kl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}xc(n)}catch(b){t=b,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function mc(){var e=Il.current;return Il.current=so,null===e?so:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Pl||0===(268435455&zl)&&0===(268435455&jl)||lc(Pl,Ml)}function yc(e,t){var n=Al;Al|=2;var i=mc();for(Pl===e&&Ml===t||(Hl=null,pc(e,t));;)try{vc();break}catch(r){fc(e,r)}if(xs(),Al=n,Il.current=i,null!==Nl)throw Error(s(261));return Pl=null,Ml=0,Dl}function vc(){for(;null!==Nl;)bc(Nl)}function _c(){for(;null!==Nl&&!Ze();)bc(Nl)}function bc(e){var t=El(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,kl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Rl)))return void(Nl=n)}else{if(null!==(n=Zo(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var i=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,i){do{Sc()}while(null!==Zl);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),s=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~s}}(e,a),e===Pl&&(Nl=Pl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Pc(tt,(function(){return Sc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var o=_t;_t=1;var l=Al;Al|=4,kl.current=null,function(e,t){if(er=Ht,pi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(x){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==r&&3!==d.nodeType||(l=o+r),d!==a||0!==i&&3!==d.nodeType||(c=o+i),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===r&&(l=o),p===a&&++h===i&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,_=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){Tc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}m=nl,nl=!1}(e,n),yl(n,e),fi(tr),Ht=!!er,tr=er=null,e.current=n,_l(n,e,r),Xe(),Al=l,_t=o,Cl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Zl=e,Xl=r),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gl)throw Gl=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&Sc(),a=e.pendingLanes,0!==(1&a)?e===Jl?Ql++:(Ql=0,Jl=e):Ql=0,Ur()}(e,t,n,i)}finally{Cl.transition=r,_t=i}return null}function Sc(){if(null!==Zl){var e=bt(Xl),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Zl)var i=!1;else{if(e=Zl,Zl=null,Xl=0,0!==(6&Al))throw Error(s(331));var r=Al;for(Al|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var h=$o;switch(h.tag){case 0:case 11:case 15:il(8,h,a)}var d=h.child;if(null!==d)d.return=h,$o=d;else for(;null!==$o;){var p=(h=$o).sibling,f=h.return;if(al(h),h===u){$o=null;break}if(null!==p){p.return=f,$o=p;break}$o=f}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var v=a.sibling;if(null!==v){v.return=a.return,$o=v;break e}$o=a.return}}var _=e.current;for($o=_;null!==$o;){var b=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,$o=b;else e:for(o=_;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Tc(l,l.return,w)}if(l===o){$o=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,$o=x;break e}$o=l.return}}if(Al=r,Ur(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(w){}i=!0}return i}finally{_t=n,Cl.transition=t}}return!1}function Ec(e,t,n){e=Os(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),rc(e,t))}function Tc(e,t,n){if(3===e.tag)Ec(e,e,n);else for(;null!==t;){if(3===t.tag){Ec(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Kl||!Kl.has(i))){t=Os(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ic(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ml&n)===n&&(4===Dl||3===Dl&&(130023424&Ml)===Ml&&500>Qe()-Ul?pc(e,0):Fl|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=As(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}null!==i&&i.delete(t),kc(e,n)}function Pc(e,t){return Ke(e,t)}function Nc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,i){return new Nc(e,t,n,i)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,i,r,a){var o=2;if(i=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case S:return Lc(n.children,r,a,t);case E:o=8,r|=8;break;case T:return(e=Mc(12,n,t,2|r)).elementType=T,e.lanes=a,e;case A:return(e=Mc(13,n,t,r)).elementType=A,e.lanes=a,e;case P:return(e=Mc(19,n,t,r)).elementType=P,e.lanes=a,e;case R:return zc(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:o=10;break e;case k:o=9;break e;case C:o=11;break e;case N:o=14;break e;case M:o=16,i=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Mc(o,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function Lc(e,t,n,i){return(e=Mc(7,e,i,t)).lanes=n,e}function zc(e,t,n,i){return(e=Mc(22,e,i,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,i,r,s,a,o,l){return e=new Bc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Mc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ns(s),e}function Uc(e){if(!e)return kr;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Mr(n))return Dr(e,n,t)}return t}function qc(e,t,n,i,r,s,a,o,l){return(e=Vc(n,i,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=Rs(i=tc(),r=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,r),e.current.lanes=r,yt(e,r,i),rc(e,i),e}function Hc(e,t,n,i){var r=t.current,s=tc(),a=nc(r);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Os(r,t,a))&&(ic(e,r,a,s),Ds(e,r,a)),a}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ar.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Po(t),ps();break;case 5:sa(t);break;case 1:Mr(t.type)&&Lr(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Ir(ys,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Ir(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(Ir(oa,1&oa.current),null!==(e=Go(e,t,n))?e.sibling:null);Ir(oa,1&oa.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return qo(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ir(oa,oa.current),i)break;return null;case 22:case 23:return t.lanes=0,To(e,t,n)}return Go(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,rs&&0!==(1048576&t.flags)&&$r(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Ho(e,t),e=t.pendingProps;var r=Nr(t,Cr.current);Es(t,n),r=Sa(null,t,i,e,r,n);var a=Ea();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(a=!0,Lr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ns(t),r.updater=Vs,t.stateNode=r,r._reactInternals=t,Gs(t,i,e,n),t=Ao(null,t,i,!0,a,n)):(t.tag=0,rs&&a&&es(t),xo(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===N)return 14}return 2}(i),e=gs(i,e),r){case 0:t=ko(null,t,i,e,n);break e;case 1:t=Co(null,t,i,e,n);break e;case 11:t=wo(null,t,i,e,n);break e;case 14:t=So(null,t,i,gs(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,ko(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 1:return i=t.type,r=t.pendingProps,Co(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 3:e:{if(Po(t),null===e)throw Error(s(387));i=t.pendingProps,r=(a=t.memoizedState).element,Ms(e,t),zs(t,i,null,n);var o=t.memoizedState;if(i=o.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=No(e,t,i,n,r=co(Error(s(423)),t));break e}if(i!==r){t=No(e,t,i,n,r=co(Error(s(424)),t));break e}for(is=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=Qs(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),i===r){t=Go(e,t,n);break e}xo(e,t,i,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,o=r.children,nr(i,r)?o=null:null!==a&&nr(i,a)&&(t.flags|=32),Io(e,t),xo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=Xs(t,null,i,n):xo(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,wo(e,t,i,r=t.elementType===i?r:gs(i,r),n);case 7:return xo(e,t,t.pendingProps,n),t.child;case 8:case 12:return xo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,o=r.value,Ir(ys,i._currentValue),i._currentValue=o,null!==a)if(oi(a.value,o)){if(a.children===r.children&&!Ar.current){t=Go(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===a.tag){(c=Rs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ss(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ss(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}xo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Es(t,n),i=i(r=Ts(r)),t.flags|=1,xo(e,t,i,n),t.child;case 14:return r=gs(i=t.type,t.pendingProps),So(e,t,i,r=gs(i.type,r),n);case 15:return Eo(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:gs(i,r),Ho(e,t),t.tag=1,Mr(i)?(e=!0,Lr(t)):e=!1,Es(t,n),qs(t,i,r),Gs(t,i,r,n),Ao(null,t,i,!0,e,n);case 19:return qo(e,t,n);case 22:return To(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof r){var o=r;r=function(){var e=Gc(a);o.call(e)}}Hc(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var s=i;i=function(){var e=Gc(a);s.call(e)}}var a=qc(t,i,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[fr]=a.current,Ui(8===e.nodeType?e.parentNode:e),hc(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var o=i;i=function(){var e=Gc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[fr]=l.current,Ui(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,i)})),l}(n,t,e,r,i);return Gc(a)}Xc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Xc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[fr]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Qe()),0===(6&Al)&&(ql=Qe()+500,Ur()))}break;case 13:hc((function(){var t=As(e,1);if(null!==t){var n=tc();ic(t,e,1,n)}})),Kc(e,1)}},wt=function(e){if(13===e.tag){var t=As(e,134217728);if(null!==t)ic(t,e,134217728,tc());Kc(e,134217728)}},St=function(e){if(13===e.tag){var t=nc(e),n=As(e,t);if(null!==n)ic(n,e,t,tc());Kc(e,t)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=xr(i);if(!r)throw Error(s(90));K(i),J(i,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=uc,Ae=hc;var tu={usingClientEntryPoint:!1,Events:[_r,br,xr,Ie,ke,uc]},nu={findFiberByHostInstance:vr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{rt=ru.inject(iu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,i="",r=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,i,r),e[fr]=t.current,Ui(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,r,0,a,o),e[fr]=t.current,Ui(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Xc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Jc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,i)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{"use strict";var i=n(164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},164:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{"use strict";var i=n(791),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,s={},c=null,u=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(s[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===s[i]&&(s[i]=t[i]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,i){var r,s={},a=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,r)&&!E.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(1===l)s.children=i;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===s[r]&&(s[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:S.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,r,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,x(a)?(r="",null!=e&&(r=e.replace(k,"$&/")+"/"),A(a,t,r,"",(function(e){return e}))):null!=a&&(I(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",x(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=A(o,t,r,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=A(o=o.value,t,r,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var i=[],r=0;return A(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},O={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=r,t.Profiler=a,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=S.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!E.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=i;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:r,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{"use strict";e.exports=n(117)},184:(e,t,n)=>{"use strict";e.exports=n(374)},813:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<s(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<r&&0>s(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<r&&0>s(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(g=!1,b(e),!m)if(null!==i(c))m=!0,R(w);else{var t=i(u);null!==t&&O(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,v(I),I=-1),f=!0;var s=p;try{for(b(n),d=i(c);null!==d&&(!(d.expirationTime>n)||e&&!A());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===i(c)&&r(c),b(n)}else r(c);d=i(c)}if(null!==d)var l=!0;else{var h=i(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,I=-1,k=5,C=-1;function A(){return!(t.unstable_now()-C<k)}function P(){if(null!==T){var e=t.unstable_now();C=e;var n=!0;try{n=T(!0,e)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"===typeof _)S=function(){_(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,M=N.port2;N.port1.onmessage=P,S=function(){M.postMessage(null)}}else S=function(){y(P,0)};function R(e){T=e,E||(E=!0,S())}function O(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,R(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===i(c)&&e===i(u)&&(g?(v(I),I=-1):g=!0,O(x,s-a))):(e.sortIndex=o,n(c,e),m||f||(m=!0,R(w))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},296:(e,t,n)=>{"use strict";e.exports=n(813)},62:function(e){e.exports=function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="swal-button";t.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:i,CONFIRM_BUTTON:i+"--confirm",CANCEL_BUTTON:i+"--cancel",DANGER_BUTTON:i+"--danger",BUTTON_LOADING:i+"--loading",BUTTON_LOADER:i+"__loader"},t.default=t.CLASS_NAMES},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNode=function(e){var t="."+e;return document.querySelector(t)},t.stringToNode=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.insertAfter=function(e,t){var n=t.nextSibling;t.parentNode.insertBefore(e,n)},t.removeNode=function(e){e.parentElement.removeChild(e)},t.throwErr=function(e){throw"SweetAlert: "+(e=e.replace(/ +(?= )/g,"")).trim()},t.isPlainObject=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype},t.ordinalSuffixOf=function(e){var t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(25));var r=n(26);t.overlayMarkup=r.default,i(n(27)),i(n(28)),i(n(29));var s=n(0),a=s.default.MODAL_TITLE,o=s.default.MODAL_TEXT,l=s.default.ICON,c=s.default.FOOTER;t.iconMarkup='\n  <div class="'+l+'"></div>',t.titleMarkup='\n  <div class="'+a+'"></div>\n',t.textMarkup='\n  <div class="'+o+'"></div>',t.footerMarkup='\n  <div class="'+c+'"></div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);t.CONFIRM_KEY="confirm",t.CANCEL_KEY="cancel";var r={visible:!0,text:null,value:null,className:"",closeModal:!0},s=Object.assign({},r,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},r,{text:"OK",value:!0});t.defaultButtonList={cancel:s,confirm:a};var o=function(e){switch(e){case t.CONFIRM_KEY:return a;case t.CANCEL_KEY:return s;default:var n=e.charAt(0).toUpperCase()+e.slice(1);return Object.assign({},r,{text:n,value:e})}},l=function(e,t){var n=o(e);return!0===t?Object.assign({},n,{visible:!0}):"string"==typeof t?Object.assign({},n,{visible:!0,text:t}):i.isPlainObject(t)?Object.assign({visible:!0},n,t):Object.assign({},n,{visible:!1})},c=function(e){for(var t={},n=0,i=Object.keys(e);n<i.length;n++){var r=i[n],a=e[r],o=l(r,a);t[r]=o}return t.cancel||(t.cancel=s),t},u=function(e){var n={};switch(e.length){case 1:n[t.CANCEL_KEY]=Object.assign({},s,{visible:!1});break;case 2:n[t.CANCEL_KEY]=l(t.CANCEL_KEY,e[0]),n[t.CONFIRM_KEY]=l(t.CONFIRM_KEY,e[1]);break;default:i.throwErr("Invalid number of 'buttons' in array ("+e.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};t.getButtonListOpts=function(e){var n=t.defaultButtonList;return"string"==typeof e?n[t.CONFIRM_KEY]=l(t.CONFIRM_KEY,e):Array.isArray(e)?n=u(e):i.isPlainObject(e)?n=c(e):!0===e?n=u([!0,!0]):!1===e?n=u([!1,!1]):void 0===e&&(n=t.defaultButtonList),n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(2),s=n(0),a=s.default.MODAL,o=s.default.OVERLAY,l=n(30),c=n(31),u=n(32),h=n(33);t.injectElIntoModal=function(e){var t=i.getNode(a),n=i.stringToNode(e);return t.appendChild(n),n};var d=function(e){e.className=a,e.textContent=""},p=function(e,t){d(e);var n=t.className;n&&e.classList.add(n)};t.initModalContent=function(e){var t=i.getNode(a);p(t,e),l.default(e.icon),c.initTitle(e.title),c.initText(e.text),h.default(e.content),u.default(e.buttons,e.dangerMode)};var f=function(){var e=i.getNode(o),t=i.stringToNode(r.modalMarkup);e.appendChild(t)};t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r={isOpen:!1,promise:null,actions:{},timer:null},s=Object.assign({},r);t.resetState=function(){s=Object.assign({},r)},t.setActionValue=function(e){if("string"==typeof e)return a(i.CONFIRM_KEY,e);for(var t in e)a(t,e[t])};var a=function(e,t){s.actions[e]||(s.actions[e]={}),Object.assign(s.actions[e],{value:t})};t.setActionOptionsFor=function(e,t){var n=(void 0===t?{}:t).closeModal,i=void 0===n||n;Object.assign(s.actions[e],{closeModal:i})},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(0),a=s.default.OVERLAY,o=s.default.SHOW_MODAL,l=s.default.BUTTON,c=s.default.BUTTON_LOADING,u=n(5);t.openModal=function(){i.getNode(a).classList.add(o),u.default.isOpen=!0};var h=function(){i.getNode(a).classList.remove(o),u.default.isOpen=!1};t.onAction=function(e){void 0===e&&(e=r.CANCEL_KEY);var t=u.default.actions[e],n=t.value;if(!1===t.closeModal){var s=l+"--"+e;i.getNode(s).classList.add(c)}else h();u.default.promise.resolve(n)},t.getState=function(){var e=Object.assign({},u.default);return delete e.promise,delete e.timer,e},t.stopLoading=function(){for(var e=document.querySelectorAll("."+l),t=0;t<e.length;t++)e[t].classList.remove(c)}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){(function(t){e.exports=t.sweetAlert=n(9)}).call(t,n(7))},function(e,t,n){(function(t){e.exports=t.swal=n(10)}).call(t,n(7))},function(e,t,n){"undefined"!=typeof window&&n(11),n(16);var i=n(23).default;e.exports=i},function(e,t,n){var i=n(12);"string"==typeof i&&(i=[[e.i,i,""]]);var r={insertAt:"top",transform:void 0};n(14)(i,r),i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(13)(void 0)).push([e.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(e,t){function n(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var s=i(r);return[n].concat(r.sources.map((function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"}))).concat([s]).join("\n")}return[n].join("\n")}function i(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=n(t,e);return t[2]?"@media "+t[2]+"{"+i+"}":i})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(i[s]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=f[i.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](i.parts[s]);for(;s<i.parts.length;s++)r.parts.push(u(i.parts[s],t))}else{var a=[];for(s=0;s<i.parts.length;s++)a.push(u(i.parts[s],t));f[i.id]={id:i.id,refs:1,parts:a}}}}function r(e,t){for(var n=[],i={},r=0;r<e.length;r++){var s=e[r],a=t.base?s[0]+t.base:s[0],o={css:s[1],media:s[2],sourceMap:s[3]};i[a]?i[a].parts.push(o):n.push(i[a]={id:a,parts:[o]})}return n}function s(e,t){var n=g(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=_[_.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),_.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=_.indexOf(e);t>=0&&_.splice(t,1)}function o(e){var t=document.createElement("style");return e.attrs.type="text/css",c(t,e.attrs),s(e,t),t}function l(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",c(t,e.attrs),s(e,t),t}function c(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}function u(e,t){var n,i,r,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var c=v++;n=y||(y=o(t)),i=h.bind(null,n,c,!1),r=h.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(t),i=p.bind(null,n,t),r=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),i=d.bind(null,n),r=function(){a(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function h(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=x(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}function d(e,t){var n=t.css,i=t.media;if(i&&e.setAttribute("media",i),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function p(e,t,n){var i=n.css,r=n.sourceMap,s=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||s)&&(i=b(i)),r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var f={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}((function(){return window&&document&&document.all&&!window.atob})),g=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e.call(this,n)),t[n]}}((function(e){return document.querySelector(e)})),y=null,v=0,_=[],b=n(15);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=r(e,t);return i(n,t),function(e){for(var s=[],a=0;a<n.length;a++){var o=n[a];(l=f[o.id]).refs--,s.push(l)}for(e&&i(r(e,t),t),a=0;a<s.length;a++){var l;if(0===(l=s[a]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var x=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(e,t){var r,s=t.trim().replace(/^"(.*)"$/,(function(e,t){return t})).replace(/^'(.*)'$/,(function(e,t){return t}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?e:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?n+s:i+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")}))}},function(e,t,n){var i=n(17);"undefined"==typeof window||window.Promise||(window.Promise=i),n(21),String.prototype.includes||(String.prototype.includes=function(e,t){"use strict";return"number"!=typeof t&&(t=0),!(t+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),i=n.length>>>0;if(0===i)return!1;for(var r=0|t,s=Math.max(r>=0?r:i-Math.abs(r),0);s<i;){if(function(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}(n[s],e))return!0;s++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(e,t,n){(function(t){!function(n){function i(){}function r(e,t){return function(){e.apply(t,arguments)}}function s(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,s._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void l(t.promise,e)}o(t.promise,i)}else(1===e._state?o:l)(t.promise,e._value)}))):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof s)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void h(r(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&s._immediateFn((function(){e._handled||s._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function h(e,t){var n=!1;try{e((function(e){n||(n=!0,o(t,e))}),(function(e){n||(n=!0,l(t,e))}))}catch(e){if(n)return;n=!0,l(t,e)}}var d=setTimeout;s.prototype.catch=function(e){return this.then(null,e)},s.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new u(e,t,n)),n},s.all=function(e){var t=Array.prototype.slice.call(e);return new s((function(e,n){function i(s,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var o=a.then;if("function"==typeof o)return void o.call(a,(function(e){i(s,e)}),n)}t[s]=a,0==--r&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var r=t.length,s=0;s<t.length;s++)i(s,t[s])}))},s.resolve=function(e){return e&&"object"==typeof e&&e.constructor===s?e:new s((function(t){t(e)}))},s.reject=function(e){return new s((function(t,n){n(e)}))},s.race=function(e){return new s((function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)}))},s._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){d(e,0)},s._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},s._setImmediateFn=function(e){s._immediateFn=e},s._setUnhandledRejectionFn=function(e){s._unhandledRejectionFn=e},void 0!==e&&e.exports?e.exports=s:n.Promise||(n.Promise=s)}(this)}).call(t,n(18).setImmediate)},function(e,t,n){function i(e,t){this._id=e,this._clearFn=t}var r=Function.prototype.apply;t.setTimeout=function(){return new i(r.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(r.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(19),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){(function(e,t){!function(e,n){"use strict";function i(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[l]=i,o(l),l++}function r(e){delete c[e]}function s(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function a(e){if(u)setTimeout(a,0,e);else{var t=c[e];if(t){u=!0;try{s(t)}finally{r(e),u=!1}}}}if(!e.setImmediate){var o,l=1,c={},u=!1,h=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?o=function(e){t.nextTick((function(){a(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),o=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},o=function(t){e.port2.postMessage(t)}}():h&&"onreadystatechange"in h.createElement("script")?function(){var e=h.documentElement;o=function(t){var n=h.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():o=function(e){setTimeout(a,0,e)},d.setImmediate=i,d.clearImmediate=r}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(7),n(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function r(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function s(e){if(h===clearTimeout)return clearTimeout(e);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(e);try{return h(e)}catch(t){try{return h.call(null,e)}catch(t){return h.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?f=p.concat(f):g=-1,f.length&&o())}function o(){if(!m){var e=r(a);m=!0;for(var t=f.length;t;){for(p=f,f=[];++g<t;)p&&p[g].run();g=-1,t=f.length}p=null,m=!1,s(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var u,h,d=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(e){h=i}}();var p,f=[],m=!1,g=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new l(e,t)),1!==f.length||m||r(o)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){"use strict";n(22).polyfill()},function(e,t,n){"use strict";function i(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),i=1;i<arguments.length;i++){var r=arguments[i];if(void 0!==r&&null!==r)for(var s=Object.keys(Object(r)),a=0,o=s.length;a<o;a++){var l=s[a],c=Object.getOwnPropertyDescriptor(r,l);void 0!==c&&c.enumerable&&(n[l]=r[l])}}return n}function r(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:i})}e.exports={assign:i,polyfill:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(24),r=n(6),s=n(5),a=n(36),o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,e);return new Promise((function(e,t){s.default.promise={resolve:e,reject:t},i.default(n),setTimeout((function(){r.openModal()}))}))}};o.close=r.onAction,o.getState=r.getState,o.setActionValue=s.setActionValue,o.stopLoading=r.stopLoading,o.setDefaults=a.setDefaults,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(0).default.MODAL,s=n(4),a=n(34),o=n(35),l=n(1);t.init=function(e){i.getNode(r)||(document.body||l.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),a.default(),s.default()),s.initModalContent(e),o.default(e)},t.default=t.init},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.MODAL;t.modalMarkup='\n  <div class="'+i+'" role="dialog" aria-modal="true"></div>',t.default=t.modalMarkup},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.ICON;t.errorIconMarkup=function(){var e=i+"--error",t=e+"__line";return'\n    <div class="'+e+'__x-mark">\n      <span class="'+t+" "+t+'--left"></span>\n      <span class="'+t+" "+t+'--right"></span>\n    </div>\n  '},t.warningIconMarkup=function(){var e=i+"--warning";return'\n    <span class="'+e+'__body">\n      <span class="'+e+'__dot"></span>\n    </span>\n  '},t.successIconMarkup=function(){var e=i+"--success";return'\n    <span class="'+e+"__line "+e+'__line--long"></span>\n    <span class="'+e+"__line "+e+'__line--tip"></span>\n\n    <div class="'+e+'__ring"></div>\n    <div class="'+e+'__hide-corners"></div>\n  '}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0).default.CONTENT;t.contentMarkup='\n  <div class="'+i+'">\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=i.default.BUTTON_CONTAINER,s=i.default.BUTTON,a=i.default.BUTTON_LOADER;t.buttonMarkup='\n  <div class="'+r+'">\n\n    <button\n      class="'+s+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(4),r=n(2),s=n(0),a=s.default.ICON,o=s.default.ICON_CUSTOM,l=["error","warning","success","info"],c={error:r.errorIconMarkup(),warning:r.warningIconMarkup(),success:r.successIconMarkup()},u=function(e,t){var n=a+"--"+e;t.classList.add(n);var i=c[e];i&&(t.innerHTML=i)},h=function(e,t){t.classList.add(o);var n=document.createElement("img");n.src=e,t.appendChild(n)},d=function(e){if(e){var t=i.injectElIntoModal(r.iconMarkup);l.includes(e)?u(e,t):h(e,t)}};t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),r=n(4),s=function(e){navigator.userAgent.includes("AppleWebKit")&&(e.style.display="none",e.offsetHeight,e.style.display="")};t.initTitle=function(e){if(e){var t=r.injectElIntoModal(i.titleMarkup);t.textContent=e,s(t)}},t.initText=function(e){if(e){var t=document.createDocumentFragment();e.split("\n").forEach((function(e,n,i){t.appendChild(document.createTextNode(e)),n<i.length-1&&t.appendChild(document.createElement("br"))}));var n=r.injectElIntoModal(i.textMarkup);n.appendChild(t),s(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(4),s=n(0),a=s.default.BUTTON,o=s.default.DANGER_BUTTON,l=n(3),c=n(2),u=n(6),h=n(5),d=function(e,t,n){var r=t.text,s=t.value,d=t.className,p=t.closeModal,f=i.stringToNode(c.buttonMarkup),m=f.querySelector("."+a),g=a+"--"+e;m.classList.add(g),d&&(Array.isArray(d)?d:d.split(" ")).filter((function(e){return e.length>0})).forEach((function(e){m.classList.add(e)})),n&&e===l.CONFIRM_KEY&&m.classList.add(o),m.textContent=r;var y={};return y[e]=s,h.setActionValue(y),h.setActionOptionsFor(e,{closeModal:p}),m.addEventListener("click",(function(){return u.onAction(e)})),f},p=function(e,t){var n=r.injectElIntoModal(c.footerMarkup);for(var i in e){var s=e[i],a=d(i,s,t);s.visible&&n.appendChild(a)}0===n.children.length&&n.remove()};t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=n(4),s=n(2),a=n(5),o=n(6),l=n(0).default.CONTENT,c=function(e){e.addEventListener("input",(function(e){var t=e.target.value;a.setActionValue(t)})),e.addEventListener("keyup",(function(e){if("Enter"===e.key)return o.onAction(i.CONFIRM_KEY)})),setTimeout((function(){e.focus(),a.setActionValue("")}),0)},u=function(e,t,n){var i=document.createElement(t),r=l+"__"+t;for(var s in i.classList.add(r),n){var a=n[s];i[s]=a}"input"===t&&c(i),e.appendChild(i)},h=function(e){if(e){var t=r.injectElIntoModal(s.contentMarkup),n=e.element,i=e.attributes;"string"==typeof n?u(t,n,i):t.appendChild(n)}};t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(2),s=function(){var e=i.stringToNode(r.overlayMarkup);document.body.appendChild(e)};t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),r=n(6),s=n(1),a=n(3),o=n(0),l=o.default.MODAL,c=o.default.BUTTON,u=o.default.OVERLAY,h=function(e){e.preventDefault(),g()},d=function(e){e.preventDefault(),y()},p=function(e){if(i.default.isOpen&&"Escape"===e.key)return r.onAction(a.CANCEL_KEY)},f=function(e){if(i.default.isOpen&&"Tab"===e.key)return h(e)},m=function(e){if(i.default.isOpen)return"Tab"===e.key&&e.shiftKey?d(e):void 0},g=function(){var e=s.getNode(c);e&&(e.tabIndex=0,e.focus())},y=function(){var e=s.getNode(l).querySelectorAll("."+c),t=e[e.length-1];t&&t.focus()},v=function(e){e[e.length-1].addEventListener("keydown",f)},_=function(e){e[0].addEventListener("keydown",m)},b=function(){var e=s.getNode(l).querySelectorAll("."+c);e.length&&(v(e),_(e))},x=function(e){if(s.getNode(u)===e.target)return r.onAction(a.CANCEL_KEY)},w=function(e){var t=s.getNode(u);t.removeEventListener("click",x),e&&t.addEventListener("click",x)},S=function(e){i.default.timer&&clearTimeout(i.default.timer),e&&(i.default.timer=window.setTimeout((function(){return r.onAction(a.CANCEL_KEY)}),e))},E=function(e){e.closeOnEsc?document.addEventListener("keyup",p):document.removeEventListener("keyup",p),e.dangerMode?g():y(),b(),w(e.closeOnClickOutside),S(e.timer)};t.default=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r=n(3),s=n(37),a=n(38),o={title:null,text:null,icon:null,buttons:r.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},l=Object.assign({},o);t.setDefaults=function(e){l=Object.assign({},o,e)};var c=function(e){var t=e&&e.button,n=e&&e.buttons;return void 0!==t&&void 0!==n&&i.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==t?{confirm:t}:n},u=function(e){return i.ordinalSuffixOf(e+1)},h=function(e,t){i.throwErr(u(t)+" argument ('"+e+"') is invalid")},d=function(e,t){var n=e+1,r=t[n];i.isPlainObject(r)||void 0===r||i.throwErr("Expected "+u(n)+" argument ('"+r+"') to be a plain object")},p=function(e,t){var n=e+1,r=t[n];void 0!==r&&i.throwErr("Unexpected "+u(n)+" argument ("+r+")")},f=function(e,t,n,r){var s=t instanceof Element;if("string"===typeof t){if(0===n)return{text:t};if(1===n)return{text:t,title:r[0]};if(2===n)return d(n,r),{icon:t};h(t,n)}else{if(s&&0===n)return d(n,r),{content:t};if(i.isPlainObject(t))return p(n,r),t;h(t,n)}};t.getOpts=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={};e.forEach((function(t,i){var r=f(0,t,i,e);Object.assign(n,r)}));var i=c(n);n.buttons=r.getButtonListOpts(i),delete n.button,n.content=s.getContentOpts(n.content);var u=Object.assign({},o,l,n);return Object.keys(u).forEach((function(e){a.DEPRECATED_OPTS[e]&&a.logDeprecation(e)})),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),r={element:"input",attributes:{placeholder:""}};t.getContentOpts=function(e){var t={};return i.isPlainObject(e)?Object.assign(t,e):e instanceof Element?{element:e}:"input"===e?r:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logDeprecation=function(e){var n=t.DEPRECATED_OPTS[e],i=n.onlyRename,r=n.replacement,s=n.subOption,a=n.link,o='SweetAlert warning: "'+e+'" option has been '+(i?"renamed":"deprecated")+".";r&&(o+=" Please use"+(s?' "'+s+'" in ':" ")+'"'+r+'" instead.');var l="https://sweetalert.js.org";o+=a?" More details: "+l+a:" More details: "+l+"/guides/#upgrading-from-1x",console.warn(o)},t.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])},596:function(e){e.exports=function(){"use strict";var e,t,n;function i(i,r){if(e)if(t){var s="var sharedChunk = {}; ("+e+")(sharedChunk); ("+t+")(sharedChunk);",a={};e(a),n=r(a),"undefined"!==typeof window&&(n.workerUrl=window.URL.createObjectURL(new Blob([s],{type:"text/javascript"})))}else t=r;else e=r}return i(["exports"],(function(e){function t(e,t,n,i){return new(n||(n=Promise))((function(r,s){function a(e){try{l(i.next(e))}catch(e){s(e)}}function o(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((i=i.apply(e,t||[])).next())}))}function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}"function"==typeof SuppressedError&&SuppressedError;var i=r;function r(e,t){this.x=e,this.y=t}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),i=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),i=Math.sin(e),r=t.y+i*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-i*(this.y-t.y),this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},r.convert=function(e){return e instanceof r?e:Array.isArray(e)?new r(e[0],e[1]):e};var s=n(i),a=o;function o(e,t,n,i){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(i-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=i}o.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,i=0;i<8;i++){var r=this.sampleCurveX(n)-e;if(Math.abs(r)<t)return n;var s=this.sampleCurveDerivativeX(n);if(Math.abs(s)<1e-6)break;n-=r/s}var a=0,o=1;for(n=e,i=0;i<20&&(r=this.sampleCurveX(n),!(Math.abs(r-e)<t));i++)e>r?a=n:o=n,n=.5*(o-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}};var l=n(a);let c,u;function h(){return null==c&&(c="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),c}function d(){if(null==u&&(u=!1,h())){const e=5,t=new OffscreenCanvas(e,e).getContext("2d",{willReadFrequently:!0});if(t){for(let i=0;i<e*e;i++){const n=4*i;t.fillStyle="rgb(".concat(n,",").concat(n+1,",").concat(n+2,")"),t.fillRect(i%e,Math.floor(i/e),1,1)}const n=t.getImageData(0,0,e,e).data;for(let t=0;t<e*e*4;t++)if(t%4!=3&&n[t]!==t){u=!0;break}}}return u||!1}function p(e,t,n,i){const r=new l(e,t,n,i);return function(e){return r.solve(e)}}const f=p(.25,.1,.25,1);function m(e,t,n){return Math.min(n,Math.max(t,e))}function g(e,t,n){const i=n-t,r=((e-t)%i+i)%i+t;return r===t?n:r}function y(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}let v=1;function _(e,t,n){const i={};for(const r in e)i[r]=t.call(n||this,e[r],r,e);return i}function b(e,t,n){const i={};for(const r in e)t.call(n||this,e[r],r,e)&&(i[r]=e[r]);return i}function x(e){return Array.isArray(e)?e.map(x):"object"==typeof e&&e?_(e,x):e}const w={};function S(e){w[e]||("undefined"!=typeof console&&console.warn(e),w[e]=!0)}function E(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function T(e){let t=0;for(let n,i,r=0,s=e.length,a=s-1;r<s;a=r++)n=e[r],i=e[a],t+=(i.x-n.x)*(n.y+i.y);return t}function I(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}let k=null;function C(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function P(e,n,i,r,s){return t(this,void 0,void 0,(function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const t=new VideoFrame(e,{timestamp:0});try{const a=null==t?void 0:t.format;if(!a||!a.startsWith("BGR")&&!a.startsWith("RGB"))throw new Error("Unrecognized format ".concat(a));const o=a.startsWith("BGR"),l=new Uint8ClampedArray(r*s*4);if(yield t.copyTo(l,function(e,t,n,i,r){const s=4*Math.max(-t,0),a=(Math.max(0,n)-n)*i*4+s,o=4*i,l=Math.max(0,t),c=Math.max(0,n);return{rect:{x:l,y:c,width:Math.min(e.width,t+i)-l,height:Math.min(e.height,n+r)-c},layout:[{offset:a,stride:o}]}}(e,n,i,r,s)),o)for(let e=0;e<l.length;e+=4){const t=l[e];l[e]=l[e+2],l[e+2]=t}return l}finally{t.close()}}))}let N,M,R,O;const D={now:"undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),frame(e){const t=requestAnimationFrame(e);return{cancel:()=>cancelAnimationFrame(t)}},getImageData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){const t=window.document.createElement("canvas"),n=t.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n},resolveURL:e=>(R||(R=document.createElement("a")),R.href=e,R.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return!!matchMedia&&(null==O&&(O=matchMedia("(prefers-reduced-motion: reduce)")),O.matches)}},L={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};class z extends Error{constructor(e,t,n,i){super("AJAXError: ".concat(t," (").concat(e,"): ").concat(n)),this.status=e,this.statusText=t,this.url=n,this.body=i}}const j=I()?()=>self.worker&&self.worker.referrer:()=>("blob:"===window.location.protocol?window.parent:window).location.href,F=e=>L.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))];function B(e,t){const n=new AbortController,i=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:j(),signal:n.signal});let r=!1,s=!1;return"json"===e.type&&i.headers.set("Accept","application/json"),s||fetch(i).then((n=>n.ok?(n=>{("arrayBuffer"===e.type||"image"===e.type?n.arrayBuffer():"json"===e.type?n.json():n.text()).then((e=>{s||(r=!0,t(null,e,n.headers.get("Cache-Control"),n.headers.get("Expires")))})).catch((e=>{s||t(new Error(e.message))}))})(n):n.blob().then((i=>t(new z(n.status,n.statusText,e.url,i)))))).catch((e=>{20!==e.code&&t(new Error(e.message))})),{cancel:()=>{s=!0,r||n.abort()}}}const V=function(e,t){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t);if(!I())return(F(e.url)||B)(e,t)}if(!(/^file:/.test(n=e.url)||/^file:/.test(j())&&!/^\w+:/.test(n))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return B(e,t);if(I()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",e,t,void 0,!0)}var n;return function(e,t){const n=new XMLHttpRequest;n.open(e.method||"GET",e.url,!0),"arrayBuffer"!==e.type&&"image"!==e.type||(n.responseType="arraybuffer");for(const i in e.headers)n.setRequestHeader(i,e.headers[i]);return"json"===e.type&&(n.responseType="text",n.setRequestHeader("Accept","application/json")),n.withCredentials="include"===e.credentials,n.onerror=()=>{t(new Error(n.statusText))},n.onload=()=>{if((n.status>=200&&n.status<300||0===n.status)&&null!==n.response){let i=n.response;if("json"===e.type)try{i=JSON.parse(n.response)}catch(e){return t(e)}t(null,i,n.getResponseHeader("Cache-Control"),n.getResponseHeader("Expires"))}else{const i=new Blob([n.response],{type:n.getResponseHeader("Content-Type")});t(new z(n.status,n.statusText,e.url,i))}},n.send(e.body),{cancel:()=>n.abort()}}(e,t)},U=function(e,t){return V(y(e,{type:"arrayBuffer"}),t)};function q(e){if(!e||e.indexOf("://")<=0||0===e.indexOf("data:image/")||0===e.indexOf("blob:"))return!0;const t=new URL(e),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function H(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function G(e,t,n){if(n&&n[e]){const i=n[e].indexOf(t);-1!==i&&n[e].splice(i,1)}}class W{constructor(e){y(this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.type=e}}class K extends W{constructor(e){super("error",y({error:e},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}}class Y{on(e,t){return this._listeners=this._listeners||{},H(e,t,this._listeners),this}off(e,t){return G(e,t,this._listeners),G(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},H(e,t,this._oneTimeListeners),this):new Promise((t=>this.once(e,t)))}fire(e,t){"string"==typeof e&&(e=new W(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const i=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const s of i)G(n,s,this._oneTimeListeners),s.call(this,e);const r=this._eventedParent;r&&(y(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),r.fire(e))}else e instanceof K&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var Z={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}};const X=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function Q(e,t){const n={};for(const i in e)"ref"!==i&&(n[i]=e[i]);return X.forEach((e=>{e in t&&(n[e]=t[e])})),n}function J(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!J(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!J(e[n],t[n]))return!1;return!0}return e===t}const $={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function ee(e,t,n){n.push({command:$.addSource,args:[e,t[e]]})}function te(e,t,n){t.push({command:$.removeSource,args:[e]}),n[e]=!0}function ne(e,t,n,i){te(e,n,i),ee(e,t,n)}function ie(e,t,n){let i;for(i in e[n])if(Object.prototype.hasOwnProperty.call(e[n],i)&&"data"!==i&&!J(e[n][i],t[n][i]))return!1;for(i in t[n])if(Object.prototype.hasOwnProperty.call(t[n],i)&&"data"!==i&&!J(e[n][i],t[n][i]))return!1;return!0}function re(e,t,n,i,r,s){let a;for(a in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,a)&&(J(e[a],t[a])||n.push({command:s,args:[i,a,t[a],r]}));for(a in t)Object.prototype.hasOwnProperty.call(t,a)&&!Object.prototype.hasOwnProperty.call(e,a)&&(J(e[a],t[a])||n.push({command:s,args:[i,a,t[a],r]}))}function se(e){return e.id}function ae(e,t){return e[t.id]=t,e}class oe{constructor(e,t,n,i){this.message=(e?"".concat(e,": "):"")+n,i&&(this.identifier=i),null!=t&&t.__line__&&(this.line=t.__line__)}}function le(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(const r of n)for(const t in r)e[t]=r[t];return e}class ce extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class ue{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.parent=e,this.bindings={};for(const[n,i]of t)this.bindings[n]=i}concat(e){return new ue(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error("".concat(e," not found in scope."))}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const he={kind:"null"},de={kind:"number"},pe={kind:"string"},fe={kind:"boolean"},me={kind:"color"},ge={kind:"object"},ye={kind:"value"},ve={kind:"collator"},_e={kind:"formatted"},be={kind:"padding"},xe={kind:"resolvedImage"},we={kind:"variableAnchorOffsetCollection"};function Se(e,t){return{kind:"array",itemType:e,N:t}}function Ee(e){if("array"===e.kind){const t=Ee(e.itemType);return"number"==typeof e.N?"array<".concat(t,", ").concat(e.N,">"):"value"===e.itemType.kind?"array":"array<".concat(t,">")}return e.kind}const Te=[he,de,pe,fe,me,_e,ge,Se(ye),be,xe,we];function Ie(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Ie(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Te)if(!Ie(e,t))return null}return"Expected ".concat(Ee(e)," but found ").concat(Ee(t)," instead.")}function ke(e,t){return t.some((t=>t.kind===e.kind))}function Ce(e,t){return t.some((t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e))}function Ae(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const Pe=.96422,Ne=.82521,Me=4/29,Re=6/29,Oe=3*Re*Re,De=Re*Re*Re,Le=Math.PI/180,ze=180/Math.PI;function je(e){return(e%=360)<0&&(e+=360),e}function Fe(e){let t,n,[i,r,s,a]=e;const o=Ve((.2225045*(i=Be(i))+.7168786*(r=Be(r))+.0606169*(s=Be(s)))/1);i===r&&r===s?t=n=o:(t=Ve((.4360747*i+.3850649*r+.1430804*s)/Pe),n=Ve((.0139322*i+.0971045*r+.7141733*s)/Ne));const l=116*o-16;return[l<0?0:l,500*(t-o),200*(o-n),a]}function Be(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function Ve(e){return e>De?Math.pow(e,1/3):e/Oe+Me}function Ue(e){let[t,n,i,r]=e,s=(t+16)/116,a=isNaN(n)?s:s+n/500,o=isNaN(i)?s:s-i/200;return s=1*He(s),a=Pe*He(a),o=Ne*He(o),[qe(3.1338561*a-1.6168667*s-.4906146*o),qe(-.9787684*a+1.9161415*s+.033454*o),qe(.0719453*a-.2289914*s+1.4052427*o),r]}function qe(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function He(e){return e>Re?e*e*e:Oe*(e-Me)}function Ge(e){return parseInt(e.padEnd(2,e),16)/255}function We(e,t){return Ke(t?e/100:e,0,1)}function Ke(e,t,n){return Math.min(Math.max(t,e),n)}function Ye(e){return!e.some(Number.isNaN)}const Ze={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};class Xe{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this.r=e,this.g=t,this.b=n,this.a=i,r||(this.r*=i,this.g*=i,this.b*=i,i||this.overwriteGetter("rgb",[e,t,n,i]))}static parse(e){if(e instanceof Xe)return e;if("string"!=typeof e)return;const t=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];const t=Ze[e];if(t){const[e,n,i]=t;return[e/255,n/255,i/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const t=e.length<6?1:2;let n=1;return[Ge(e.slice(n,n+=t)),Ge(e.slice(n,n+=t)),Ge(e.slice(n,n+=t)),Ge(e.slice(n,n+t)||"ff")]}if(e.startsWith("rgb")){const t=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(t){const[e,n,i,r,s,a,o,l,c,u,h,d]=t,p=[r||" ",o||" ",u].join("");if("  "===p||"  /"===p||",,"===p||",,,"===p){const e=[i,a,c].join(""),t="%%%"===e?100:""===e?255:0;if(t){const e=[Ke(+n/t,0,1),Ke(+s/t,0,1),Ke(+l/t,0,1),h?We(+h,d):1];if(Ye(e))return e}}return}}const n=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[e,t,i,r,s,a,o,l,c]=n,u=[i||" ",s||" ",o].join("");if("  "===u||"  /"===u||",,"===u||",,,"===u){const e=[+t,Ke(+r,0,100),Ke(+a,0,100),l?We(+l,c):1];if(Ye(e))return function(e){let[t,n,i,r]=e;function s(e){const r=(e+t/30)%12,s=n*Math.min(i,1-i);return i-s*Math.max(-1,Math.min(r-3,9-r,1))}return t=je(t),n/=100,i/=100,[s(0),s(8),s(4),r]}(e)}}}(e);return t?new Xe(...t,!1):void 0}get rgb(){const{r:e,g:t,b:n,a:i}=this,r=i||1/0;return this.overwriteGetter("rgb",[e/r,t/r,n/r,i])}get hcl(){return this.overwriteGetter("hcl",function(e){const[t,n,i,r]=Fe(e),s=Math.sqrt(n*n+i*i);return[Math.round(1e4*s)?je(Math.atan2(i,n)*ze):NaN,s,t,r]}(this.rgb))}get lab(){return this.overwriteGetter("lab",Fe(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,i]=this.rgb;return"rgba(".concat([e,t,n].map((e=>Math.round(255*e))).join(","),",").concat(i,")")}}Xe.black=new Xe(0,0,0,1),Xe.white=new Xe(1,1,1,1),Xe.transparent=new Xe(0,0,0,0),Xe.red=new Xe(1,0,0,1);class Qe{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Je{constructor(e,t,n,i,r){this.text=e,this.image=t,this.scale=n,this.fontStack=i,this.textColor=r}}class $e{constructor(e){this.sections=e}static fromString(e){return new $e([new Je(e,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some((e=>0!==e.text.length||e.image&&0!==e.image.name.length))}static factory(e){return e instanceof $e?e:$e.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map((e=>e.text)).join("")}}class et{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof et)return e;if("number"==typeof e)return new et([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new et(e)}}toString(){return JSON.stringify(this.values)}}const tt=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class nt{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof nt)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){const n=e[t],i=e[t+1];if("string"!=typeof n||!tt.has(n))return;if(!Array.isArray(i)||2!==i.length||"number"!=typeof i[0]||"number"!=typeof i[1])return}return new nt(e)}}toString(){return JSON.stringify(this.values)}}class it{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new it({name:e,available:!1}):null}}function rt(e,t,n,i){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===i||"number"==typeof i&&i>=0&&i<=1?null:"Invalid rgba value [".concat([e,t,n,i].join(", "),"]: 'a' must be between 0 and 1."):"Invalid rgba value [".concat(("number"==typeof i?[e,t,n,i]:[e,t,n]).join(", "),"]: 'r', 'g', and 'b' must be between 0 and 255.")}function st(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof Xe||e instanceof Qe||e instanceof $e||e instanceof et||e instanceof nt||e instanceof it)return!0;if(Array.isArray(e)){for(const t of e)if(!st(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!st(e[t]))return!1;return!0}return!1}function at(e){if(null===e)return he;if("string"==typeof e)return pe;if("boolean"==typeof e)return fe;if("number"==typeof e)return de;if(e instanceof Xe)return me;if(e instanceof Qe)return ve;if(e instanceof $e)return _e;if(e instanceof et)return be;if(e instanceof nt)return we;if(e instanceof it)return xe;if(Array.isArray(e)){const t=e.length;let n;for(const i of e){const e=at(i);if(n){if(n===e)continue;n=ye;break}n=e}return Se(n||ye,t)}return ge}function ot(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Xe||e instanceof $e||e instanceof et||e instanceof nt||e instanceof it?e.toString():JSON.stringify(e)}class lt{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error("'literal' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(!st(e[1]))return t.error("invalid value");const n=e[1];let i=at(n);const r=t.expectedType;return"array"!==i.kind||0!==i.N||!r||"array"!==r.kind||"number"==typeof r.N&&0!==r.N||(i=r),new lt(i,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}class ct{constructor(e){this.name="ExpressionEvaluationError",this.message=e}toJSON(){return this.message}}const ut={string:pe,number:de,boolean:fe,object:ge};class ht{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,i=1;const r=e[0];if("array"===r){let r,s;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in ut)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);r=ut[n],i++}else r=ye;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);s=e[2],i++}n=Se(r,s)}else{if(!ut[r])throw new Error("Types doesn't contain name = ".concat(r));n=ut[r]}const s=[];for(;i<e.length;i++){const n=t.parse(e[i],i,ye);if(!n)return null;s.push(n)}return new ht(n,s)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Ie(this.type,at(n)))return n;if(t===this.args.length-1)throw new ct("Expected value to be of type ".concat(Ee(this.type),", but found ").concat(Ee(at(n))," instead."))}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const dt={"to-boolean":fe,"to-color":me,"to-number":de,"to-string":pe};class pt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!dt[n])throw new Error("Can't parse ".concat(n," as it is not part of the known types"));if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const i=dt[n],r=[];for(let s=1;s<e.length;s++){const n=t.parse(e[s],s,ye);if(!n)return null;r.push(n)}return new pt(i,r)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let t,n;for(const i of this.args){if(t=i.evaluate(e),n=null,t instanceof Xe)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?"Invalid rbga value ".concat(JSON.stringify(t),": expected an array containing either three or four numeric values."):rt(t[0],t[1],t[2],t[3]),!n))return new Xe(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new ct(n||"Could not parse color from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const i=et.parse(t);if(i)return i}throw new ct("Could not parse padding from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const i=nt.parse(t);if(i)return i}throw new ct("Could not parse variableAnchorOffsetCollection from value '".concat("string"==typeof t?t:JSON.stringify(t),"'"))}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const i=Number(t);if(!isNaN(i))return i}throw new ct("Could not convert ".concat(JSON.stringify(t)," to number."))}case"formatted":return $e.fromString(ot(this.args[0].evaluate(e)));case"resolvedImage":return it.fromString(ot(this.args[0].evaluate(e)));default:return ot(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}const ft=["Unknown","Point","LineString","Polygon"];class mt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?ft[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache[e];return t||(t=this._parseColorCache[e]=Xe.parse(e)),t}}class gt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ue,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];this.registry=e,this.path=n,this.key=n.map((e=>"[".concat(e,"]"))).join(""),this.scope=r,this.errors=s,this.expectedType=i,this._isConstant=t}parse(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return t?this.concat(t,n,i)._parse(e,r):this._parse(e,r)}_parse(e,t){function n(e,t,n){return"assert"===n?new ht(t,[e]):"coerce"===n?new pt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const i=e[0];if("string"!=typeof i)return this.error("Expression name must be a string, but found ".concat(typeof i,' instead. If you wanted a literal array, use ["literal", [...]].'),0),null;const r=this.registry[i];if(r){let i=r.parse(e,this);if(!i)return null;if(this.expectedType){const e=this.expectedType,r=i.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==r.kind)if("color"!==e.kind&&"formatted"!==e.kind&&"resolvedImage"!==e.kind||"value"!==r.kind&&"string"!==r.kind)if("padding"!==e.kind||"value"!==r.kind&&"number"!==r.kind&&"array"!==r.kind)if("variableAnchorOffsetCollection"!==e.kind||"value"!==r.kind&&"array"!==r.kind){if(this.checkSubtype(e,r))return null}else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"coerce");else i=n(i,e,t.typeAnnotation||"assert")}if(!(i instanceof lt)&&"resolvedImage"!==i.type.kind&&this._isConstant(i)){const t=new mt;try{i=new lt(i.type,i.evaluate(t))}catch(e){return this.error(e.message),null}}return i}return this.error('Unknown expression "'.concat(i,'". If you wanted a literal array, use ["literal", [...]].'),0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found ".concat(typeof e," instead."))}concat(e,t,n){const i="number"==typeof e?this.path.concat(e):this.path,r=n?this.scope.concat(n):this.scope;return new gt(this.registry,this._isConstant,i,t||null,r,this.errors)}error(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r="".concat(this.key).concat(n.map((e=>"[".concat(e,"]"))).join(""));this.errors.push(new ce(r,e))}checkSubtype(e,t){const n=Ie(e,t);return n&&this.error(n),n}}class yt{constructor(e,t,n){this.type=ve,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const i=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,fe);if(!i)return null;const r=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,fe);if(!r)return null;let s=null;return n.locale&&(s=t.parse(n.locale,1,pe),!s)?null:new yt(i,r,s)}evaluate(e){return new Qe(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}const vt=8192;function _t(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function bt(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function xt(e,t){const n=(180+e[0])/360,i=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,r=Math.pow(2,t.z);return[Math.round(n*r*vt),Math.round(i*r*vt)]}function wt(e,t,n){const i=e[0]-t[0],r=e[1]-t[1],s=e[0]-n[0],a=e[1]-n[1];return i*a-s*r==0&&i*s<=0&&r*a<=0}function St(e,t){let n=!1;for(let a=0,o=t.length;a<o;a++){const o=t[a];for(let t=0,a=o.length;t<a-1;t++){if(wt(e,o[t],o[t+1]))return!1;(r=o[t])[1]>(i=e)[1]!=(s=o[t+1])[1]>i[1]&&i[0]<(s[0]-r[0])*(i[1]-r[1])/(s[1]-r[1])+r[0]&&(n=!n)}}var i,r,s;return n}function Et(e,t){for(let n=0;n<t.length;n++)if(St(e,t[n]))return!0;return!1}function Tt(e,t,n,i){const r=i[0]-n[0],s=i[1]-n[1],a=(e[0]-n[0])*s-r*(e[1]-n[1]),o=(t[0]-n[0])*s-r*(t[1]-n[1]);return a>0&&o<0||a<0&&o>0}function It(e,t,n){for(const c of n)for(let n=0;n<c.length-1;++n)if(0!=(o=[(a=c[n+1])[0]-(s=c[n])[0],a[1]-s[1]])[0]*(l=[(r=t)[0]-(i=e)[0],r[1]-i[1]])[1]-o[1]*l[0]&&Tt(i,r,s,a)&&Tt(s,a,i,r))return!0;var i,r,s,a,o,l;return!1}function kt(e,t){for(let n=0;n<e.length;++n)if(!St(e[n],t))return!1;for(let n=0;n<e.length-1;++n)if(It(e[n],e[n+1],t))return!1;return!0}function Ct(e,t){for(let n=0;n<t.length;n++)if(kt(e,t[n]))return!0;return!1}function At(e,t,n){const i=[];for(let r=0;r<e.length;r++){const s=[];for(let i=0;i<e[r].length;i++){const a=xt(e[r][i],n);_t(t,a),s.push(a)}i.push(s)}return i}function Pt(e,t,n){const i=[];for(let r=0;r<e.length;r++){const s=At(e[r],t,n);i.push(s)}return i}function Nt(e,t,n,i){if(e[0]<n[0]||e[0]>n[2]){const t=.5*i;let r=e[0]-n[0]>t?-i:n[0]-e[0]>t?i:0;0===r&&(r=e[0]-n[2]>t?-i:n[2]-e[0]>t?i:0),e[0]+=r}_t(t,e)}function Mt(e,t,n,i){const r=Math.pow(2,i.z)*vt,s=[i.x*vt,i.y*vt],a=[];for(const o of e)for(const e of o){const i=[e.x+s[0],e.y+s[1]];Nt(i,t,n,r),a.push(i)}return a}function Rt(e,t,n,i){const r=Math.pow(2,i.z)*vt,s=[i.x*vt,i.y*vt],a=[];for(const l of e){const e=[];for(const n of l){const i=[n.x+s[0],n.y+s[1]];_t(t,i),e.push(i)}a.push(e)}if(t[2]-t[0]<=r/2){(o=t)[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(const e of a)for(const i of e)Nt(i,t,n,r)}var o;return a}class Ot{constructor(e,t){this.type=fe,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error("'within' expression requires exactly one argument, but found ".concat(e.length-1," instead."));if(st(e[1])){const t=e[1];if("FeatureCollection"===t.type)for(let e=0;e<t.features.length;++e){const n=t.features[e].geometry.type;if("Polygon"===n||"MultiPolygon"===n)return new Ot(t,t.features[e].geometry)}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Ot(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Ot(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const s=At(t.coordinates,i,r),a=Mt(e.geometry(),n,i,r);if(!bt(n,i))return!1;for(const e of a)if(!St(e,s))return!1}if("MultiPolygon"===t.type){const s=Pt(t.coordinates,i,r),a=Mt(e.geometry(),n,i,r);if(!bt(n,i))return!1;for(const e of a)if(!Et(e,s))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],i=[1/0,1/0,-1/0,-1/0],r=e.canonicalID();if("Polygon"===t.type){const s=At(t.coordinates,i,r),a=Rt(e.geometry(),n,i,r);if(!bt(n,i))return!1;for(const e of a)if(!kt(e,s))return!1}if("MultiPolygon"===t.type){const s=Pt(t.coordinates,i,r),a=Rt(e.geometry(),n,i,r);if(!bt(n,i))return!1;for(const e of a)if(!Ct(e,s))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}class Dt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new Dt(n,t.scope.get(n)):t.error('Unknown variable "'.concat(n,'". Make sure "').concat(n,'" has been bound in an enclosing "let" expression before using it.'),1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class Lt{constructor(e,t,n,i){this.name=e,this.type=t,this._evaluate=n,this.args=i}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],i=Lt.definitions[n];if(!i)return t.error('Unknown expression "'.concat(n,'". If you wanted a literal array, use ["literal", [...]].'),0);const r=Array.isArray(i)?i[0]:i.type,s=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,a=s.filter((t=>{let[n]=t;return!Array.isArray(n)||n.length===e.length-1}));let o=null;for(const[l,c]of a){o=new gt(t.registry,zt,t.path,null,t.scope);const i=[];let s=!1;for(let t=1;t<e.length;t++){const n=e[t],r=Array.isArray(l)?l[t-1]:l.type,a=o.parse(n,1+i.length,r);if(!a){s=!0;break}i.push(a)}if(!s)if(Array.isArray(l)&&l.length!==i.length)o.error("Expected ".concat(l.length," arguments, but found ").concat(i.length," instead."));else{for(let e=0;e<i.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=i[e];o.concat(e+1).checkSubtype(t,n.type)}if(0===o.errors.length)return new Lt(n,r,c,i)}}if(1===a.length)t.errors.push(...o.errors);else{const n=(a.length?a:s).map((e=>{let[t]=e;return n=t,Array.isArray(n)?"(".concat(n.map(Ee).join(", "),")"):"(".concat(Ee(n.type),"...)");var n})).join(" | "),i=[];for(let r=1;r<e.length;r++){const n=t.parse(e[r],1+i.length);if(!n)return null;i.push(Ee(n.type))}t.error("Expected arguments of type ".concat(n,", but found (").concat(i.join(", "),") instead."))}return null}static register(e,t){Lt.definitions=t;for(const n in t)e[n]=Lt}}function zt(e){if(e instanceof Dt)return zt(e.boundExpression);if(e instanceof Lt&&"error"===e.name)return!1;if(e instanceof yt)return!1;if(e instanceof Ot)return!1;const t=e instanceof pt||e instanceof ht;let n=!0;return e.eachChild((e=>{n=t?n&&zt(e):n&&e instanceof lt})),!!n&&jt(e)&&Bt(e,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}function jt(e){if(e instanceof Lt){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Ot)return!1;let t=!0;return e.eachChild((e=>{t&&!jt(e)&&(t=!1)})),t}function Ft(e){if(e instanceof Lt&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild((e=>{t&&!Ft(e)&&(t=!1)})),t}function Bt(e,t){if(e instanceof Lt&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild((e=>{n&&!Bt(e,t)&&(n=!1)})),n}function Vt(e,t){const n=e.length-1;let i,r,s=0,a=n,o=0;for(;s<=a;)if(o=Math.floor((s+a)/2),i=e[o],r=e[o+1],i<=t){if(o===n||t<r)return o;s=o+1}else{if(!(i>t))throw new ct("Input is not a number.");a=o-1}return 0}class Ut{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[i,r]of n)this.labels.push(i),this.outputs.push(r)}static parse(e,t){if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,de);if(!n)return null;const i=[];let r=null;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);for(let s=1;s<e.length;s+=2){const n=1===s?-1/0:e[s],a=e[s+1],o=s,l=s+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',o);if(i.length&&i[i.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',o);const c=t.parse(a,l,r);if(!c)return null;r=r||c.type,i.push([n,c])}return new Ut(r,n,i)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;return i>=t[r-1]?n[r-1].evaluate(e):n[Vt(t,i)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function qt(e,t,n){return e+n*(t-e)}function Ht(e,t,n){return e.map(((e,i)=>qt(e,t[i],n)))}const Gt={number:qt,color:function(e,t,n){switch(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rgb"){case"rgb":{const[i,r,s,a]=Ht(e.rgb,t.rgb,n);return new Xe(i,r,s,a,!1)}case"hcl":{const[i,r,s,a]=e.hcl,[o,l,c,u]=t.hcl;let h,d;if(isNaN(i)||isNaN(o))isNaN(i)?isNaN(o)?h=NaN:(h=o,1!==s&&0!==s||(d=l)):(h=i,1!==c&&0!==c||(d=r));else{let e=o-i;o>i&&e>180?e-=360:o<i&&i-o>180&&(e+=360),h=i+n*e}const[p,f,m,g]=function(e){let[t,n,i,r]=e;return t=isNaN(t)?0:t*Le,Ue([i,Math.cos(t)*n,Math.sin(t)*n,r])}([h,null!=d?d:qt(r,l,n),qt(s,c,n),qt(a,u,n)]);return new Xe(p,f,m,g,!1)}case"lab":{const[i,r,s,a]=Ue(Ht(e.lab,t.lab,n));return new Xe(i,r,s,a,!1)}}},array:Ht,padding:function(e,t,n){return new et(Ht(e.values,t.values,n))},variableAnchorOffsetCollection:function(e,t,n){const i=e.values,r=t.values;if(i.length!==r.length)throw new ct("Cannot interpolate values of different length. from: ".concat(e.toString(),", to: ").concat(t.toString()));const s=[];for(let a=0;a<i.length;a+=2){if(i[a]!==r[a])throw new ct("Cannot interpolate values containing mismatched anchors. from[".concat(a,"]: ").concat(i[a],", to[").concat(a,"]: ").concat(r[a]));s.push(i[a]);const[e,t]=i[a+1],[o,l]=r[a+1];s.push([qt(e,o,n),qt(t,l,n)])}return new nt(s)}};class Wt{constructor(e,t,n,i,r){this.type=e,this.operator=t,this.interpolation=n,this.input=i,this.labels=[],this.outputs=[];for(const[s,a]of r)this.labels.push(s),this.outputs.push(a)}static interpolationFactor(e,t,n,i){let r=0;if("exponential"===e.name)r=Kt(t,e.base,n,i);else if("linear"===e.name)r=Kt(t,1,n,i);else if("cubic-bezier"===e.name){const s=e.controlPoints;r=new l(s[0],s[1],s[2],s[3]).solve(Kt(t,1,n,i))}return r}static parse(e,t){let[n,i,r,...s]=e;if(!Array.isArray(i)||0===i.length)return t.error("Expected an interpolation type expression.",1);if("linear"===i[0])i={name:"linear"};else if("exponential"===i[0]){const e=i[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);i={name:"exponential",base:e}}else{if("cubic-bezier"!==i[0])return t.error("Unknown interpolation type ".concat(String(i[0])),1,0);{const e=i.slice(1);if(4!==e.length||e.some((e=>"number"!=typeof e||e<0||e>1)))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);i={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(r=t.parse(r,2,de),!r)return null;const a=[];let o=null;"interpolate-hcl"===n||"interpolate-lab"===n?o=me:t.expectedType&&"value"!==t.expectedType.kind&&(o=t.expectedType);for(let l=0;l<s.length;l+=2){const e=s[l],n=s[l+1],i=l+3,r=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',i);if(a.length&&a[a.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',i);const c=t.parse(n,r,o);if(!c)return null;o=o||c.type,a.push([e,c])}return Ae(o,de)||Ae(o,me)||Ae(o,be)||Ae(o,we)||Ae(o,Se(de))?new Wt(o,n,i,r,a):t.error("Type ".concat(Ee(o)," is not interpolatable."))}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const i=this.input.evaluate(e);if(i<=t[0])return n[0].evaluate(e);const r=t.length;if(i>=t[r-1])return n[r-1].evaluate(e);const s=Vt(t,i),a=Wt.interpolationFactor(this.interpolation,i,t[s],t[s+1]),o=n[s].evaluate(e),l=n[s+1].evaluate(e);switch(this.operator){case"interpolate":return Gt[this.type.kind](o,l,a);case"interpolate-hcl":return Gt.color(o,l,a,"hcl");case"interpolate-lab":return Gt.color(o,l,a,"lab")}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))}}function Kt(e,t,n,i){const r=i-n,s=e-n;return 0===r?0:1===t?s/r:(Math.pow(t,s)-1)/(Math.pow(t,r)-1)}class Yt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expectected at least one argument.");let n=null;const i=t.expectedType;i&&"value"!==i.kind&&(n=i);const r=[];for(const a of e.slice(1)){const e=t.parse(a,1+r.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,r.push(e)}if(!n)throw new Error("No output type");const s=i&&r.some((e=>Ie(i,e.type)));return new Yt(s?ye:n,r)}evaluate(e){let t,n=null,i=0;for(const r of this.args)if(i++,n=r.evaluate(e),n&&n instanceof it&&!n.available&&(t||(t=n.name),n=null,i===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every((e=>e.outputDefined()))}}class Zt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found ".concat(e.length-1," instead."));const n=[];for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)return t.error("Expected string, but found ".concat(typeof i," instead."),r);if(/[^a-zA-Z0-9_]/.test(i))return t.error("Variable names must contain only alphanumeric characters or '_'.",r);const s=t.parse(e[r+1],r+1);if(!s)return null;n.push([i,s])}const i=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return i?new Zt(n,i):null}outputDefined(){return this.result.outputDefined()}}class Xt{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,de),i=t.parse(e[2],2,Se(t.expectedType||ye));return n&&i?new Xt(i.type.itemType,n,i):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new ct("Array index out of bounds: ".concat(t," < 0."));if(t>=n.length)throw new ct("Array index out of bounds: ".concat(t," > ").concat(n.length-1,"."));if(t!==Math.floor(t))throw new ct("Array index must be an integer, but found ".concat(t," instead."));return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class Qt{constructor(e,t){this.type=fe,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error("Expected 2 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ye),i=t.parse(e[2],2,ye);return n&&i?ke(n.type,[fe,pe,de,he,ye])?new Qt(n,i):t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Ee(n.type)," instead")):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!Ce(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found ".concat(Ee(at(t))," instead."));if(!Ce(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found ".concat(Ee(at(n))," instead."));return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class Jt{constructor(e,t,n){this.type=de,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ye),i=t.parse(e[2],2,ye);if(!n||!i)return null;if(!ke(n.type,[fe,pe,de,he,ye]))return t.error("Expected first argument to be of type boolean, string, number or null, but found ".concat(Ee(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,de);return r?new Jt(n,i,r):null}return new Jt(n,i)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!Ce(t,["boolean","string","number","null"]))throw new ct("Expected first argument to be of type boolean, string, number or null, but found ".concat(Ee(at(t))," instead."));if(!Ce(n,["string","array"]))throw new ct("Expected second argument to be of type array or string, but found ".concat(Ee(at(n))," instead."));if(this.fromIndex){const i=this.fromIndex.evaluate(e);return n.indexOf(t,i)}return n.indexOf(t)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class $t{constructor(e,t,n,i,r,s){this.inputType=e,this.type=t,this.input=n,this.cases=i,this.outputs=r,this.otherwise=s}static parse(e,t){if(e.length<5)return t.error("Expected at least 4 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,i;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);const r={},s=[];for(let l=2;l<e.length-1;l+=2){let a=e[l];const o=e[l+1];Array.isArray(a)||(a=[a]);const c=t.concat(l);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error("Branch labels must be integers no larger than ".concat(Number.MAX_SAFE_INTEGER,"."));if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,at(e)))return null}else n=at(e);if(void 0!==r[String(e)])return c.error("Branch labels must be unique.");r[String(e)]=s.length}const u=t.parse(o,l,i);if(!u)return null;i=i||u.type,s.push(u)}const a=t.parse(e[1],1,ye);if(!a)return null;const o=t.parse(e[e.length-1],e.length-1,i);return o?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new $t(n,i,a,r,s,o):null}evaluate(e){const t=this.input.evaluate(e);return(at(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every((e=>e.outputDefined()))&&this.otherwise.outputDefined()}}class en{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error("Expected at least 3 arguments, but found only ".concat(e.length-1,"."));if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const i=[];for(let s=1;s<e.length-1;s+=2){const r=t.parse(e[s],s,fe);if(!r)return null;const a=t.parse(e[s+1],s+1,n);if(!a)return null;i.push([r,a]),n=n||a.type}const r=t.parse(e[e.length-1],e.length-1,n);if(!r)return null;if(!n)throw new Error("Can't infer output type");return new en(n,i,r)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every((e=>{let[t,n]=e;return n.outputDefined()}))&&this.otherwise.outputDefined()}}class tn{constructor(e,t,n,i){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=i}static parse(e,t){if(e.length<=2||e.length>=5)return t.error("Expected 3 or 4 arguments, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1,ye),i=t.parse(e[2],2,de);if(!n||!i)return null;if(!ke(n.type,[Se(ye),pe,ye]))return t.error("Expected first argument to be of type array or string, but found ".concat(Ee(n.type)," instead"));if(4===e.length){const r=t.parse(e[3],3,de);return r?new tn(n.type,n,i,r):null}return new tn(n.type,n,i)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);if(!Ce(t,["string","array"]))throw new ct("Expected first argument to be of type array or string, but found ".concat(Ee(at(t))," instead."));if(this.endIndex){const i=this.endIndex.evaluate(e);return t.slice(n,i)}return t.slice(n)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function nn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function rn(e,t,n,i){return 0===i.compare(t,n)}function sn(e,t,n){const i="=="!==e&&"!="!==e;return class r{constructor(e,t,n){this.type=fe,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let s=t.parse(e[1],1,ye);if(!s)return null;if(!nn(n,s.type))return t.concat(1).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Ee(s.type),"'."));let a=t.parse(e[2],2,ye);if(!a)return null;if(!nn(n,a.type))return t.concat(2).error('"'.concat(n,"\" comparisons are not supported for type '").concat(Ee(a.type),"'."));if(s.type.kind!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error("Cannot compare types '".concat(Ee(s.type),"' and '").concat(Ee(a.type),"'."));i&&("value"===s.type.kind&&"value"!==a.type.kind?s=new ht(a.type,[s]):"value"!==s.type.kind&&"value"===a.type.kind&&(a=new ht(s.type,[a])));let o=null;if(4===e.length){if("string"!==s.type.kind&&"string"!==a.type.kind&&"value"!==s.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(o=t.parse(e[3],3,ve),!o)return null}return new r(s,a,o)}evaluate(r){const s=this.lhs.evaluate(r),a=this.rhs.evaluate(r);if(i&&this.hasUntypedArgument){const t=at(s),n=at(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new ct('Expected arguments for "'.concat(e,'" to be (string, string) or (number, number), but found (').concat(t.kind,", ").concat(n.kind,") instead."))}if(this.collator&&!i&&this.hasUntypedArgument){const e=at(s),n=at(a);if("string"!==e.kind||"string"!==n.kind)return t(r,s,a)}return this.collator?n(r,s,a,this.collator.evaluate(r)):t(r,s,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const an=sn("==",(function(e,t,n){return t===n}),rn),on=sn("!=",(function(e,t,n){return t!==n}),(function(e,t,n,i){return!rn(0,t,n,i)})),ln=sn("<",(function(e,t,n){return t<n}),(function(e,t,n,i){return i.compare(t,n)<0})),cn=sn(">",(function(e,t,n){return t>n}),(function(e,t,n,i){return i.compare(t,n)>0})),un=sn("<=",(function(e,t,n){return t<=n}),(function(e,t,n,i){return i.compare(t,n)<=0})),hn=sn(">=",(function(e,t,n){return t>=n}),(function(e,t,n,i){return i.compare(t,n)>=0}));class dn{constructor(e,t,n,i,r){this.type=pe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=i,this.maxFractionDigits=r}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,de);if(!n)return null;const i=e[2];if("object"!=typeof i||Array.isArray(i))return t.error("NumberFormat options argument must be an object.");let r=null;if(i.locale&&(r=t.parse(i.locale,1,pe),!r))return null;let s=null;if(i.currency&&(s=t.parse(i.currency,1,pe),!s))return null;let a=null;if(i["min-fraction-digits"]&&(a=t.parse(i["min-fraction-digits"],1,de),!a))return null;let o=null;return i["max-fraction-digits"]&&(o=t.parse(i["max-fraction-digits"],1,de),!o)?null:new dn(n,r,s,a,o)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class pn{constructor(e){this.type=_e,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const i=[];let r=!1;for(let s=1;s<=e.length-1;++s){const n=e[s];if(r&&"object"==typeof n&&!Array.isArray(n)){r=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,de),!e))return null;let s=null;if(n["text-font"]&&(s=t.parse(n["text-font"],1,Se(pe)),!s))return null;let a=null;if(n["text-color"]&&(a=t.parse(n["text-color"],1,me),!a))return null;const o=i[i.length-1];o.scale=e,o.font=s,o.textColor=a}else{const n=t.parse(e[s],1,ye);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");r=!0,i.push({content:n,scale:null,font:null,textColor:null})}}return new pn(i)}evaluate(e){return new $e(this.sections.map((t=>{const n=t.content.evaluate(e);return at(n)===xe?new Je("",n,null,null,null):new Je(ot(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null)})))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor)}outputDefined(){return!1}}class fn{constructor(e){this.type=xe,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,pe);return n?new fn(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=it.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class mn{constructor(e){this.type=de,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected 1 argument, but found ".concat(e.length-1," instead."));const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error("Expected argument of type string or array, but found ".concat(Ee(n.type)," instead.")):new mn(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return t.length;if(Array.isArray(t))return t.length;throw new ct("Expected value to be of type string or array, but found ".concat(Ee(at(t))," instead."))}eachChild(e){e(this.input)}outputDefined(){return!1}}const gn={"==":an,"!=":on,">":cn,"<":ln,">=":hn,"<=":un,array:ht,at:Xt,boolean:ht,case:en,coalesce:Yt,collator:yt,format:pn,image:fn,in:Qt,"index-of":Jt,interpolate:Wt,"interpolate-hcl":Wt,"interpolate-lab":Wt,length:mn,let:Zt,literal:lt,match:$t,number:ht,"number-format":dn,object:ht,slice:tn,step:Ut,string:ht,"to-boolean":pt,"to-color":pt,"to-number":pt,"to-string":pt,var:Dt,within:Ot};function yn(e,t){let[n,i,r,s]=t;n=n.evaluate(e),i=i.evaluate(e),r=r.evaluate(e);const a=s?s.evaluate(e):1,o=rt(n,i,r,a);if(o)throw new ct(o);return new Xe(n/255,i/255,r/255,a,!1)}function vn(e,t){return e in t}function _n(e,t){const n=t[e];return void 0===n?null:n}function bn(e){return{type:e}}function xn(e){return{result:"success",value:e}}function wn(e){return{result:"error",value:e}}function Sn(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function En(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function Tn(e){return!!e.expression&&e.expression.interpolated}function In(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function kn(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function Cn(e){return e}function An(e,t){const n="color"===t.type,i=e.stops&&"object"==typeof e.stops[0][0],r=i||!(i||void 0!==e.property),s=e.type||(Tn(t)?"exponential":"interval");if(n||"padding"===t.type){const i=n?Xe.parse:et.parse;(e=le({},e)).stops&&(e.stops=e.stops.map((e=>[e[0],i(e[1])]))),e.default=i(e.default?e.default:t.default)}if(e.colorSpace&&"rgb"!==(a=e.colorSpace)&&"hcl"!==a&&"lab"!==a)throw new Error('Unknown color space: "'.concat(e.colorSpace,'"'));var a;let o,l,c;if("exponential"===s)o=Rn;else if("interval"===s)o=Mn;else if("categorical"===s){o=Nn,l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];c=typeof e.stops[0][0]}else{if("identity"!==s)throw new Error('Unknown function type "'.concat(s,'"'));o=On}if(i){const n={},i=[];for(let t=0;t<e.stops.length;t++){const r=e.stops[t],s=r[0].zoom;void 0===n[s]&&(n[s]={zoom:s,type:e.type,property:e.property,default:e.default,stops:[]},i.push(s)),n[s].stops.push([r[0].value,r[1]])}const r=[];for(const e of i)r.push([n[e].zoom,An(n[e],t)]);const s={name:"linear"};return{kind:"composite",interpolationType:s,interpolationFactor:Wt.interpolationFactor.bind(void 0,s),zoomStops:r.map((e=>e[0])),evaluate:(n,i)=>{let{zoom:s}=n;return Rn({stops:r,base:e.base},t,s).evaluate(s,i)}}}if(r){const n="exponential"===s?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:Wt.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map((e=>e[0])),evaluate:n=>{let{zoom:i}=n;return o(e,t,i,l,c)}}}return{kind:"source",evaluate(n,i){const r=i&&i.properties?i.properties[e.property]:void 0;return void 0===r?Pn(e.default,t.default):o(e,t,r,l,c)}}}function Pn(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Nn(e,t,n,i,r){return Pn(typeof n===r?i[n]:void 0,e.default,t.default)}function Mn(e,t,n){if("number"!==In(n))return Pn(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const r=Vt(e.stops.map((e=>e[0])),n);return e.stops[r][1]}function Rn(e,t,n){const i=void 0!==e.base?e.base:1;if("number"!==In(n))return Pn(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const s=Vt(e.stops.map((e=>e[0])),n),a=function(e,t,n,i){const r=i-n,s=e-n;return 0===r?0:1===t?s/r:(Math.pow(t,s)-1)/(Math.pow(t,r)-1)}(n,i,e.stops[s][0],e.stops[s+1][0]),o=e.stops[s][1],l=e.stops[s+1][1],c=Gt[t.type]||Cn;return"function"==typeof o.evaluate?{evaluate(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const r=o.evaluate.apply(void 0,n),s=l.evaluate.apply(void 0,n);if(void 0!==r&&void 0!==s)return c(r,s,a,e.colorSpace)}}:c(o,l,a,e.colorSpace)}function On(e,t,n){switch(t.type){case"color":n=Xe.parse(n);break;case"formatted":n=$e.fromString(n.toString());break;case"resolvedImage":n=it.fromString(n.toString());break;case"padding":n=et.parse(n);break;default:In(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0)}return Pn(n,e.default,t.default)}Lt.register(gn,{error:[{kind:"error"},[pe],(e,t)=>{let[n]=t;throw new ct(n.evaluate(e))}],typeof:[pe,[ye],(e,t)=>{let[n]=t;return Ee(at(n.evaluate(e)))}],"to-rgba":[Se(de,4),[me],(e,t)=>{let[n]=t;const[i,r,s,a]=n.evaluate(e).rgb;return[255*i,255*r,255*s,a]}],rgb:[me,[de,de,de],yn],rgba:[me,[de,de,de,de],yn],has:{type:fe,overloads:[[[pe],(e,t)=>{let[n]=t;return vn(n.evaluate(e),e.properties())}],[[pe,ge],(e,t)=>{let[n,i]=t;return vn(n.evaluate(e),i.evaluate(e))}]]},get:{type:ye,overloads:[[[pe],(e,t)=>{let[n]=t;return _n(n.evaluate(e),e.properties())}],[[pe,ge],(e,t)=>{let[n,i]=t;return _n(n.evaluate(e),i.evaluate(e))}]]},"feature-state":[ye,[pe],(e,t)=>{let[n]=t;return _n(n.evaluate(e),e.featureState||{})}],properties:[ge,[],e=>e.properties()],"geometry-type":[pe,[],e=>e.geometryType()],id:[ye,[],e=>e.id()],zoom:[de,[],e=>e.globals.zoom],"heatmap-density":[de,[],e=>e.globals.heatmapDensity||0],"line-progress":[de,[],e=>e.globals.lineProgress||0],accumulated:[ye,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[de,bn(de),(e,t)=>{let n=0;for(const i of t)n+=i.evaluate(e);return n}],"*":[de,bn(de),(e,t)=>{let n=1;for(const i of t)n*=i.evaluate(e);return n}],"-":{type:de,overloads:[[[de,de],(e,t)=>{let[n,i]=t;return n.evaluate(e)-i.evaluate(e)}],[[de],(e,t)=>{let[n]=t;return-n.evaluate(e)}]]},"/":[de,[de,de],(e,t)=>{let[n,i]=t;return n.evaluate(e)/i.evaluate(e)}],"%":[de,[de,de],(e,t)=>{let[n,i]=t;return n.evaluate(e)%i.evaluate(e)}],ln2:[de,[],()=>Math.LN2],pi:[de,[],()=>Math.PI],e:[de,[],()=>Math.E],"^":[de,[de,de],(e,t)=>{let[n,i]=t;return Math.pow(n.evaluate(e),i.evaluate(e))}],sqrt:[de,[de],(e,t)=>{let[n]=t;return Math.sqrt(n.evaluate(e))}],log10:[de,[de],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN10}],ln:[de,[de],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))}],log2:[de,[de],(e,t)=>{let[n]=t;return Math.log(n.evaluate(e))/Math.LN2}],sin:[de,[de],(e,t)=>{let[n]=t;return Math.sin(n.evaluate(e))}],cos:[de,[de],(e,t)=>{let[n]=t;return Math.cos(n.evaluate(e))}],tan:[de,[de],(e,t)=>{let[n]=t;return Math.tan(n.evaluate(e))}],asin:[de,[de],(e,t)=>{let[n]=t;return Math.asin(n.evaluate(e))}],acos:[de,[de],(e,t)=>{let[n]=t;return Math.acos(n.evaluate(e))}],atan:[de,[de],(e,t)=>{let[n]=t;return Math.atan(n.evaluate(e))}],min:[de,bn(de),(e,t)=>Math.min(...t.map((t=>t.evaluate(e))))],max:[de,bn(de),(e,t)=>Math.max(...t.map((t=>t.evaluate(e))))],abs:[de,[de],(e,t)=>{let[n]=t;return Math.abs(n.evaluate(e))}],round:[de,[de],(e,t)=>{let[n]=t;const i=n.evaluate(e);return i<0?-Math.round(-i):Math.round(i)}],floor:[de,[de],(e,t)=>{let[n]=t;return Math.floor(n.evaluate(e))}],ceil:[de,[de],(e,t)=>{let[n]=t;return Math.ceil(n.evaluate(e))}],"filter-==":[fe,[pe,ye],(e,t)=>{let[n,i]=t;return e.properties()[n.value]===i.value}],"filter-id-==":[fe,[ye],(e,t)=>{let[n]=t;return e.id()===n.value}],"filter-type-==":[fe,[pe],(e,t)=>{let[n]=t;return e.geometryType()===n.value}],"filter-<":[fe,[pe,ye],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],s=i.value;return typeof r==typeof s&&r<s}],"filter-id-<":[fe,[ye],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<r}],"filter->":[fe,[pe,ye],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],s=i.value;return typeof r==typeof s&&r>s}],"filter-id->":[fe,[ye],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>r}],"filter-<=":[fe,[pe,ye],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],s=i.value;return typeof r==typeof s&&r<=s}],"filter-id-<=":[fe,[ye],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i<=r}],"filter->=":[fe,[pe,ye],(e,t)=>{let[n,i]=t;const r=e.properties()[n.value],s=i.value;return typeof r==typeof s&&r>=s}],"filter-id->=":[fe,[ye],(e,t)=>{let[n]=t;const i=e.id(),r=n.value;return typeof i==typeof r&&i>=r}],"filter-has":[fe,[ye],(e,t)=>{let[n]=t;return n.value in e.properties()}],"filter-has-id":[fe,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[fe,[Se(pe)],(e,t)=>{let[n]=t;return n.value.indexOf(e.geometryType())>=0}],"filter-id-in":[fe,[Se(ye)],(e,t)=>{let[n]=t;return n.value.indexOf(e.id())>=0}],"filter-in-small":[fe,[pe,Se(ye)],(e,t)=>{let[n,i]=t;return i.value.indexOf(e.properties()[n.value])>=0}],"filter-in-large":[fe,[pe,Se(ye)],(e,t)=>{let[n,i]=t;return function(e,t,n,i){for(;n<=i;){const r=n+i>>1;if(t[r]===e)return!0;t[r]>e?i=r-1:n=r+1}return!1}(e.properties()[n.value],i.value,0,i.value.length-1)}],all:{type:fe,overloads:[[[fe,fe],(e,t)=>{let[n,i]=t;return n.evaluate(e)&&i.evaluate(e)}],[bn(fe),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:fe,overloads:[[[fe,fe],(e,t)=>{let[n,i]=t;return n.evaluate(e)||i.evaluate(e)}],[bn(fe),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[fe,[fe],(e,t)=>{let[n]=t;return!n.evaluate(e)}],"is-supported-script":[fe,[pe],(e,t)=>{let[n]=t;const i=e.globals&&e.globals.isSupportedScript;return!i||i(n.evaluate(e))}],upcase:[pe,[pe],(e,t)=>{let[n]=t;return n.evaluate(e).toUpperCase()}],downcase:[pe,[pe],(e,t)=>{let[n]=t;return n.evaluate(e).toLowerCase()}],concat:[pe,bn(ye),(e,t)=>t.map((t=>ot(t.evaluate(e)))).join("")],"resolved-locale":[pe,[ve],(e,t)=>{let[n]=t;return n.evaluate(e).resolvedLocale()}]});class Dn{constructor(e,t){var n;this.expression=e,this._warningHistory={},this._evaluator=new mt,this._defaultValue=t?"color"===(n=t).type&&kn(n.default)?new Xe(0,0,0,0):"color"===n.type?Xe.parse(n.default)||null:"padding"===n.type?et.parse(n.default)||null:"variableAnchorOffsetCollection"===n.type?nt.parse(n.default)||null:void 0===n.default?null:n.default:null,this._enumValues=t&&"enum"===t.type?t.values:null}evaluateWithoutErrorHandling(e,t,n,i,r,s){return this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=s,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,i,r,s){this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=i,this._evaluator.availableImages=r||null,this._evaluator.formattedSection=s||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new ct("Expected value to be one of ".concat(Object.keys(this._enumValues).map((e=>JSON.stringify(e))).join(", "),", but found ").concat(JSON.stringify(e)," instead."));return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function Ln(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in gn}function zn(e,t){const n=new gt(gn,zt,[],t?function(e){const t={color:me,string:pe,number:de,enum:pe,boolean:fe,formatted:_e,padding:be,resolvedImage:xe,variableAnchorOffsetCollection:we};return"array"===e.type?Se(t[e.value]||ye,e.length):t[e.type]}(t):void 0),i=n.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?xn(new Dn(i,t)):wn(n.errors)}class jn{constructor(e,t){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!Ft(t.expression)}evaluateWithoutErrorHandling(e,t,n,i,r,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,s)}evaluate(e,t,n,i,r,s){return this._styleExpression.evaluate(e,t,n,i,r,s)}}class Fn{constructor(e,t,n,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!Ft(t.expression),this.interpolationType=i}evaluateWithoutErrorHandling(e,t,n,i,r,s){return this._styleExpression.evaluateWithoutErrorHandling(e,t,n,i,r,s)}evaluate(e,t,n,i,r,s){return this._styleExpression.evaluate(e,t,n,i,r,s)}interpolationFactor(e,t,n){return this.interpolationType?Wt.interpolationFactor(this.interpolationType,e,t,n):0}}function Bn(e,t){const n=zn(e,t);if("error"===n.result)return n;const i=n.value.expression,r=jt(i);if(!r&&!Sn(t))return wn([new ce("","data expressions not supported")]);const s=Bt(i,["zoom"]);if(!s&&!En(t))return wn([new ce("","zoom expressions not supported")]);const a=Un(i);return a||s?a instanceof ce?wn([a]):a instanceof Wt&&!Tn(t)?wn([new ce("",'"interpolate" expressions cannot be used with this property')]):xn(a?new Fn(r?"camera":"composite",n.value,a.labels,a instanceof Wt?a.interpolation:void 0):new jn(r?"constant":"source",n.value)):wn([new ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Vn{constructor(e,t){this._parameters=e,this._specification=t,le(this,An(this._parameters,this._specification))}static deserialize(e){return new Vn(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function Un(e){let t=null;if(e instanceof Zt)t=Un(e.result);else if(e instanceof Yt){for(const n of e.args)if(t=Un(n),t)break}else(e instanceof Ut||e instanceof Wt)&&e.input instanceof Lt&&"zoom"===e.input.name&&(t=e);return t instanceof ce||e.eachChild((e=>{const n=Un(e);n instanceof ce?t=n:!t&&n?t=new ce("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new ce("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))})),t}function qn(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!qn(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const Hn={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Gn(e){if(null==e)return{filter:()=>!0,needGeometry:!1};qn(e)||(e=Yn(e));const t=zn(e,Hn);if("error"===t.result)throw new Error(t.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));return{filter:(e,n,i)=>t.value.evaluate(e,n,{},i),needGeometry:Kn(e)}}function Wn(e,t){return e<t?-1:e>t?1:0}function Kn(e){if(!Array.isArray(e))return!1;if("within"===e[0])return!0;for(let t=1;t<e.length;t++)if(Kn(e[t]))return!0;return!1}function Yn(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?Zn(e[1],e[2],"=="):"!="===t?Jn(Zn(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?Zn(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(Yn))):"all"===t?["all"].concat(e.slice(1).map(Yn)):"none"===t?["all"].concat(e.slice(1).map(Yn).map(Jn)):"in"===t?Xn(e[1],e.slice(2)):"!in"===t?Jn(Xn(e[1],e.slice(2))):"has"===t?Qn(e[1]):"!has"===t?Jn(Qn(e[1])):"within"!==t||e;var n}function Zn(e,t,n){switch(e){case"$type":return["filter-type-".concat(n),t];case"$id":return["filter-id-".concat(n),t];default:return["filter-".concat(n),e,t]}}function Xn(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some((e=>typeof e!=typeof t[0]))?["filter-in-large",e,["literal",t.sort(Wn)]]:["filter-in-small",e,["literal",t]]}}function Qn(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function Jn(e){return["!",e]}function $n(e){const t=typeof e;if("number"===t||"boolean"===t||"string"===t||null==e)return JSON.stringify(e);if(Array.isArray(e)){let t="[";for(const n of e)t+="".concat($n(n),",");return"".concat(t,"]")}const n=Object.keys(e).sort();let i="{";for(let r=0;r<n.length;r++)i+="".concat(JSON.stringify(n[r]),":").concat($n(e[n[r]]),",");return"".concat(i,"}")}function ei(e){let t="";for(const n of X)t+="/".concat($n(e[n]));return t}function ti(e){const t=e.value;return t?[new oe(e.key,t,"constants have been deprecated as of v8")]:[]}function ni(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function ii(e){if(Array.isArray(e))return e.map(ii);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=ii(e[n]);return t}return ni(e)}function ri(e){const t=e.key,n=e.value,i=e.valueSpec||{},r=e.objectElementValidators||{},s=e.style,a=e.styleSpec,o=e.validateSpec;let l=[];const c=In(n);if("object"!==c)return[new oe(t,n,"object expected, ".concat(c," found"))];for(const u in n){const e=u.split(".")[0],c=i[e]||i["*"];let h;if(r[e])h=r[e];else if(i[e])h=o;else if(r["*"])h=r["*"];else{if(!i["*"]){l.push(new oe(t,n[u],'unknown property "'.concat(u,'"')));continue}h=o}l=l.concat(h({key:(t?"".concat(t,"."):t)+u,value:n[u],valueSpec:c,style:s,styleSpec:a,object:n,objectKey:u,validateSpec:o},n))}for(const u in i)r[u]||i[u].required&&void 0===i[u].default&&void 0===n[u]&&l.push(new oe(t,n,'missing required property "'.concat(u,'"')));return l}function si(e){const t=e.value,n=e.valueSpec,i=e.style,r=e.styleSpec,s=e.key,a=e.arrayElementValidator||e.validateSpec;if("array"!==In(t))return[new oe(s,t,"array expected, ".concat(In(t)," found"))];if(n.length&&t.length!==n.length)return[new oe(s,t,"array length ".concat(n.length," expected, length ").concat(t.length," found"))];if(n["min-length"]&&t.length<n["min-length"])return[new oe(s,t,"array length at least ".concat(n["min-length"]," expected, length ").concat(t.length," found"))];let o={type:n.value,values:n.values};r.$version<7&&(o.function=n.function),"object"===In(n.value)&&(o=n.value);let l=[];for(let c=0;c<t.length;c++)l=l.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:o,validateSpec:e.validateSpec,style:i,styleSpec:r,key:"".concat(s,"[").concat(c,"]")}));return l}function ai(e){const t=e.key,n=e.value,i=e.valueSpec;let r=In(n);return"number"===r&&n!=n&&(r="NaN"),"number"!==r?[new oe(t,n,"number expected, ".concat(r," found"))]:"minimum"in i&&n<i.minimum?[new oe(t,n,"".concat(n," is less than the minimum value ").concat(i.minimum))]:"maximum"in i&&n>i.maximum?[new oe(t,n,"".concat(n," is greater than the maximum value ").concat(i.maximum))]:[]}function oi(e){const t=e.valueSpec,n=ni(e.value.type);let i,r,s,a={};const o="categorical"!==n&&void 0===e.value.property,l=!o,c="array"===In(e.value.stops)&&"array"===In(e.value.stops[0])&&"object"===In(e.value.stops[0][0]),u=ri({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new oe(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const i=e.value;return t=t.concat(si({key:e.key,value:i,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===In(i)&&0===i.length&&t.push(new oe(e.key,i,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&o&&u.push(new oe(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new oe(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!Tn(e.valueSpec)&&u.push(new oe(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Sn(e.valueSpec)?u.push(new oe(e.key,e.value,"property functions not supported")):o&&!En(e.valueSpec)&&u.push(new oe(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new oe(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const i=e.value,o=e.key;if("array"!==In(i))return[new oe(o,i,"array expected, ".concat(In(i)," found"))];if(2!==i.length)return[new oe(o,i,"array length 2 expected, length ".concat(i.length," found"))];if(c){if("object"!==In(i[0]))return[new oe(o,i,"object expected, ".concat(In(i[0])," found"))];if(void 0===i[0].zoom)return[new oe(o,i,"object stop key must have zoom")];if(void 0===i[0].value)return[new oe(o,i,"object stop key must have value")];if(s&&s>ni(i[0].zoom))return[new oe(o,i[0].zoom,"stop zoom values must appear in ascending order")];ni(i[0].zoom)!==s&&(s=ni(i[0].zoom),r=void 0,a={}),n=n.concat(ri({key:"".concat(o,"[0]"),value:i[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:ai,value:d}}))}else n=n.concat(d({key:"".concat(o,"[0]"),value:i[0],valueSpec:{},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},i));return Ln(ii(i[1]))?n.concat([new oe("".concat(o,"[1]"),i[1],"expressions are not allowed in function stops.")]):n.concat(e.validateSpec({key:"".concat(o,"[1]"),value:i[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function d(e,s){const o=In(e.value),l=ni(e.value),c=null!==e.value?e.value:s;if(i){if(o!==i)return[new oe(e.key,c,"".concat(o," stop domain type must match previous stop domain type ").concat(i))]}else i=o;if("number"!==o&&"string"!==o&&"boolean"!==o)return[new oe(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==o&&"categorical"!==n){let i="number expected, ".concat(o," found");return Sn(t)&&void 0===n&&(i+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new oe(e.key,c,i)]}return"categorical"!==n||"number"!==o||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===o&&void 0!==r&&l<r?[new oe(e.key,c,"stop domain values must appear in ascending order")]:(r=l,"categorical"===n&&l in a?[new oe(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new oe(e.key,c,"integer expected, found ".concat(l))]}}function li(e){const t=("property"===e.expressionContext?Bn:zn)(ii(e.value),e.valueSpec);if("error"===t.result)return t.value.map((t=>new oe("".concat(e.key).concat(t.key),e.value,t.message)));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new oe(e.key,e.value,'Invalid data expression for "'.concat(e.propertyKey,'". Output values must be contained as literals within the expression.'))];if("property"===e.expressionContext&&"layout"===e.propertyType&&!Ft(n))return[new oe(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!Ft(n))return[new oe(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Bt(n,["zoom","feature-state"]))return[new oe(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!jt(n))return[new oe(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function ci(e){const t=e.key,n=e.value,i=e.valueSpec,r=[];return Array.isArray(i.values)?-1===i.values.indexOf(ni(n))&&r.push(new oe(t,n,"expected one of [".concat(i.values.join(", "),"], ").concat(JSON.stringify(n)," found"))):-1===Object.keys(i.values).indexOf(ni(n))&&r.push(new oe(t,n,"expected one of [".concat(Object.keys(i.values).join(", "),"], ").concat(JSON.stringify(n)," found"))),r}function ui(e){return qn(ii(e.value))?li(le({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):hi(e)}function hi(e){const t=e.value,n=e.key;if("array"!==In(t))return[new oe(n,t,"array expected, ".concat(In(t)," found"))];const i=e.styleSpec;let r,s=[];if(t.length<1)return[new oe(n,t,"filter array must have at least 1 element")];switch(s=s.concat(ci({key:"".concat(n,"[0]"),value:t[0],valueSpec:i.filter_operator,style:e.style,styleSpec:e.styleSpec})),ni(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===ni(t[1])&&s.push(new oe(n,t,'"$type" cannot be use with operator "'.concat(t[0],'"')));case"==":case"!=":3!==t.length&&s.push(new oe(n,t,'filter array for operator "'.concat(t[0],'" must have 3 elements')));case"in":case"!in":t.length>=2&&(r=In(t[1]),"string"!==r&&s.push(new oe("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found"))));for(let a=2;a<t.length;a++)r=In(t[a]),"$type"===ni(t[1])?s=s.concat(ci({key:"".concat(n,"[").concat(a,"]"),value:t[a],valueSpec:i.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==r&&"number"!==r&&"boolean"!==r&&s.push(new oe("".concat(n,"[").concat(a,"]"),t[a],"string, number, or boolean expected, ".concat(r," found")));break;case"any":case"all":case"none":for(let i=1;i<t.length;i++)s=s.concat(hi({key:"".concat(n,"[").concat(i,"]"),value:t[i],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":r=In(t[1]),2!==t.length?s.push(new oe(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"string"!==r&&s.push(new oe("".concat(n,"[1]"),t[1],"string expected, ".concat(r," found")));break;case"within":r=In(t[1]),2!==t.length?s.push(new oe(n,t,'filter array for "'.concat(t[0],'" operator must have 2 elements'))):"object"!==r&&s.push(new oe("".concat(n,"[1]"),t[1],"object expected, ".concat(r," found")))}return s}function di(e,t){const n=e.key,i=e.validateSpec,r=e.style,s=e.styleSpec,a=e.value,o=e.objectKey,l=s["".concat(t,"_").concat(e.layerType)];if(!l)return[];const c=o.match(/^(.*)-transition$/);if("paint"===t&&c&&l[c[1]]&&l[c[1]].transition)return i({key:n,value:a,valueSpec:s.transition,style:r,styleSpec:s});const u=e.valueSpec||l[o];if(!u)return[new oe(n,a,'unknown property "'.concat(o,'"'))];let h;if("string"===In(a)&&Sn(u)&&!u.tokens&&(h=/^{([^}]+)}$/.exec(a)))return[new oe(n,a,'"'.concat(o,'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": ').concat(JSON.stringify(h[1])," }`."))];const d=[];return"symbol"===e.layerType&&("text-field"===o&&r&&!r.glyphs&&d.push(new oe(n,a,'use of "text-field" requires a style "glyphs" property')),"text-font"===o&&kn(ii(a))&&"identity"===ni(a.type)&&d.push(new oe(n,a,'"text-font" does not support identity functions'))),d.concat(i({key:e.key,value:a,valueSpec:u,style:r,styleSpec:s,expressionContext:"property",propertyType:t,propertyKey:o}))}function pi(e){return di(e,"paint")}function fi(e){return di(e,"layout")}function mi(e){let t=[];const n=e.value,i=e.key,r=e.style,s=e.styleSpec;n.type||n.ref||t.push(new oe(i,n,'either "type" or "ref" is required'));let a=ni(n.type);const o=ni(n.ref);if(n.id){const s=ni(n.id);for(let a=0;a<e.arrayIndex;a++){const e=r.layers[a];ni(e.id)===s&&t.push(new oe(i,n.id,'duplicate layer id "'.concat(n.id,'", previously used at line ').concat(e.id.__line__)))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach((e=>{e in n&&t.push(new oe(i,n[e],'"'.concat(e,'" is prohibited for ref layers')))})),r.layers.forEach((t=>{ni(t.id)===o&&(e=t)})),e?e.ref?t.push(new oe(i,n.ref,"ref cannot reference another ref layer")):a=ni(e.type):t.push(new oe(i,n.ref,'ref layer "'.concat(o,'" not found')))}else if("background"!==a)if(n.source){const e=r.sources&&r.sources[n.source],s=e&&ni(e.type);e?"vector"===s&&"raster"===a?t.push(new oe(i,n.source,'layer "'.concat(n.id,'" requires a raster source'))):"raster-dem"!==s&&"hillshade"===a?t.push(new oe(i,n.source,'layer "'.concat(n.id,'" requires a raster-dem source'))):"raster"===s&&"raster"!==a?t.push(new oe(i,n.source,'layer "'.concat(n.id,'" requires a vector source'))):"vector"!==s||n["source-layer"]?"raster-dem"===s&&"hillshade"!==a?t.push(new oe(i,n.source,"raster-dem source can only be used with layer type 'hillshade'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===s&&e.lineMetrics||t.push(new oe(i,n,'layer "'.concat(n.id,'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.'))):t.push(new oe(i,n,'layer "'.concat(n.id,'" must specify a "source-layer"'))):t.push(new oe(i,n.source,'source "'.concat(n.source,'" not found')))}else t.push(new oe(i,n,'missing required property "source"'));return t=t.concat(ri({key:i,value:n,valueSpec:s.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:"".concat(i,".type"),value:n.type,valueSpec:s.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"}),filter:ui,layout:e=>ri({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>fi(le({layerType:a},e))}}),paint:e=>ri({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>pi(le({layerType:a},e))}})}})),t}function gi(e){const t=e.value,n=e.key,i=In(t);return"string"!==i?[new oe(n,t,"string expected, ".concat(i," found"))]:[]}const yi={promoteId:function(e){let{key:t,value:n}=e;if("string"===In(n))return gi({key:t,value:n});{const e=[];for(const i in n)e.push(...gi({key:"".concat(t,".").concat(i),value:n[i]}));return e}}};function vi(e){const t=e.value,n=e.key,i=e.styleSpec,r=e.style,s=e.validateSpec;if(!t.type)return[new oe(n,t,'"type" is required')];const a=ni(t.type);let o;switch(a){case"vector":case"raster":return o=ri({key:n,value:t,valueSpec:i["source_".concat(a.replace("-","_"))],style:e.style,styleSpec:i,objectElementValidators:yi,validateSpec:s}),o;case"raster-dem":return o=function(e){var t;const n=null!==(t=e.sourceName)&&void 0!==t?t:"",i=e.value,r=e.styleSpec,s=r.source_raster_dem,a=e.style;let o=[];const l=In(i);if(void 0===i)return o;if("object"!==l)return o.push(new oe("source_raster_dem",i,"object expected, ".concat(l," found"))),o;const c="custom"===ni(i.encoding),u=["redFactor","greenFactor","blueFactor","baseShift"],h=e.value.encoding?'"'.concat(e.value.encoding,'"'):"Default";for(const d in i)!c&&u.includes(d)?o.push(new oe(d,i[d],'In "'.concat(n,'": "').concat(d,'" is only valid when "encoding" is set to "custom". ').concat(h," encoding found"))):s[d]?o=o.concat(e.validateSpec({key:d,value:i[d],valueSpec:s[d],validateSpec:e.validateSpec,style:a,styleSpec:r})):o.push(new oe(d,i[d],'unknown property "'.concat(d,'"')));return o}({sourceName:n,value:t,style:e.style,styleSpec:i,validateSpec:s}),o;case"geojson":if(o=ri({key:n,value:t,valueSpec:i.source_geojson,style:r,styleSpec:i,validateSpec:s,objectElementValidators:yi}),t.cluster)for(const e in t.clusterProperties){const[i,r]=t.clusterProperties[e],a="string"==typeof i?[i,["accumulated"],["get",e]]:i;o.push(...li({key:"".concat(n,".").concat(e,".map"),value:r,validateSpec:s,expressionContext:"cluster-map"})),o.push(...li({key:"".concat(n,".").concat(e,".reduce"),value:a,validateSpec:s,expressionContext:"cluster-reduce"}))}return o;case"video":return ri({key:n,value:t,valueSpec:i.source_video,style:r,validateSpec:s,styleSpec:i});case"image":return ri({key:n,value:t,valueSpec:i.source_image,style:r,validateSpec:s,styleSpec:i});case"canvas":return[new oe(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ci({key:"".concat(n,".type"),value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:r,validateSpec:s,styleSpec:i})}}function _i(e){const t=e.value,n=e.styleSpec,i=n.light,r=e.style;let s=[];const a=In(t);if(void 0===t)return s;if("object"!==a)return s=s.concat([new oe("light",t,"object expected, ".concat(a," found"))]),s;for(const o in t){const a=o.match(/^(.*)-transition$/);s=s.concat(a&&i[a[1]]&&i[a[1]].transition?e.validateSpec({key:o,value:t[o],valueSpec:n.transition,validateSpec:e.validateSpec,style:r,styleSpec:n}):i[o]?e.validateSpec({key:o,value:t[o],valueSpec:i[o],validateSpec:e.validateSpec,style:r,styleSpec:n}):[new oe(o,t[o],'unknown property "'.concat(o,'"'))])}return s}function bi(e){const t=e.value,n=e.styleSpec,i=n.terrain,r=e.style;let s=[];const a=In(t);if(void 0===t)return s;if("object"!==a)return s=s.concat([new oe("terrain",t,"object expected, ".concat(a," found"))]),s;for(const o in t)s=s.concat(i[o]?e.validateSpec({key:o,value:t[o],valueSpec:i[o],validateSpec:e.validateSpec,style:r,styleSpec:n}):[new oe(o,t[o],'unknown property "'.concat(o,'"'))]);return s}function xi(e){let t=[];const n=e.value,i=e.key;if(Array.isArray(n)){const r=[],s=[];for(const a in n)n[a].id&&r.includes(n[a].id)&&t.push(new oe(i,n,"all the sprites' ids must be unique, but ".concat(n[a].id," is duplicated"))),r.push(n[a].id),n[a].url&&s.includes(n[a].url)&&t.push(new oe(i,n,"all the sprites' URLs must be unique, but ".concat(n[a].url," is duplicated"))),s.push(n[a].url),t=t.concat(ri({key:"".concat(i,"[").concat(a,"]"),value:n[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return gi({key:i,value:n})}const wi={"*":()=>[],array:si,boolean:function(e){const t=e.value,n=e.key,i=In(t);return"boolean"!==i?[new oe(n,t,"boolean expected, ".concat(i," found"))]:[]},number:ai,color:function(e){const t=e.key,n=e.value,i=In(n);return"string"!==i?[new oe(t,n,"color expected, ".concat(i," found"))]:Xe.parse(String(n))?[]:[new oe(t,n,'color expected, "'.concat(n,'" found'))]},constants:ti,enum:ci,filter:ui,function:oi,layer:mi,object:ri,source:vi,light:_i,terrain:bi,string:gi,formatted:function(e){return 0===gi(e).length?[]:li(e)},resolvedImage:function(e){return 0===gi(e).length?[]:li(e)},padding:function(e){const t=e.key,n=e.value;if("array"===In(n)){if(n.length<1||n.length>4)return[new oe(t,n,"padding requires 1 to 4 values; ".concat(n.length," values found"))];const i={type:"number"};let r=[];for(let s=0;s<n.length;s++)r=r.concat(e.validateSpec({key:"".concat(t,"[").concat(s,"]"),value:n[s],validateSpec:e.validateSpec,valueSpec:i}));return r}return ai({key:t,value:n,valueSpec:{}})},variableAnchorOffsetCollection:function(e){const t=e.key,n=e.value,i=In(n),r=e.styleSpec;if("array"!==i||n.length<1||n.length%2!=0)return[new oe(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let s=[];for(let a=0;a<n.length;a+=2)s=s.concat(ci({key:"".concat(t,"[").concat(a,"]"),value:n[a],valueSpec:r.layout_symbol["text-anchor"]})),s=s.concat(si({key:"".concat(t,"[").concat(a+1,"]"),value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:r}));return s},sprite:xi};function Si(e){const t=e.value,n=e.valueSpec,i=e.styleSpec;return e.validateSpec=Si,n.expression&&kn(ni(t))?oi(e):n.expression&&Ln(ii(t))?li(e):n.type&&wi[n.type]?wi[n.type](e):ri(le({},e,{valueSpec:n.type?i[n.type]:n}))}function Ei(e){const t=e.value,n=e.key,i=gi(e);return i.length||(-1===t.indexOf("{fontstack}")&&i.push(new oe(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&i.push(new oe(n,t,'"glyphs" url must include a "{range}" token'))),i}function Ti(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z,n=[];return n=n.concat(Si({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:Si,objectElementValidators:{glyphs:Ei,"*":()=>[]}})),e.constants&&(n=n.concat(ti({key:"constants",value:e.constants,style:e,styleSpec:t,validateSpec:Si}))),ki(n)}function Ii(e){return function(t){return e({...t,validateSpec:Si})}}function ki(e){return[].concat(e).sort(((e,t)=>e.line-t.line))}function Ci(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return ki(e.apply(this,n))}}Ti.source=Ci(Ii(vi)),Ti.sprite=Ci(Ii(xi)),Ti.glyphs=Ci(Ii(Ei)),Ti.light=Ci(Ii(_i)),Ti.terrain=Ci(Ii(bi)),Ti.layer=Ci(Ii(mi)),Ti.filter=Ci(Ii(ui)),Ti.paintProperty=Ci(Ii(pi)),Ti.layoutProperty=Ci(Ii(fi));const Ai=Ti,Pi=Ai.light,Ni=Ai.paintProperty,Mi=Ai.layoutProperty;function Ri(e,t){let n=!1;if(t&&t.length)for(const i of t)e.fire(new K(new Error(i.message))),n=!0;return n}class Oi{constructor(e,t,n){const i=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const r=new Int32Array(this.arrayBuffer);e=r[0],this.d=(t=r[1])+2*(n=r[2]);for(let e=0;e<this.d*this.d;e++){const t=r[3+e],n=r[3+e+1];i.push(t===n?null:r.subarray(t,n))}const s=r[3+i.length+1];this.keys=r.subarray(r[3+i.length],s),this.bboxes=r.subarray(s),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)i.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const r=n/t*e;this.min=-r,this.max=e+r}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,i,r,s){this.cells[r].push(s)}query(e,t,n,i,r){const s=this.min,a=this.max;if(e<=s&&t<=s&&a<=n&&a<=i&&!r)return Array.prototype.slice.call(this.keys);{const s=[];return this._forEachCell(e,t,n,i,this._queryCell,s,{},r),s}}_queryCell(e,t,n,i,r,s,a,o){const l=this.cells[r];if(null!==l){const r=this.keys,c=this.bboxes;for(let u=0;u<l.length;u++){const h=l[u];if(void 0===a[h]){const l=4*h;(o?o(c[l+0],c[l+1],c[l+2],c[l+3]):e<=c[l+2]&&t<=c[l+3]&&n>=c[l+0]&&i>=c[l+1])?(a[h]=!0,s.push(r[h])):a[h]=!1}}}}_forEachCell(e,t,n,i,r,s,a,o){const l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),h=this._convertToCellCoord(i);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++){const c=this.d*l+d;if((!o||o(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&r.call(this,e,t,n,i,c,s,a,o))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let s=0;s<this.cells.length;s++)n+=this.cells[s].length;const i=new Int32Array(t+n+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;let r=t;for(let s=0;s<e.length;s++){const t=e[s];i[3+s]=r,i.set(t,r),r+=t.length}return i[3+e.length]=r,i.set(this.keys,r),r+=this.keys.length,i[3+e.length+1]=r,i.set(this.bboxes,r),r+=this.bboxes.length,i.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new Oi(e.buffer)}}const Di={};function Li(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Di[e])throw new Error("".concat(e," is already registered."));Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),Di[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}Li("Object",Object),Li("TransferableGridIndex",Oi),Li("Color",Xe),Li("Error",Error),Li("AJAXError",z),Li("ResolvedImage",it),Li("StylePropertyFunction",Vn),Li("StyleExpression",Dn,{omit:["_evaluator"]}),Li("ZoomDependentExpression",Fn),Li("ZoomConstantExpression",jn),Li("CompoundExpression",Lt,{omit:["_evaluate"]});for(const dh in gn)gn[dh]._classRegistryKey||Li("Expression_".concat(dh),gn[dh]);function zi(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function ji(e,t){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob)return e;if(zi(e))return t&&t.push(e),e;if(C(e))return t&&t.push(e),e;if(ArrayBuffer.isView(e)){const n=e;return t&&t.push(n.buffer),n}if(e instanceof ImageData)return t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const i of e)n.push(ji(i,t));return n}if("object"==typeof e){const n=e.constructor,i=n._classRegistryKey;if(!i)throw new Error("can't serialize object of unregistered class");if(!Di[i])throw new Error("".concat(i," is not registered."));const r=n.serialize?n.serialize(e,t):{};if(n.serialize){if(t&&r===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const n in e){if(!e.hasOwnProperty(n))continue;if(Di[i].omit.indexOf(n)>=0)continue;const s=e[n];r[n]=Di[i].shallow.indexOf(n)>=0?s:ji(s,t)}e instanceof Error&&(r.message=e.message)}if(r.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==i&&(r.$name=i),r}throw new Error("can't serialize object of type "+typeof e)}function Fi(e){if(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||zi(e)||C(e)||ArrayBuffer.isView(e)||e instanceof ImageData)return e;if(Array.isArray(e))return e.map(Fi);if("object"==typeof e){const t=e.$name||"Object";if(!Di[t])throw new Error("can't deserialize unregistered class ".concat(t));const{klass:n}=Di[t];if(!n)throw new Error("can't deserialize unregistered class ".concat(t));if(n.deserialize)return n.deserialize(e);const i=Object.create(n.prototype);for(const r of Object.keys(e)){if("$name"===r)continue;const n=e[r];i[r]=Di[t].shallow.indexOf(r)>=0?n:Fi(n)}return i}throw new Error("can't deserialize object of type "+typeof e)}class Bi{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}const Vi={"Latin-1 Supplement":e=>e>=128&&e<=255,Arabic:e=>e>=1536&&e<=1791,"Arabic Supplement":e=>e>=1872&&e<=1919,"Arabic Extended-A":e=>e>=2208&&e<=2303,"Hangul Jamo":e=>e>=4352&&e<=4607,"Unified Canadian Aboriginal Syllabics":e=>e>=5120&&e<=5759,Khmer:e=>e>=6016&&e<=6143,"Unified Canadian Aboriginal Syllabics Extended":e=>e>=6320&&e<=6399,"General Punctuation":e=>e>=8192&&e<=8303,"Letterlike Symbols":e=>e>=8448&&e<=8527,"Number Forms":e=>e>=8528&&e<=8591,"Miscellaneous Technical":e=>e>=8960&&e<=9215,"Control Pictures":e=>e>=9216&&e<=9279,"Optical Character Recognition":e=>e>=9280&&e<=9311,"Enclosed Alphanumerics":e=>e>=9312&&e<=9471,"Geometric Shapes":e=>e>=9632&&e<=9727,"Miscellaneous Symbols":e=>e>=9728&&e<=9983,"Miscellaneous Symbols and Arrows":e=>e>=11008&&e<=11263,"CJK Radicals Supplement":e=>e>=11904&&e<=12031,"Kangxi Radicals":e=>e>=12032&&e<=12255,"Ideographic Description Characters":e=>e>=12272&&e<=12287,"CJK Symbols and Punctuation":e=>e>=12288&&e<=12351,Hiragana:e=>e>=12352&&e<=12447,Katakana:e=>e>=12448&&e<=12543,Bopomofo:e=>e>=12544&&e<=12591,"Hangul Compatibility Jamo":e=>e>=12592&&e<=12687,Kanbun:e=>e>=12688&&e<=12703,"Bopomofo Extended":e=>e>=12704&&e<=12735,"CJK Strokes":e=>e>=12736&&e<=12783,"Katakana Phonetic Extensions":e=>e>=12784&&e<=12799,"Enclosed CJK Letters and Months":e=>e>=12800&&e<=13055,"CJK Compatibility":e=>e>=13056&&e<=13311,"CJK Unified Ideographs Extension A":e=>e>=13312&&e<=19903,"Yijing Hexagram Symbols":e=>e>=19904&&e<=19967,"CJK Unified Ideographs":e=>e>=19968&&e<=40959,"Yi Syllables":e=>e>=40960&&e<=42127,"Yi Radicals":e=>e>=42128&&e<=42191,"Hangul Jamo Extended-A":e=>e>=43360&&e<=43391,"Hangul Syllables":e=>e>=44032&&e<=55215,"Hangul Jamo Extended-B":e=>e>=55216&&e<=55295,"Private Use Area":e=>e>=57344&&e<=63743,"CJK Compatibility Ideographs":e=>e>=63744&&e<=64255,"Arabic Presentation Forms-A":e=>e>=64336&&e<=65023,"Vertical Forms":e=>e>=65040&&e<=65055,"CJK Compatibility Forms":e=>e>=65072&&e<=65103,"Small Form Variants":e=>e>=65104&&e<=65135,"Arabic Presentation Forms-B":e=>e>=65136&&e<=65279,"Halfwidth and Fullwidth Forms":e=>e>=65280&&e<=65519};function Ui(e){for(const t of e)if(Gi(t.charCodeAt(0)))return!0;return!1}function qi(e){for(const t of e)if(!Hi(t.charCodeAt(0)))return!1;return!0}function Hi(e){return!(Vi.Arabic(e)||Vi["Arabic Supplement"](e)||Vi["Arabic Extended-A"](e)||Vi["Arabic Presentation Forms-A"](e)||Vi["Arabic Presentation Forms-B"](e))}function Gi(e){return!(746!==e&&747!==e&&(e<4352||!(Vi["Bopomofo Extended"](e)||Vi.Bopomofo(e)||Vi["CJK Compatibility Forms"](e)&&!(e>=65097&&e<=65103)||Vi["CJK Compatibility Ideographs"](e)||Vi["CJK Compatibility"](e)||Vi["CJK Radicals Supplement"](e)||Vi["CJK Strokes"](e)||!(!Vi["CJK Symbols and Punctuation"](e)||e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||Vi["CJK Unified Ideographs Extension A"](e)||Vi["CJK Unified Ideographs"](e)||Vi["Enclosed CJK Letters and Months"](e)||Vi["Hangul Compatibility Jamo"](e)||Vi["Hangul Jamo Extended-A"](e)||Vi["Hangul Jamo Extended-B"](e)||Vi["Hangul Jamo"](e)||Vi["Hangul Syllables"](e)||Vi.Hiragana(e)||Vi["Ideographic Description Characters"](e)||Vi.Kanbun(e)||Vi["Kangxi Radicals"](e)||Vi["Katakana Phonetic Extensions"](e)||Vi.Katakana(e)&&12540!==e||!(!Vi["Halfwidth and Fullwidth Forms"](e)||65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||!(!Vi["Small Form Variants"](e)||e>=65112&&e<=65118||e>=65123&&e<=65126)||Vi["Unified Canadian Aboriginal Syllabics"](e)||Vi["Unified Canadian Aboriginal Syllabics Extended"](e)||Vi["Vertical Forms"](e)||Vi["Yijing Hexagram Symbols"](e)||Vi["Yi Syllables"](e)||Vi["Yi Radicals"](e))))}function Wi(e){return!(Gi(e)||function(e){return!!(Vi["Latin-1 Supplement"](e)&&(167===e||169===e||174===e||177===e||188===e||189===e||190===e||215===e||247===e)||Vi["General Punctuation"](e)&&(8214===e||8224===e||8225===e||8240===e||8241===e||8251===e||8252===e||8258===e||8263===e||8264===e||8265===e||8273===e)||Vi["Letterlike Symbols"](e)||Vi["Number Forms"](e)||Vi["Miscellaneous Technical"](e)&&(e>=8960&&e<=8967||e>=8972&&e<=8991||e>=8996&&e<=9e3||9003===e||e>=9085&&e<=9114||e>=9150&&e<=9165||9167===e||e>=9169&&e<=9179||e>=9186&&e<=9215)||Vi["Control Pictures"](e)&&9251!==e||Vi["Optical Character Recognition"](e)||Vi["Enclosed Alphanumerics"](e)||Vi["Geometric Shapes"](e)||Vi["Miscellaneous Symbols"](e)&&!(e>=9754&&e<=9759)||Vi["Miscellaneous Symbols and Arrows"](e)&&(e>=11026&&e<=11055||e>=11088&&e<=11097||e>=11192&&e<=11243)||Vi["CJK Symbols and Punctuation"](e)||Vi.Katakana(e)||Vi["Private Use Area"](e)||Vi["CJK Compatibility Forms"](e)||Vi["Small Form Variants"](e)||Vi["Halfwidth and Fullwidth Forms"](e)||8734===e||8756===e||8757===e||e>=9984&&e<=10087||e>=10102&&e<=10131||65532===e||65533===e)}(e))}function Ki(e){return e>=1424&&e<=2303||Vi["Arabic Presentation Forms-A"](e)||Vi["Arabic Presentation Forms-B"](e)}function Yi(e,t){return!(!t&&Ki(e)||e>=2304&&e<=3583||e>=3840&&e<=4255||Vi.Khmer(e))}function Zi(e){for(const t of e)if(Ki(t.charCodeAt(0)))return!0;return!1}const Xi="deferred",Qi="loading",Ji="loaded";let $i=null,er="unavailable",tr=null;const nr=function(e){e&&"string"==typeof e&&e.indexOf("NetworkError")>-1&&(er="error"),$i&&$i(e)};function ir(){rr.fire(new W("pluginStateChange",{pluginStatus:er,pluginURL:tr}))}const rr=new Y,sr=function(){return er},ar=function(){if(er!==Xi||!tr)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");er=Qi,ir(),tr&&U({url:tr},(e=>{e?nr(e):(er=Ji,ir())}))},or={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>er===Ji||null!=or.applyArabicShaping,isLoading:()=>er===Qi,setState(e){if(!I())throw new Error("Cannot set the state of the rtl-text-plugin when not in the web-worker context");er=e.pluginStatus,tr=e.pluginURL},isParsed(){if(!I())throw new Error("rtl-text-plugin is only parsed on the worker-threads");return null!=or.applyArabicShaping&&null!=or.processBidirectionalText&&null!=or.processStyledBidirectionalText},getPluginURL(){if(!I())throw new Error("rtl-text-plugin url can only be queried from the worker threads");return tr}};class lr{constructor(e,t){this.zoom=e,t?(this.now=t.now,this.fadeDuration=t.fadeDuration,this.zoomHistory=t.zoomHistory,this.transition=t.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Bi,this.transition={})}isSupportedScript(e){return function(e,t){for(const n of e)if(!Yi(n.charCodeAt(0),t))return!1;return!0}(e,or.isLoaded())}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}class cr{constructor(e,t){this.property=e,this.value=t,this.expression=function(e,t){if(kn(e))return new Vn(e,t);if(Ln(e)){const n=Bn(e,t);if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));return n.value}{let n=e;return"color"===t.type&&"string"==typeof e?n=Xe.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)&&(n=nt.parse(e)):n=et.parse(e),{kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class ur{constructor(e){this.property=e,this.value=new cr(e,void 0)}transitioned(e,t){return new dr(this.property,this.value,t,y({},e.transition,this.transition),e.now)}untransitioned(){return new dr(this.property,this.value,null,{},0)}}class hr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues)}getValue(e){return x(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ur(this._values[e].property)),this._values[e].value=new cr(this._values[e].property,null===t?void 0:x(t))}getTransition(e){return x(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new ur(this._values[e].property)),this._values[e].transition=x(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const i=this.getTransition(t);void 0!==i&&(e["".concat(t,"-transition")]=i)}return e}transitioned(e,t){const n=new pr(this._properties);for(const i of Object.keys(this._values))n._values[i]=this._values[i].transitioned(e,t._values[i]);return n}untransitioned(){const e=new pr(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class dr{constructor(e,t,n,i,r){this.property=e,this.value=t,this.begin=r+i.delay||0,this.end=this.begin+i.duration||0,e.specification.transition&&(i.delay||i.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const i=e.now||0,r=this.value.possiblyEvaluate(e,t,n),s=this.prior;if(s){if(i>this.end)return this.prior=null,r;if(this.value.isDataDriven())return this.prior=null,r;if(i<this.begin)return s.possiblyEvaluate(e,t,n);{const a=(i-this.begin)/(this.end-this.begin);return this.property.interpolate(s.possiblyEvaluate(e,t,n),r,function(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}(a))}}return r}}class pr{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const i=new gr(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class fr{constructor(e){this._properties=e,this._values=Object.create(e.defaultPropertyValues)}hasValue(e){return void 0!==this._values[e].value}getValue(e){return x(this._values[e].value)}setValue(e,t){this._values[e]=new cr(this._values[e].property,null===t?void 0:x(t))}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const i=new gr(this._properties);for(const r of Object.keys(this._values))i._values[r]=this._values[r].possiblyEvaluate(e,t,n);return i}}class mr{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,i){return this.property.evaluate(this.value,this.parameters,e,t,n,i)}}class gr{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class yr{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,n){const i=Gt[this.specification.type];return i?i(e,t,n):e}}class vr{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,i){return new mr(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,i)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new mr(this,{kind:"constant",value:void 0},e.parameters);const i=Gt[this.specification.type];if(i){const r=i(e.value.value,t.value.value,n);return new mr(this,{kind:"constant",value:r},e.parameters)}return e}evaluate(e,t,n,i,r,s){return"constant"===e.kind?e.value:e.evaluate(t,n,i,r,s)}}class _r extends vr{possiblyEvaluate(e,t,n,i){if(void 0===e.value)return new mr(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},n,i),s="resolvedImage"===e.property.specification.type&&"string"!=typeof r?r.name:r,a=this._calculate(s,s,s,t);return new mr(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new mr(this,{kind:"constant",value:n},t)}return new mr(this,e.expression,t)}evaluate(e,t,n,i,r,s){if("source"===e.kind){const a=e.evaluate(t,n,i,r,s);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,i),e.evaluate({zoom:Math.floor(t.zoom)},n,i),e.evaluate({zoom:Math.floor(t.zoom)+1},n,i),t):e.value}_calculate(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class br{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){if(void 0!==e.value){if("constant"===e.expression.kind){const r=e.expression.evaluate(t,null,{},n,i);return this._calculate(r,r,r,t)}return this._calculate(e.expression.evaluate(new lr(Math.floor(t.zoom-1),t)),e.expression.evaluate(new lr(Math.floor(t.zoom),t)),e.expression.evaluate(new lr(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,i){return i.zoom>i.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class xr{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,i){return!!e.expression.evaluate(t,null,{},n,i)}interpolate(){return!1}}class wr{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const i=this.defaultPropertyValues[t]=new cr(n,void 0),r=this.defaultTransitionablePropertyValues[t]=new ur(n);this.defaultTransitioningPropertyValues[t]=r.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=i.possiblyEvaluate({})}}}Li("DataDrivenProperty",vr),Li("DataConstantProperty",yr),Li("CrossFadedDataDrivenProperty",_r),Li("CrossFadedProperty",br),Li("ColorRampProperty",xr);const Sr="-transition";class Er extends Y{constructor(e,t){if(super(),this.id=e.id,this.type=e.type,this._featureFilter={filter:()=>!0,needGeometry:!1},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter),t.layout&&(this._unevaluatedLayout=new fr(t.layout)),t.paint)){this._transitionablePaint=new hr(t.paint);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new gr(t.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}setLayoutProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};null!=t&&this._validate(Mi,"layers.".concat(this.id,".layout.").concat(e),e,t,n)||("visibility"!==e?this._unevaluatedLayout.setValue(e,t):this.visibility=t)}getPaintProperty(e){return e.endsWith(Sr)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=t&&this._validate(Ni,"layers.".concat(this.id,".paint.").concat(e),e,t,n))return!1;if(e.endsWith(Sr))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;{const n=this._transitionablePaint._values[e],i="cross-faded-data-driven"===n.property.specification["property-type"],r=n.value.isDataDriven(),s=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||r||i||this._handleOverridablePaintPropertyUpdate(e,s,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e){return!!(this.minzoom&&e<this.minzoom)||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this.visibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),b(e,((e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length)))}_validate(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!r||!1!==r.validate)&&Ri(this,e.call(Ai,{key:t,layerType:this.type,objectKey:n,value:i,styleSpec:Z,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof mr&&Sn(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}const Tr={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Ir{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class kr{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=0,i=0;return{members:e.map((e=>{const r=Tr[e.type].BYTES_PER_ELEMENT,s=n=Ar(n,Math.max(t,r)),a=e.components||1;return i=Math.max(i,r),n+=r*a,{name:e.name,type:e.type,components:a,offset:s}})),size:Ar(n,Math.max(i,t)),alignment:t}}function Ar(e,t){return Math.ceil(e/t)*t}class Pr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.int16[i+0]=t,this.int16[i+1]=n,e}}Pr.prototype.bytesPerElement=4,Li("StructArrayLayout2i4",Pr);class Nr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.int16[r+0]=t,this.int16[r+1]=n,this.int16[r+2]=i,e}}Nr.prototype.bytesPerElement=6,Li("StructArrayLayout3i6",Nr);class Mr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const s=4*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=i,this.int16[s+3]=r,e}}Mr.prototype.bytesPerElement=8,Li("StructArrayLayout4i8",Mr);class Rr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,s)}emplace(e,t,n,i,r,s,a){const o=6*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,this.int16[o+4]=s,this.int16[o+5]=a,e}}Rr.prototype.bytesPerElement=12,Li("StructArrayLayout2i4i12",Rr);class Or extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,s)}emplace(e,t,n,i,r,s,a){const o=4*e,l=8*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.uint8[l+4]=i,this.uint8[l+5]=r,this.uint8[l+6]=s,this.uint8[l+7]=a,e}}Or.prototype.bytesPerElement=8,Li("StructArrayLayout2i4ub8",Or);class Dr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.float32[i+0]=t,this.float32[i+1]=n,e}}Dr.prototype.bytesPerElement=8,Li("StructArrayLayout2f8",Dr);class Lr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s,a,o,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,i,r,s,a,o,l,c)}emplace(e,t,n,i,r,s,a,o,l,c,u){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=i,this.uint16[h+3]=r,this.uint16[h+4]=s,this.uint16[h+5]=a,this.uint16[h+6]=o,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,e}}Lr.prototype.bytesPerElement=20,Li("StructArrayLayout10ui20",Lr);class zr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s,a,o,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,i,r,s,a,o,l,c,u,h)}emplace(e,t,n,i,r,s,a,o,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=i,this.int16[p+3]=r,this.uint16[p+4]=s,this.uint16[p+5]=a,this.uint16[p+6]=o,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}zr.prototype.bytesPerElement=24,Li("StructArrayLayout4i4ui4i24",zr);class jr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.float32[r+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}jr.prototype.bytesPerElement=12,Li("StructArrayLayout3f12",jr);class Fr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}Fr.prototype.bytesPerElement=4,Li("StructArrayLayout1ul4",Fr);class Br extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s,a,o,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,i,r,s,a,o,l)}emplace(e,t,n,i,r,s,a,o,l,c){const u=10*e,h=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=i,this.int16[u+3]=r,this.int16[u+4]=s,this.int16[u+5]=a,this.uint32[h+3]=o,this.uint16[u+8]=l,this.uint16[u+9]=c,e}}Br.prototype.bytesPerElement=20,Li("StructArrayLayout6i1ul2ui20",Br);class Vr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,i,r,s)}emplace(e,t,n,i,r,s,a){const o=6*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=i,this.int16[o+3]=r,this.int16[o+4]=s,this.int16[o+5]=a,e}}Vr.prototype.bytesPerElement=12,Li("StructArrayLayout2i2i2i12",Vr);class Ur extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r){const s=this.length;return this.resize(s+1),this.emplace(s,e,t,n,i,r)}emplace(e,t,n,i,r,s){const a=4*e,o=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=i,this.int16[o+6]=r,this.int16[o+7]=s,e}}Ur.prototype.bytesPerElement=16,Li("StructArrayLayout2f1f2i16",Ur);class qr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const s=12*e,a=3*e;return this.uint8[s+0]=t,this.uint8[s+1]=n,this.float32[a+1]=i,this.float32[a+2]=r,e}}qr.prototype.bytesPerElement=12,Li("StructArrayLayout2ub2f12",qr);class Hr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,this.uint16[r+2]=i,e}}Hr.prototype.bytesPerElement=6,Li("StructArrayLayout3ui6",Hr);class Gr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g)}emplace(e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y){const v=24*e,_=12*e,b=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=i,this.uint16[v+3]=r,this.uint32[_+2]=s,this.uint32[_+3]=a,this.uint32[_+4]=o,this.uint16[v+10]=l,this.uint16[v+11]=c,this.uint16[v+12]=u,this.float32[_+7]=h,this.float32[_+8]=d,this.uint8[b+36]=p,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,e}}Gr.prototype.bytesPerElement=48,Li("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",Gr);class Wr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,I,k){const C=this.length;return this.resize(C+1),this.emplace(C,e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,I,k)}emplace(e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,I,k,C){const A=32*e,P=16*e;return this.int16[A+0]=t,this.int16[A+1]=n,this.int16[A+2]=i,this.int16[A+3]=r,this.int16[A+4]=s,this.int16[A+5]=a,this.int16[A+6]=o,this.int16[A+7]=l,this.uint16[A+8]=c,this.uint16[A+9]=u,this.uint16[A+10]=h,this.uint16[A+11]=d,this.uint16[A+12]=p,this.uint16[A+13]=f,this.uint16[A+14]=m,this.uint16[A+15]=g,this.uint16[A+16]=y,this.uint16[A+17]=v,this.uint16[A+18]=_,this.uint16[A+19]=b,this.uint16[A+20]=x,this.uint16[A+21]=w,this.uint16[A+22]=S,this.uint32[P+12]=E,this.float32[P+13]=T,this.float32[P+14]=I,this.uint16[A+30]=k,this.uint16[A+31]=C,e}}Wr.prototype.bytesPerElement=64,Li("StructArrayLayout8i15ui1ul2f2ui64",Wr);class Kr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Kr.prototype.bytesPerElement=4,Li("StructArrayLayout1f4",Kr);class Yr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=3*e;return this.uint16[6*e+0]=t,this.float32[r+1]=n,this.float32[r+2]=i,e}}Yr.prototype.bytesPerElement=12,Li("StructArrayLayout1ui2f12",Yr);class Zr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n)}emplace(e,t,n,i){const r=4*e;return this.uint32[2*e+0]=t,this.uint16[r+2]=n,this.uint16[r+3]=i,e}}Zr.prototype.bytesPerElement=8,Li("StructArrayLayout1ul2ui8",Zr);class Xr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const i=2*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,e}}Xr.prototype.bytesPerElement=4,Li("StructArrayLayout2ui4",Xr);class Qr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Qr.prototype.bytesPerElement=2,Li("StructArrayLayout1ui2",Qr);class Jr extends kr{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,i){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n,i)}emplace(e,t,n,i,r){const s=4*e;return this.float32[s+0]=t,this.float32[s+1]=n,this.float32[s+2]=i,this.float32[s+3]=r,e}}Jr.prototype.bytesPerElement=16,Li("StructArrayLayout4f16",Jr);class $r extends Ir{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new s(this.anchorPointX,this.anchorPointY)}}$r.prototype.size=20;class es extends Br{get(e){return new $r(this,e)}}Li("CollisionBoxArray",es);class ts extends Ir{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}ts.prototype.size=48;class ns extends Gr{get(e){return new ts(this,e)}}Li("PlacedSymbolArray",ns);class is extends Ir{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}is.prototype.size=64;class rs extends Wr{get(e){return new is(this,e)}}Li("SymbolInstanceArray",rs);class ss extends Kr{getoffsetX(e){return this.float32[1*e+0]}}Li("GlyphOffsetArray",ss);class as extends Nr{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}Li("SymbolLineVertexArray",as);class os extends Ir{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}os.prototype.size=12;class ls extends Yr{get(e){return new os(this,e)}}Li("TextAnchorOffsetArray",ls);class cs extends Ir{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}cs.prototype.size=8;class us extends Zr{get(e){return new cs(this,e)}}Li("FeatureIndexArray",us);class hs extends Pr{}class ds extends Pr{}class ps extends Pr{}class fs extends Rr{}class ms extends Or{}class gs extends Dr{}class ys extends Lr{}class vs extends zr{}class _s extends jr{}class bs extends Fr{}class xs extends Vr{}class ws extends qr{}class Ss extends Hr{}class Es extends Xr{}const Ts=Cr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Is}=Ts;class ks{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.segments=e}prepareSegment(e,t,n,i){let r=this.segments[this.segments.length-1];return e>ks.MAX_VERTEX_ARRAY_LENGTH&&S("Max vertices per segment is ".concat(ks.MAX_VERTEX_ARRAY_LENGTH,": bucket requested ").concat(e)),(!r||r.vertexLength+e>ks.MAX_VERTEX_ARRAY_LENGTH||r.sortKey!==i)&&(r={vertexOffset:t.length,primitiveOffset:n.length,vertexLength:0,primitiveLength:0},void 0!==i&&(r.sortKey=i),this.segments.push(r)),r}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,i){return new ks([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:i,vaos:{},sortKey:0}])}}function Cs(e,t){return 256*(e=m(Math.floor(e),0,255))+m(Math.floor(t),0,255)}ks.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Li("SegmentVector",ks);const As=Cr([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]);var Ps={exports:{}},Ns={exports:{}};Ns.exports=function(e,t){var n,i,r,s,a,o,l,c;for(i=e.length-(n=3&e.length),r=t,a=3432918353,o=461845907,c=0;c<i;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,r=27492+(65535&(s=5*(65535&(r=(r^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295)<<13|r>>>19))+((5*(r>>>16)&65535)<<16)&4294967295))+((58964+(s>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:r^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*o+(((l>>>16)*o&65535)<<16)&4294967295}return r^=e.length,r=2246822507*(65535&(r^=r>>>16))+((2246822507*(r>>>16)&65535)<<16)&4294967295,r=3266489909*(65535&(r^=r>>>13))+((3266489909*(r>>>16)&65535)<<16)&4294967295,(r^=r>>>16)>>>0};var Ms=Ns.exports,Rs={exports:{}};Rs.exports=function(e,t){for(var n,i=e.length,r=t^i,s=0;i>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(s)|(255&e.charCodeAt(++s))<<8|(255&e.charCodeAt(++s))<<16|(255&e.charCodeAt(++s))<<24))+((1540483477*(n>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),i-=4,++s;switch(i){case 3:r^=(255&e.charCodeAt(s+2))<<16;case 2:r^=(255&e.charCodeAt(s+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(s)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),(r^=r>>>15)>>>0};var Os=Ms,Ds=Rs.exports;Ps.exports=Os,Ps.exports.murmur3=Os,Ps.exports.murmur2=Ds;var Ls=n(Ps.exports);class zs{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,i){this.ids.push(js(e)),this.positions.push(t,n,i)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const t=js(e);let n=0,i=this.ids.length-1;for(;n<i;){const e=n+i>>1;this.ids[e]>=t?i=e:n=e+1}const r=[];for(;this.ids[n]===t;)r.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return r}static serialize(e,t){const n=new Float64Array(e.ids),i=new Uint32Array(e.positions);return Fs(n,i,0,n.length-1),t&&t.push(n.buffer,i.buffer),{ids:n,positions:i}}static deserialize(e){const t=new zs;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function js(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:Ls(String(e))}function Fs(e,t,n,i){for(;n<i;){const r=e[n+i>>1];let s=n-1,a=i+1;for(;;){do{s++}while(e[s]<r);do{a--}while(e[a]>r);if(s>=a)break;Bs(e,s,a),Bs(t,3*s,3*a),Bs(t,3*s+1,3*a+1),Bs(t,3*s+2,3*a+2)}a-n<i-a?(Fs(e,t,n,a),n=a+1):(Fs(e,t,a+1,i),i=a)}}function Bs(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}Li("FeaturePositionMap",zs);class Vs{constructor(e,t){this.gl=e.gl,this.location=t}}class Us extends Vs{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class qs extends Vs{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Hs extends Vs{constructor(e,t){super(e,t),this.current=Xe.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Gs=new Float32Array(16);function Ws(e){return[Cs(255*e.r,255*e.g),Cs(255*e.b,255*e.a)]}class Ks{constructor(e,t,n){this.value=e,this.uniformNames=t.map((e=>"u_".concat(e))),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new Hs(e,t):new Us(e,t)}}class Ys{constructor(e,t){this.uniformNames=t.map((e=>"u_".concat(e))),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setUniform(e,t,n,i){const r="u_pattern_to"===i?this.patternTo:"u_pattern_from"===i?this.patternFrom:"u_pixel_ratio_to"===i?this.pixelRatioTo:"u_pixel_ratio_from"===i?this.pixelRatioFrom:null;r&&e.set(r)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)?new qs(e,t):new Us(e,t)}}class Zs{constructor(e,t,n,i){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?2:1,offset:0}))),this.paintVertexArray=new i}populatePaintArray(e,t,n,i,r){const s=this.paintVertexArray.length,a=this.expression.evaluate(new lr(0),t,{},i,[],r);this.paintVertexArray.resize(e),this._setPaintValue(s,e,a)}updatePaintArray(e,t,n,i){const r=this.expression.evaluate({zoom:0},n,i);this._setPaintValue(e,t,r)}_setPaintValue(e,t,n){if("color"===this.type){const i=Ws(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Xs{constructor(e,t,n,i,r,s){this.expression=e,this.uniformNames=t.map((e=>"u_".concat(e,"_t"))),this.type=n,this.useIntegerZoom=i,this.zoom=r,this.maxValue=0,this.paintVertexAttributes=t.map((e=>({name:"a_".concat(e),type:"Float32",components:"color"===n?4:2,offset:0}))),this.paintVertexArray=new s}populatePaintArray(e,t,n,i,r){const s=this.expression.evaluate(new lr(this.zoom),t,{},i,[],r),a=this.expression.evaluate(new lr(this.zoom+1),t,{},i,[],r),o=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(o,e,s,a)}updatePaintArray(e,t,n,i){const r=this.expression.evaluate({zoom:this.zoom},n,i),s=this.expression.evaluate({zoom:this.zoom+1},n,i);this._setPaintValue(e,t,r,s)}_setPaintValue(e,t,n,i){if("color"===this.type){const r=Ws(n),s=Ws(i);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1],s[0],s[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n,i);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(i))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,i=m(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(i)}getBinding(e,t,n){return new Us(e,t)}}class Qs{constructor(e,t,n,i,r,s){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=i,this.layerId=s,this.zoomInPaintVertexArray=new r,this.zoomOutPaintVertexArray=new r}populatePaintArray(e,t,n){const i=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(i,e,t.patterns&&t.patterns[this.layerId],n)}updatePaintArray(e,t,n,i,r){this._setPaintValues(e,t,n.patterns&&n.patterns[this.layerId],r)}_setPaintValues(e,t,n,i){if(!i||!n)return;const{min:r,mid:s,max:a}=n,o=i[r],l=i[s],c=i[a];if(o&&l&&c)for(let u=e;u<t;u++)this.zoomInPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],l.pixelRatio,o.pixelRatio),this.zoomOutPaintVertexArray.emplace(u,l.tl[0],l.tl[1],l.br[0],l.br[1],c.tl[0],c.tl[1],c.br[0],c.br[1],l.pixelRatio,c.pixelRatio)}upload(e){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,As.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,As.members,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Js{constructor(e,t,n){this.binders={},this._buffers=[];const i=[];for(const r in e.paint._values){if(!n(r))continue;const s=e.paint.get(r);if(!(s instanceof mr&&Sn(s.property.specification)))continue;const a=ea(r,e.type),o=s.value,l=s.property.specification.type,c=s.property.useIntegerZoom,u=s.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===o.kind)this.binders[r]=h?new Ys(o.value,a):new Ks(o.value,a,l),i.push("/u_".concat(r));else if("source"===o.kind||h){const n=ta(r,l,"source");this.binders[r]=h?new Qs(o,l,c,t,n,e.id):new Zs(o,a,l,n),i.push("/a_".concat(r))}else{const e=ta(r,l,"composite");this.binders[r]=new Xs(o,a,l,c,t,e),i.push("/z_".concat(r))}}this.cacheKey=i.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof Zs||t instanceof Xs?t.maxValue:0}populatePaintArrays(e,t,n,i,r){for(const s in this.binders){const a=this.binders[s];(a instanceof Zs||a instanceof Xs||a instanceof Qs)&&a.populatePaintArray(e,t,n,i,r)}}setConstantPatternPositions(e,t){for(const n in this.binders){const i=this.binders[n];i instanceof Ys&&i.setConstantPatternPositions(e,t)}}updatePaintArrays(e,t,n,i,r){let s=!1;for(const a in e){const o=t.getPositions(a);for(const t of o){const o=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof Zs||l instanceof Xs||l instanceof Qs)&&!0===l.expression.isStateDependent){const c=i.paint.get(n);l.expression=c.value,l.updatePaintArray(t.start,t.end,o,e[a],r),s=!0}}}}return s}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ks||n instanceof Ys)&&e.push(...n.uniformNames.map((e=>"#define HAS_UNIFORM_".concat(e))))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Zs||n instanceof Xs)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof Qs)for(let t=0;t<As.members.length;t++)e.push(As.members[t].name)}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ks||n instanceof Ys||n instanceof Xs)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const i in this.binders){const r=this.binders[i];if(r instanceof Ks||r instanceof Ys||r instanceof Xs)for(const s of r.uniformNames)if(t[s]){const a=r.getBinding(e,t[s],s);n.push({name:s,property:i,binding:a})}}return n}setUniforms(e,t,n,i){for(const{name:r,property:s,binding:a}of t)this.binders[s].setUniform(a,i,n.get(s),r)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof Qs){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof Zs||n instanceof Xs)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof Zs||n instanceof Xs||n instanceof Qs)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof Zs||t instanceof Xs||t instanceof Qs)&&t.destroy()}}}class $s{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;this.programConfigurations={};for(const i of e)this.programConfigurations[i.id]=new Js(i,t,n);this.needsUpload=!1,this._featureMap=new zs,this._bufferOffset=0}populatePaintArrays(e,t,n,i,r,s){for(const a in this.programConfigurations)this.programConfigurations[a].populatePaintArrays(e,t,i,r,s);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,i){for(const r of n)this.needsUpload=this.programConfigurations[r.id].updatePaintArrays(e,this._featureMap,t,r,i)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function ea(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace("".concat(t,"-"),"").replace(/-/g,"_")]}function ta(e,t,n){const i={color:{source:Dr,composite:Jr},number:{source:Kr,composite:Dr}},r=function(e){return{"line-pattern":{source:ys,composite:ys},"fill-pattern":{source:ys,composite:ys},"fill-extrusion-pattern":{source:ys,composite:ys}}[e]}(e);return r&&r[n]||i[t][n]}Li("ConstantBinder",Ks),Li("CrossFadedConstantBinder",Ys),Li("SourceExpressionBinder",Zs),Li("CrossFadedCompositeBinder",Qs),Li("CompositeExpressionBinder",Xs),Li("ProgramConfiguration",Js,{omit:["_buffers"]}),Li("ProgramConfigurationSet",$s);const na=8192,ia=Math.pow(2,14)-1,ra=-ia-1;function sa(e){const t=na/e.extent,n=e.loadGeometry();for(let i=0;i<n.length;i++){const e=n[i];for(let n=0;n<e.length;n++){const i=e[n],r=Math.round(i.x*t),s=Math.round(i.y*t);i.x=m(r,ra,ia),i.y=m(s,ra,ia),(r<i.x||r>i.x+1||s<i.y||s>i.y+1)&&S("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function aa(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?sa(e):[]}}function oa(e,t,n,i,r){e.emplaceBack(2*t+(i+1)/2,2*n+(r+1)/2)}class la{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new ds,this.indexArray=new Ss,this.segments=new ks,this.programConfigurations=new $s(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){const i=this.layers[0],r=[];let s=null,a=!1;"circle"===i.type&&(s=i.layout.get("circle-sort-key"),a=!s.isConstant());for(const{feature:o,id:l,index:c,sourceLayerIndex:u}of e){const e=this.layers[0]._featureFilter.needGeometry,t=aa(o,e);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),t,n))continue;const i=a?s.evaluate(t,{},n):void 0,h={id:l,properties:o.properties,type:o.type,sourceLayerIndex:u,index:c,geometry:e?t.geometry:sa(o),patterns:{},sortKey:i};r.push(h)}a&&r.sort(((e,t)=>e.sortKey-t.sortKey));for(const o of r){const{geometry:i,index:r,sourceLayerIndex:s}=o,a=e[r].feature;this.addFeature(o,i,r,n),t.featureIndex.insert(a,i,r,s,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Is),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,i){for(const r of t)for(const t of r){const n=t.x,i=t.y;if(n<0||n>=na||i<0||i>=na)continue;const r=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,e.sortKey),s=r.vertexLength;oa(this.layoutVertexArray,n,i,-1,-1),oa(this.layoutVertexArray,n,i,1,-1),oa(this.layoutVertexArray,n,i,1,1),oa(this.layoutVertexArray,n,i,-1,1),this.indexArray.emplaceBack(s,s+1,s+2),this.indexArray.emplaceBack(s,s+3,s+2),r.vertexLength+=4,r.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{},i)}}function ca(e,t){for(let n=0;n<e.length;n++)if(va(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(va(e,t[n]))return!0;return!!pa(e,t)}function ua(e,t,n){return!!va(e,t)||!!ma(t,e,n)}function ha(e,t){if(1===e.length)return ya(t,e[0]);for(let n=0;n<t.length;n++){const i=t[n];for(let t=0;t<i.length;t++)if(va(e,i[t]))return!0}for(let n=0;n<e.length;n++)if(ya(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(pa(e,t[n]))return!0;return!1}function da(e,t,n){if(e.length>1){if(pa(e,t))return!0;for(let i=0;i<t.length;i++)if(ma(t[i],e,n))return!0}for(let i=0;i<e.length;i++)if(ma(e[i],t,n))return!0;return!1}function pa(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const i=e[n],r=e[n+1];for(let e=0;e<t.length-1;e++)if(fa(i,r,t[e],t[e+1]))return!0}return!1}function fa(e,t,n,i){return E(e,n,i)!==E(t,n,i)&&E(e,t,n)!==E(e,t,i)}function ma(e,t,n){const i=n*n;if(1===t.length)return e.distSqr(t[0])<i;for(let r=1;r<t.length;r++)if(ga(e,t[r-1],t[r])<i)return!0;return!1}function ga(e,t,n){const i=t.distSqr(n);if(0===i)return e.distSqr(t);const r=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/i;return e.distSqr(r<0?t:r>1?n:n.sub(t)._mult(r)._add(t))}function ya(e,t){let n,i,r,s=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)i=n[e],r=n[a],i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(s=!s)}return s}function va(e,t){let n=!1;for(let i=0,r=e.length-1;i<e.length;r=i++){const s=e[i],a=e[r];s.y>t.y!=a.y>t.y&&t.x<(a.x-s.x)*(t.y-s.y)/(a.y-s.y)+s.x&&(n=!n)}return n}function _a(e,t,n){const i=n[0],r=n[2];if(e.x<i.x&&t.x<i.x||e.x>r.x&&t.x>r.x||e.y<i.y&&t.y<i.y||e.y>r.y&&t.y>r.y)return!1;const s=E(e,t,n[0]);return s!==E(e,t,n[1])||s!==E(e,t,n[2])||s!==E(e,t,n[3])}function ba(e,t,n){const i=t.paint.get(e).value;return"constant"===i.kind?i.value:n.programConfigurations.get(t.id).getMaxValue(e)}function xa(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function wa(e,t,n,i,r){if(!t[0]&&!t[1])return e;const a=s.convert(t)._mult(r);"viewport"===n&&a._rotate(-i);const o=[];for(let s=0;s<e.length;s++)o.push(e[s].sub(a));return o}let Sa,Ea;Li("CircleBucket",la,{omit:["layers"]});var Ta={get paint(){return Ea=Ea||new wr({"circle-radius":new vr(Z.paint_circle["circle-radius"]),"circle-color":new vr(Z.paint_circle["circle-color"]),"circle-blur":new vr(Z.paint_circle["circle-blur"]),"circle-opacity":new vr(Z.paint_circle["circle-opacity"]),"circle-translate":new yr(Z.paint_circle["circle-translate"]),"circle-translate-anchor":new yr(Z.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new yr(Z.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new yr(Z.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new vr(Z.paint_circle["circle-stroke-width"]),"circle-stroke-color":new vr(Z.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new vr(Z.paint_circle["circle-stroke-opacity"])})},get layout(){return Sa=Sa||new wr({"circle-sort-key":new vr(Z.layout_circle["circle-sort-key"])})}},Ia=1e-6,ka="undefined"!=typeof Float32Array?Float32Array:Array;function Ca(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function Aa(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*i+b*o+x*h+w*m,e[1]=_*r+b*l+x*d+w*g,e[2]=_*s+b*c+x*p+w*y,e[3]=_*a+b*u+x*f+w*v,e[4]=(_=n[4])*i+(b=n[5])*o+(x=n[6])*h+(w=n[7])*m,e[5]=_*r+b*l+x*d+w*g,e[6]=_*s+b*c+x*p+w*y,e[7]=_*a+b*u+x*f+w*v,e[8]=(_=n[8])*i+(b=n[9])*o+(x=n[10])*h+(w=n[11])*m,e[9]=_*r+b*l+x*d+w*g,e[10]=_*s+b*c+x*p+w*y,e[11]=_*a+b*u+x*f+w*v,e[12]=(_=n[12])*i+(b=n[13])*o+(x=n[14])*h+(w=n[15])*m,e[13]=_*r+b*l+x*d+w*g,e[14]=_*s+b*c+x*p+w*y,e[15]=_*a+b*u+x*f+w*v,e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Pa,Na=Aa;function Ma(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3];return e[0]=n[0]*i+n[4]*r+n[8]*s+n[12]*a,e[1]=n[1]*i+n[5]*r+n[9]*s+n[13]*a,e[2]=n[2]*i+n[6]*r+n[10]*s+n[14]*a,e[3]=n[3]*i+n[7]*r+n[11]*s+n[15]*a,e}Pa=new ka(4),ka!=Float32Array&&(Pa[0]=0,Pa[1]=0,Pa[2]=0,Pa[3]=0);class Ra extends Er{constructor(e){super(e,Ta)}createBucket(e){return new la(e)}queryRadius(e){const t=e;return ba("circle-radius",this,t)+ba("circle-stroke-width",this,t)+xa(this.paint.get("circle-translate"))}queryIntersectsFeature(e,t,n,i,r,s,a,o){const l=wa(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),s.angle,a),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),u="map"===this.paint.get("circle-pitch-alignment"),h=u?l:function(e,t){return e.map((e=>Oa(e,t)))}(l,o),d=u?c*a:c;for(const p of i)for(const e of p){const t=u?e:Oa(e,o);let n=d;const i=Ma([],[e.x,e.y,0,1],o);if("viewport"===this.paint.get("circle-pitch-scale")&&"map"===this.paint.get("circle-pitch-alignment")?n*=i[3]/s.cameraToCenterDistance:"map"===this.paint.get("circle-pitch-scale")&&"viewport"===this.paint.get("circle-pitch-alignment")&&(n*=s.cameraToCenterDistance/i[3]),ua(h,t,n))return!0}return!1}}function Oa(e,t){const n=Ma([],[e.x,e.y,0,1],t);return new s(n[0]/n[3],n[1]/n[3])}class Da extends la{}let La;Li("HeatmapBucket",Da,{omit:["layers"]});var za={get paint(){return La=La||new wr({"heatmap-radius":new vr(Z.paint_heatmap["heatmap-radius"]),"heatmap-weight":new vr(Z.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new yr(Z.paint_heatmap["heatmap-intensity"]),"heatmap-color":new xr(Z.paint_heatmap["heatmap-color"]),"heatmap-opacity":new yr(Z.paint_heatmap["heatmap-opacity"])})}};function ja(e,t,n,i){let{width:r,height:s}=t;if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==r*s*n)throw new RangeError("mismatched image size. expected: ".concat(i.length," but got: ").concat(r*s*n))}else i=new Uint8Array(r*s*n);return e.width=r,e.height=s,e.data=i,e}function Fa(e,t,n){let{width:i,height:r}=t;if(i===e.width&&r===e.height)return;const s=ja({},{width:i,height:r},n);Ba(e,s,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,i),height:Math.min(e.height,r)},n),e.width=i,e.height=r,e.data=s.data}function Ba(e,t,n,i,r,s){if(0===r.width||0===r.height)return t;if(r.width>e.width||r.height>e.height||n.x>e.width-r.width||n.y>e.height-r.height)throw new RangeError("out of range source coordinates for image copy");if(r.width>t.width||r.height>t.height||i.x>t.width-r.width||i.y>t.height-r.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,o=t.data;if(a===o)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<r.height;l++){const c=((n.y+l)*e.width+n.x)*s,u=((i.y+l)*t.width+i.x)*s;for(let e=0;e<r.width*s;e++)o[u+e]=a[c+e]}return t}class Va{constructor(e,t){ja(this,e,1,t)}resize(e){Fa(this,e,1)}clone(){return new Va({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){Ba(e,t,n,i,r,1)}}class Ua{constructor(e,t){ja(this,e,4,t)}resize(e){Fa(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Ua({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,i,r){Ba(e,t,n,i,r,4)}}function qa(e){const t={},n=e.resolution||256,i=e.clips?e.clips.length:1,r=e.image||new Ua({width:n,height:i});if(Math.log(n)/Math.LN2%1!=0)throw new Error("width is not a power of 2 - ".concat(n));const s=(n,i,s)=>{t[e.evaluationKey]=s;const a=e.expression.evaluate(t);r.data[n+i+0]=Math.floor(255*a.r/a.a),r.data[n+i+1]=Math.floor(255*a.g/a.a),r.data[n+i+2]=Math.floor(255*a.b/a.a),r.data[n+i+3]=Math.floor(255*a.a)};if(e.clips)for(let a=0,o=0;a<i;++a,o+=4*n)for(let t=0,i=0;t<n;t++,i+=4){const r=t/(n-1),{start:l,end:c}=e.clips[a];s(o,i,l*(1-r)+c*r)}else for(let a=0,o=0;a<n;a++,o+=4)s(0,o,a/(n-1));return r}Li("AlphaImage",Va),Li("RGBAImage",Ua);class Ha extends Er{createBucket(e){return new Da(e)}constructor(e){super(e,za),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=qa({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(){return 0}queryIntersectsFeature(){return!1}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&"none"!==this.visibility}}let Ga;var Wa={get paint(){return Ga=Ga||new wr({"hillshade-illumination-direction":new yr(Z.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new yr(Z.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new yr(Z.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new yr(Z.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new yr(Z.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new yr(Z.paint_hillshade["hillshade-accent-color"])})}};class Ka extends Er{constructor(e){super(e,Wa)}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&"none"!==this.visibility}}const Ya=Cr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Za}=Ya;var Xa={exports:{}};function Qa(e,t,n){n=n||2;var i,r,s,a,o,l,c,u=t&&t.length,h=u?t[0]*n:e.length,d=Ja(e,0,h,n,!0),p=[];if(!d||d.next===d.prev)return p;if(u&&(d=function(e,t,n,i){var r,s,a,o=[];for(r=0,s=t.length;r<s;r++)(a=Ja(e,t[r]*i,r<s-1?t[r+1]*i:e.length,i,!1))===a.next&&(a.steiner=!0),o.push(co(a));for(o.sort(so),r=0;r<o.length;r++)n=ao(o[r],n);return n}(e,t,d,n)),e.length>80*n){i=s=e[0],r=a=e[1];for(var f=n;f<h;f+=n)(o=e[f])<i&&(i=o),(l=e[f+1])<r&&(r=l),o>s&&(s=o),l>a&&(a=l);c=0!==(c=Math.max(s-i,a-r))?32767/c:0}return eo(d,p,n,i,r,c,0),p}function Ja(e,t,n,i,r){var s,a;if(r===So(e,t,n,i)>0)for(s=t;s<n;s+=i)a=bo(s,e[s],e[s+1],a);else for(s=n-i;s>=t;s-=i)a=bo(s,e[s],e[s+1],a);return a&&fo(a,a.next)&&(xo(a),a=a.next),a}function $a(e,t){if(!e)return e;t||(t=e);var n,i=e;do{if(n=!1,i.steiner||!fo(i,i.next)&&0!==po(i.prev,i,i.next))i=i.next;else{if(xo(i),(i=t=i.prev)===i.next)break;n=!0}}while(n||i!==t);return t}function eo(e,t,n,i,r,s,a){if(e){!a&&s&&function(e,t,n,i){var r=e;do{0===r.z&&(r.z=lo(r.x,r.y,t,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==e);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,n,i,r,s,a,o,l,c=1;do{for(n=e,e=null,s=null,a=0;n;){for(a++,i=n,o=0,t=0;t<c&&(o++,i=i.nextZ);t++);for(l=c;o>0||l>0&&i;)0!==o&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,o--):(r=i,i=i.nextZ,l--),s?s.nextZ=r:e=r,r.prevZ=s,s=r;n=i}s.nextZ=null,c*=2}while(a>1)}(r)}(e,i,r,s);for(var o,l,c=e;e.prev!==e.next;)if(o=e.prev,l=e.next,s?no(e,i,r,s):to(e))t.push(o.i/n|0),t.push(e.i/n|0),t.push(l.i/n|0),xo(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?eo(e=io($a(e),t,n),t,n,i,r,s,2):2===a&&ro(e,t,n,i,r,s):eo($a(e),t,n,i,r,s,1);break}}}function to(e){var t=e.prev,n=e,i=e.next;if(po(t,n,i)>=0)return!1;for(var r=t.x,s=n.x,a=i.x,o=t.y,l=n.y,c=i.y,u=r<s?r<a?r:a:s<a?s:a,h=o<l?o<c?o:c:l<c?l:c,d=r>s?r>a?r:a:s>a?s:a,p=o>l?o>c?o:c:l>c?l:c,f=i.next;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&uo(r,o,s,l,a,c,f.x,f.y)&&po(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function no(e,t,n,i){var r=e.prev,s=e,a=e.next;if(po(r,s,a)>=0)return!1;for(var o=r.x,l=s.x,c=a.x,u=r.y,h=s.y,d=a.y,p=o<l?o<c?o:c:l<c?l:c,f=u<h?u<d?u:d:h<d?h:d,m=o>l?o>c?o:c:l>c?l:c,g=u>h?u>d?u:d:h>d?h:d,y=lo(p,f,t,n,i),v=lo(m,g,t,n,i),_=e.prevZ,b=e.nextZ;_&&_.z>=y&&b&&b.z<=v;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==r&&_!==a&&uo(o,u,l,h,c,d,_.x,_.y)&&po(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==a&&uo(o,u,l,h,c,d,b.x,b.y)&&po(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=y;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==r&&_!==a&&uo(o,u,l,h,c,d,_.x,_.y)&&po(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==r&&b!==a&&uo(o,u,l,h,c,d,b.x,b.y)&&po(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function io(e,t,n){var i=e;do{var r=i.prev,s=i.next.next;!fo(r,s)&&mo(r,i,i.next,s)&&vo(r,s)&&vo(s,r)&&(t.push(r.i/n|0),t.push(i.i/n|0),t.push(s.i/n|0),xo(i),xo(i.next),i=e=s),i=i.next}while(i!==e);return $a(i)}function ro(e,t,n,i,r,s){var a=e;do{for(var o=a.next.next;o!==a.prev;){if(a.i!==o.i&&ho(a,o)){var l=_o(a,o);return a=$a(a,a.next),l=$a(l,l.next),eo(a,t,n,i,r,s,0),void eo(l,t,n,i,r,s,0)}o=o.next}a=a.next}while(a!==e)}function so(e,t){return e.x-t.x}function ao(e,t){var n=function(e,t){var n,i=t,r=e.x,s=e.y,a=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var o=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(o<=r&&o>a&&(a=o,n=i.x<i.next.x?i:i.next,o===r))return n}i=i.next}while(i!==t);if(!n)return null;var l,c=n,u=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=u&&r!==i.x&&uo(s<h?r:a,s,u,h,s<h?a:r,s,i.x,i.y)&&(l=Math.abs(s-i.y)/(r-i.x),vo(i,e)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&oo(n,i)))&&(n=i,d=l)),i=i.next}while(i!==c);return n}(e,t);if(!n)return t;var i=_o(n,e);return $a(i,i.next),$a(n,n.next)}function oo(e,t){return po(e.prev,e,t.prev)<0&&po(t.next,e,e.next)<0}function lo(e,t,n,i,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*r|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function co(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function uo(e,t,n,i,r,s,a,o){return(r-a)*(t-o)>=(e-a)*(s-o)&&(e-a)*(i-o)>=(n-a)*(t-o)&&(n-a)*(s-o)>=(r-a)*(i-o)}function ho(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&mo(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(vo(e,t)&&vo(t,e)&&function(e,t){var n=e,i=!1,r=(e.x+t.x)/2,s=(e.y+t.y)/2;do{n.y>s!=n.next.y>s&&n.next.y!==n.y&&r<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==e);return i}(e,t)&&(po(e.prev,e,t.prev)||po(e,t.prev,t))||fo(e,t)&&po(e.prev,e,e.next)>0&&po(t.prev,t,t.next)>0)}function po(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function fo(e,t){return e.x===t.x&&e.y===t.y}function mo(e,t,n,i){var r=yo(po(e,t,n)),s=yo(po(e,t,i)),a=yo(po(n,i,e)),o=yo(po(n,i,t));return r!==s&&a!==o||!(0!==r||!go(e,n,t))||!(0!==s||!go(e,i,t))||!(0!==a||!go(n,e,i))||!(0!==o||!go(n,t,i))}function go(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function yo(e){return e>0?1:e<0?-1:0}function vo(e,t){return po(e.prev,e,e.next)<0?po(e,t,e.next)>=0&&po(e,e.prev,t)>=0:po(e,t,e.prev)<0||po(e,e.next,t)<0}function _o(e,t){var n=new wo(e.i,e.x,e.y),i=new wo(t.i,t.x,t.y),r=e.next,s=t.prev;return e.next=t,t.prev=e,n.next=r,r.prev=n,i.next=n,n.prev=i,s.next=i,i.prev=s,i}function bo(e,t,n,i){var r=new wo(e,t,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function xo(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function wo(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function So(e,t,n,i){for(var r=0,s=t,a=n-i;s<n;s+=i)r+=(e[a]-e[s])*(e[s+1]+e[a+1]),a=s;return r}Xa.exports=Qa,Xa.exports.default=Qa,Qa.deviation=function(e,t,n,i){var r=t&&t.length,s=Math.abs(So(e,0,r?t[0]*n:e.length,n));if(r)for(var a=0,o=t.length;a<o;a++)s-=Math.abs(So(e,t[a]*n,a<o-1?t[a+1]*n:e.length,n));var l=0;for(a=0;a<i.length;a+=3){var c=i[a]*n,u=i[a+1]*n,h=i[a+2]*n;l+=Math.abs((e[c]-e[h])*(e[u+1]-e[c+1])-(e[c]-e[u])*(e[h+1]-e[c+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},Qa.flatten=function(e){for(var t=e[0][0].length,n={vertices:[],holes:[],dimensions:t},i=0,r=0;r<e.length;r++){for(var s=0;s<e[r].length;s++)for(var a=0;a<t;a++)n.vertices.push(e[r][s][a]);r>0&&n.holes.push(i+=e[r-1].length)}return n};var Eo=n(Xa.exports);function To(e,t,n,i,r){Io(e,t,n||0,i||e.length-1,r||Co)}function Io(e,t,n,i,r){for(;i>n;){if(i-n>600){var s=i-n+1,a=t-n+1,o=Math.log(s),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(s-l)/s)*(a-s/2<0?-1:1);Io(e,t,Math.max(n,Math.floor(t-a*l/s+c)),Math.min(i,Math.floor(t+(s-a)*l/s+c)),r)}var u=e[t],h=n,d=i;for(ko(e,n,t),r(e[i],u)>0&&ko(e,n,i);h<d;){for(ko(e,h,d),h++,d--;r(e[h],u)<0;)h++;for(;r(e[d],u)>0;)d--}0===r(e[n],u)?ko(e,n,d):ko(e,++d,i),d<=t&&(n=d+1),t<=d&&(i=d-1)}}function ko(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function Co(e,t){return e<t?-1:e>t?1:0}function Ao(e,t){const n=e.length;if(n<=1)return[e];const i=[];let r,s;for(let a=0;a<n;a++){const t=T(e[a]);0!==t&&(e[a].area=Math.abs(t),void 0===s&&(s=t<0),s===t<0?(r&&i.push(r),r=[e[a]]):r.push(e[a]))}if(r&&i.push(r),t>1)for(let a=0;a<i.length;a++)i[a].length<=t||(To(i[a],t,1,i[a].length-1,Po),i[a]=i[a].slice(0,t));return i}function Po(e,t){return t.area-e.area}function No(e,t,n){const i=n.patternDependencies;let r=!1;for(const s of t){const t=s.paint.get("".concat(e,"-pattern"));t.isConstant()||(r=!0);const n=t.constantOr(null);n&&(r=!0,i[n.to]=!0,i[n.from]=!0)}return r}function Mo(e,t,n,i,r){const s=r.patternDependencies;for(const a of t){const t=a.paint.get("".concat(e,"-pattern")).value;if("constant"!==t.kind){let e=t.evaluate({zoom:i-1},n,{},r.availableImages),o=t.evaluate({zoom:i},n,{},r.availableImages),l=t.evaluate({zoom:i+1},n,{},r.availableImages);e=e&&e.name?e.name:e,o=o&&o.name?o.name:o,l=l&&l.name?l.name:l,s[e]=!0,s[o]=!0,s[l]=!0,n.patterns[a.id]={min:e,mid:o,max:l}}}return n}class Ro{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new ps,this.indexArray=new Ss,this.indexArray2=new Es,this.programConfigurations=new $s(e.layers,e.zoom),this.segments=new ks,this.segments2=new ks,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=No("fill",this.layers,t);const i=this.layers[0].layout.get("fill-sort-key"),r=!i.isConstant(),s=[];for(const{feature:a,id:o,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=aa(a,e);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),u,n))continue;const h=r?i.evaluate(u,{},n,t.availableImages):void 0,d={id:o,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:sa(a),patterns:{},sortKey:h};s.push(d)}r&&s.sort(((e,t)=>e.sortKey-t.sortKey));for(const a of s){const{geometry:i,index:r,sourceLayerIndex:s}=a;if(this.hasPattern){const e=Mo("fill",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,i,r,n,{});t.featureIndex.insert(e[r].feature,i,r,s,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const i of this.patternFeatures)this.addFeature(i,i.geometry,i.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Za),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,i,r){for(const s of Ao(t,500)){let e=0;for(const o of s)e+=o.length;const t=this.segments.prepareSegment(e,this.layoutVertexArray,this.indexArray),n=t.vertexLength,i=[],r=[];for(const o of s){if(0===o.length)continue;o!==s[0]&&r.push(i.length/2);const e=this.segments2.prepareSegment(o.length,this.layoutVertexArray,this.indexArray2),t=e.vertexLength;this.layoutVertexArray.emplaceBack(o[0].x,o[0].y),this.indexArray2.emplaceBack(t+o.length-1,t),i.push(o[0].x),i.push(o[0].y);for(let n=1;n<o.length;n++)this.layoutVertexArray.emplaceBack(o[n].x,o[n].y),this.indexArray2.emplaceBack(t+n-1,t+n),i.push(o[n].x),i.push(o[n].y);e.vertexLength+=o.length,e.primitiveLength+=o.length}const a=Eo(i,r);for(let s=0;s<a.length;s+=3)this.indexArray.emplaceBack(n+a[s],n+a[s+1],n+a[s+2]);t.vertexLength+=e,t.primitiveLength+=a.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}}let Oo,Do;Li("FillBucket",Ro,{omit:["layers","patternFeatures"]});var Lo={get paint(){return Do=Do||new wr({"fill-antialias":new yr(Z.paint_fill["fill-antialias"]),"fill-opacity":new vr(Z.paint_fill["fill-opacity"]),"fill-color":new vr(Z.paint_fill["fill-color"]),"fill-outline-color":new vr(Z.paint_fill["fill-outline-color"]),"fill-translate":new yr(Z.paint_fill["fill-translate"]),"fill-translate-anchor":new yr(Z.paint_fill["fill-translate-anchor"]),"fill-pattern":new _r(Z.paint_fill["fill-pattern"])})},get layout(){return Oo=Oo||new wr({"fill-sort-key":new vr(Z.layout_fill["fill-sort-key"])})}};class zo extends Er{constructor(e){super(e,Lo)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new Ro(e)}queryRadius(){return xa(this.paint.get("fill-translate"))}queryIntersectsFeature(e,t,n,i,r,s,a){return ha(wa(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),s.angle,a),i)}isTileClipped(){return!0}}const jo=Cr([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Fo=Cr([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Bo}=jo;var Vo={},Uo=i,qo=Ho;function Ho(e,t,n,i,r){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=i,this._values=r,e.readFields(Go,this,t)}function Go(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){for(var n=e.readVarint()+e.pos;e.pos<n;){var i=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[i]=r}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function Wo(e){for(var t,n,i=0,r=0,s=e.length,a=s-1;r<s;a=r++)i+=((n=e[a]).x-(t=e[r]).x)*(t.y+n.y);return i}Ho.types=["Unknown","Point","LineString","Polygon"],Ho.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,n=e.readVarint()+e.pos,i=1,r=0,s=0,a=0,o=[];e.pos<n;){if(r<=0){var l=e.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)s+=e.readSVarint(),a+=e.readSVarint(),1===i&&(t&&o.push(t),t=[]),t.push(new Uo(s,a));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&o.push(t),o},Ho.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,i=0,r=0,s=0,a=1/0,o=-1/0,l=1/0,c=-1/0;e.pos<t;){if(i<=0){var u=e.readVarint();n=7&u,i=u>>3}if(i--,1===n||2===n)(r+=e.readSVarint())<a&&(a=r),r>o&&(o=r),(s+=e.readSVarint())<l&&(l=s),s>c&&(c=s);else if(7!==n)throw new Error("unknown command "+n)}return[a,l,o,c]},Ho.prototype.toGeoJSON=function(e,t,n){var i,r,s=this.extent*Math.pow(2,n),a=this.extent*e,o=this.extent*t,l=this.loadGeometry(),c=Ho.types[this.type];function u(e){for(var t=0;t<e.length;t++){var n=e[t];e[t]=[360*(n.x+a)/s-180,360/Math.PI*Math.atan(Math.exp((180-360*(n.y+o)/s)*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];u(l=h);break;case 2:for(i=0;i<l.length;i++)u(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,i,r=[],s=0;s<t;s++){var a=Wo(e[s]);0!==a&&(void 0===i&&(i=a<0),i===a<0?(n&&r.push(n),n=[e[s]]):n.push(e[s]))}return n&&r.push(n),r}(l),i=0;i<l.length;i++)for(r=0;r<l[i].length;r++)u(l[i][r])}1===l.length?l=l[0]:c="Multi"+c;var d={type:"Feature",geometry:{type:c,coordinates:l},properties:this.properties};return"id"in this&&(d.id=this.id),d};var Ko=qo,Yo=Zo;function Zo(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Xo,this,t),this.length=this._features.length}function Xo(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){for(var t=null,n=e.readVarint()+e.pos;e.pos<n;){var i=e.readVarint()>>3;t=1===i?e.readString():2===i?e.readFloat():3===i?e.readDouble():4===i?e.readVarint64():5===i?e.readVarint():6===i?e.readSVarint():7===i?e.readBoolean():null}return t}(n))}Zo.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new Ko(this._pbf,t,this.extent,this._keys,this._values)};var Qo=Yo;function Jo(e,t,n){if(3===e){var i=new Qo(n,n.readVarint()+n.pos);i.length&&(t[i.name]=i)}}Vo.VectorTile=function(e,t){this.layers=e.readFields(Jo,{},t)},Vo.VectorTileFeature=qo,Vo.VectorTileLayer=Yo;const $o=Vo.VectorTileFeature.types,el=Math.pow(2,13);function tl(e,t,n,i,r,s,a,o){e.emplaceBack(t,n,2*Math.floor(i*el)+a,r*el*2,s*el*2,Math.round(o))}class nl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.layoutVertexArray=new fs,this.centroidVertexArray=new hs,this.indexArray=new Ss,this.programConfigurations=new $s(e.layers,e.zoom),this.segments=new ks,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.features=[],this.hasPattern=No("fill-extrusion",this.layers,t);for(const{feature:i,id:r,index:s,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,o=aa(i,e);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),o,n))continue;const l={id:r,sourceLayerIndex:a,index:s,geometry:e?o.geometry:sa(i),properties:i.properties,type:i.type,patterns:{}};this.hasPattern?this.features.push(Mo("fill-extrusion",this.layers,l,this.zoom,t)):this.addFeature(l,l.geometry,s,n,{}),t.featureIndex.insert(i,l.geometry,s,a,this.index,!0)}}addFeatures(e,t,n){for(const i of this.features){const{geometry:e}=i;this.addFeature(i,e,i.index,t,n)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Bo),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Fo.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,n,i,r){const s={x:0,y:0,vertexCount:0};for(const a of Ao(t,500)){let t=0;for(const e of a)t+=e.length;let n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(const e of a){if(0===e.length)continue;if(rl(e))continue;let t=0;for(let i=0;i<e.length;i++){const r=e[i];if(i>=1){const a=e[i-1];if(!il(r,a)){n.vertexLength+4>ks.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const e=r.sub(a)._perp()._unit(),i=a.dist(r);t+i>32768&&(t=0),tl(this.layoutVertexArray,r.x,r.y,e.x,e.y,0,0,t),tl(this.layoutVertexArray,r.x,r.y,e.x,e.y,0,1,t),s.x+=2*r.x,s.y+=2*r.y,s.vertexCount+=2,t+=i,tl(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,0,t),tl(this.layoutVertexArray,a.x,a.y,e.x,e.y,0,1,t),s.x+=2*a.x,s.y+=2*a.y,s.vertexCount+=2;const o=n.vertexLength;this.indexArray.emplaceBack(o,o+2,o+1),this.indexArray.emplaceBack(o+1,o+2,o+3),n.vertexLength+=4,n.primitiveLength+=2}}}}if(n.vertexLength+t>ks.MAX_VERTEX_ARRAY_LENGTH&&(n=this.segments.prepareSegment(t,this.layoutVertexArray,this.indexArray)),"Polygon"!==$o[e.type])continue;const i=[],r=[],o=n.vertexLength;for(const e of a)if(0!==e.length){e!==a[0]&&r.push(i.length/2);for(let t=0;t<e.length;t++){const n=e[t];tl(this.layoutVertexArray,n.x,n.y,0,0,1,1,0),s.x+=n.x,s.y+=n.y,s.vertexCount+=1,i.push(n.x),i.push(n.y)}}const l=Eo(i,r);for(let e=0;e<l.length;e+=3)this.indexArray.emplaceBack(o+l[e],o+l[e+2],o+l[e+1]);n.primitiveLength+=l.length/3,n.vertexLength+=t}for(let a=0;a<s.vertexCount;a++)this.centroidVertexArray.emplaceBack(Math.floor(s.x/s.vertexCount),Math.floor(s.y/s.vertexCount));this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}}function il(e,t){return e.x===t.x&&(e.x<0||e.x>na)||e.y===t.y&&(e.y<0||e.y>na)}function rl(e){return e.every((e=>e.x<0))||e.every((e=>e.x>na))||e.every((e=>e.y<0))||e.every((e=>e.y>na))}let sl;Li("FillExtrusionBucket",nl,{omit:["layers","features"]});var al={get paint(){return sl=sl||new wr({"fill-extrusion-opacity":new yr(Z["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new vr(Z["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new yr(Z["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new yr(Z["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new _r(Z["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new vr(Z["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new vr(Z["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new yr(Z["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class ol extends Er{constructor(e){super(e,al)}createBucket(e){return new nl(e)}queryRadius(){return xa(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature(e,t,n,i,r,a,o,l){const c=wa(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),a.angle,o),u=this.paint.get("fill-extrusion-height").evaluate(t,n),h=this.paint.get("fill-extrusion-base").evaluate(t,n),d=function(e,t,n,i){const r=[];for(const a of e){const e=[a.x,a.y,0,1];Ma(e,e,t),r.push(new s(e[0]/e[3],e[1]/e[3]))}return r}(c,l),p=function(e,t,n,i){const r=[],a=[],o=i[8]*t,l=i[9]*t,c=i[10]*t,u=i[11]*t,h=i[8]*n,d=i[9]*n,p=i[10]*n,f=i[11]*n;for(const m of e){const e=[],t=[];for(const n of m){const r=n.x,a=n.y,m=i[0]*r+i[4]*a+i[12],g=i[1]*r+i[5]*a+i[13],y=i[2]*r+i[6]*a+i[14],v=i[3]*r+i[7]*a+i[15],_=y+c,b=v+u,x=m+h,w=g+d,S=y+p,E=v+f,T=new s((m+o)/b,(g+l)/b);T.z=_/b,e.push(T);const I=new s(x/E,w/E);I.z=S/E,t.push(I)}r.push(e),a.push(t)}return[r,a]}(i,h,u,l);return function(e,t,n){let i=1/0;ha(n,t)&&(i=cl(n,t[0]));for(let r=0;r<t.length;r++){const s=t[r],a=e[r];for(let e=0;e<s.length-1;e++){const t=s[e],r=[t,s[e+1],a[e+1],a[e],t];ca(n,r)&&(i=Math.min(i,cl(n,r)))}}return i!==1/0&&i}(p[0],p[1],d)}}function ll(e,t){return e.x*t.x+e.y*t.y}function cl(e,t){if(1===e.length){let n=0;const i=t[n++];let r;for(;!r||i.equals(r);)if(r=t[n++],!r)return 1/0;for(;n<t.length;n++){const s=t[n],a=e[0],o=r.sub(i),l=s.sub(i),c=a.sub(i),u=ll(o,o),h=ll(o,l),d=ll(l,l),p=ll(c,o),f=ll(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,v=i.z*(1-g-y)+r.z*g+s.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const ul=Cr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:hl}=ul,dl=Cr([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:pl}=dl,fl=Vo.VectorTileFeature.types,ml=Math.cos(Math.PI/180*37.5),gl=Math.pow(2,14)/.5;class yl{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=e.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach((e=>{this.gradients[e.id]={}})),this.layoutVertexArray=new ms,this.layoutVertexArray2=new gs,this.indexArray=new Ss,this.programConfigurations=new $s(e.layers,e.zoom),this.segments=new ks,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id))}populate(e,t,n){this.hasPattern=No("line",this.layers,t);const i=this.layers[0].layout.get("line-sort-key"),r=!i.isConstant(),s=[];for(const{feature:a,id:o,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,t=aa(a,e);if(!this.layers[0]._featureFilter.filter(new lr(this.zoom),t,n))continue;const u=r?i.evaluate(t,{},n):void 0,h={id:o,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?t.geometry:sa(a),patterns:{},sortKey:u};s.push(h)}r&&s.sort(((e,t)=>e.sortKey-t.sortKey));for(const a of s){const{geometry:i,index:r,sourceLayerIndex:s}=a;if(this.hasPattern){const e=Mo("line",this.layers,a,this.zoom,t);this.patternFeatures.push(e)}else this.addFeature(a,i,r,n,{});t.featureIndex.insert(e[r].feature,i,r,s,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,n)}addFeatures(e,t,n){for(const i of this.patternFeatures)this.addFeature(i,i.geometry,i.index,t,n)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,pl)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,hl),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,i,r){const s=this.layers[0].layout,a=s.get("line-join").evaluate(e,{}),o=s.get("line-cap"),l=s.get("line-miter-limit"),c=s.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const u of t)this.addLine(u,e,a,o,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,r,i)}addLine(e,t,n,i,r,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const a="Polygon"===fl[t.type];let o=e.length;for(;o>=2&&e[o-1].equals(e[o-2]);)o--;let l=0;for(;l<o-1&&e[l].equals(e[l+1]);)l++;if(o<(a?3:2))return;"bevel"===n&&(r=1.05);const c=this.overscaling<=16?15*na/(512*this.overscaling):0,u=this.segments.prepareSegment(10*o,this.layoutVertexArray,this.indexArray);let h,d,p,f,m;this.e1=this.e2=-1,a&&(h=e[o-2],m=e[l].sub(h)._unit()._perp());for(let g=l;g<o;g++){if(p=g===o-1?a?e[l+1]:void 0:e[g+1],p&&e[g].equals(p))continue;m&&(f=m),h&&(d=h),h=e[g],m=p?p.sub(h)._unit()._perp():f,f=f||m;let t=f.add(m);0===t.x&&0===t.y||t._unit();const y=f.x*m.x+f.y*m.y,v=t.x*m.x+t.y*m.y,_=0!==v?1/v:1/0,b=2*Math.sqrt(2-2*v),x=v<ml&&d&&p,w=f.x*m.y-f.y*m.x>0;if(x&&g>l){const e=h.dist(d);if(e>2*c){const t=h.sub(h.sub(d)._mult(c/e)._round());this.updateDistance(d,t),this.addCurrentVertex(t,f,0,0,u),d=t}}const S=d&&p;let E=S?n:a?"butt":i;if(S&&"round"===E&&(_<s?E="miter":_<=2&&(E="fakeround")),"miter"===E&&_>r&&(E="bevel"),"bevel"===E&&(_>2&&(E="flipbevel"),_<r&&(E="miter")),d&&this.updateDistance(d,h),"miter"===E)t._mult(_),this.addCurrentVertex(h,t,0,0,u);else if("flipbevel"===E){if(_>100)t=m.mult(-1);else{const e=_*f.add(m).mag()/f.sub(m).mag();t._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(h,t,0,0,u),this.addCurrentVertex(h,t.mult(-1),0,0,u)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(_*_-1),t=w?e:0,n=w?0:e;if(d&&this.addCurrentVertex(h,f,t,n,u),"fakeround"===E){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+y*(y*(3.55645-1.43519*y)-3.2452))*e*e+(.848013+y*(.215638*y-1.06021)))}const i=m.sub(f)._mult(n)._add(f)._unit()._mult(w?-1:1);this.addHalfVertex(h,i.x,i.y,!1,w,0,u)}}p&&this.addCurrentVertex(h,m,-t,-n,u)}else if("butt"===E)this.addCurrentVertex(h,t,0,0,u);else if("square"===E){const e=d?1:-1;this.addCurrentVertex(h,t,e,e,u)}else"round"===E&&(d&&(this.addCurrentVertex(h,f,0,0,u),this.addCurrentVertex(h,f,1,1,u,!0)),p&&(this.addCurrentVertex(h,m,-1,-1,u,!0),this.addCurrentVertex(h,m,0,0,u)));if(x&&g<o-1){const e=h.dist(p);if(e>2*c){const t=h.add(p.sub(h)._mult(c/e)._round());this.updateDistance(h,t),this.addCurrentVertex(t,m,0,0,u),h=t}}}}addCurrentVertex(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=t.y*i-t.x,o=-t.y-t.x*i;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,s,!1,n,r),this.addHalfVertex(e,a,o,s,!0,-i,r),this.distance>gl/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,n,i,r,s))}addHalfVertex(e,t,n,i,r,s,a){let{x:o,y:l}=e;const c=.5*(this.lineClips?this.scaledDistance*(gl-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o<<1)+(i?1:0),(l<<1)+(r?1:0),Math.round(63*t)+128,Math.round(63*n)+128,1+(0===s?0:s<0?-1:1)|(63&c)<<2,c>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const u=a.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,u),a.primitiveLength++),r?this.e2=u:this.e1=u}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}}let vl,_l;Li("LineBucket",yl,{omit:["layers","patternFeatures"]});var bl={get paint(){return _l=_l||new wr({"line-opacity":new vr(Z.paint_line["line-opacity"]),"line-color":new vr(Z.paint_line["line-color"]),"line-translate":new yr(Z.paint_line["line-translate"]),"line-translate-anchor":new yr(Z.paint_line["line-translate-anchor"]),"line-width":new vr(Z.paint_line["line-width"]),"line-gap-width":new vr(Z.paint_line["line-gap-width"]),"line-offset":new vr(Z.paint_line["line-offset"]),"line-blur":new vr(Z.paint_line["line-blur"]),"line-dasharray":new br(Z.paint_line["line-dasharray"]),"line-pattern":new _r(Z.paint_line["line-pattern"]),"line-gradient":new xr(Z.paint_line["line-gradient"])})},get layout(){return vl=vl||new wr({"line-cap":new yr(Z.layout_line["line-cap"]),"line-join":new vr(Z.layout_line["line-join"]),"line-miter-limit":new yr(Z.layout_line["line-miter-limit"]),"line-round-limit":new yr(Z.layout_line["line-round-limit"]),"line-sort-key":new vr(Z.layout_line["line-sort-key"])})}};class xl extends vr{possiblyEvaluate(e,t){return t=new lr(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,i){return t=y({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,i)}}let wl;class Sl extends Er{constructor(e){super(e,bl),this.gradientVersion=0,wl||(wl=new xl(bl.paint.properties["line-width"].specification),wl.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this.gradientExpression();this.stepInterpolant=!!function(e){return void 0!==e._styleExpression}(e)&&e._styleExpression.expression instanceof Ut,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=wl.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new yl(e)}queryRadius(e){const t=e,n=El(ba("line-width",this,t),ba("line-gap-width",this,t)),i=ba("line-offset",this,t);return n/2+Math.abs(i)+xa(this.paint.get("line-translate"))}queryIntersectsFeature(e,t,n,i,r,a,o){const l=wa(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),a.angle,o),c=o/2*El(this.paint.get("line-width").evaluate(t,n),this.paint.get("line-gap-width").evaluate(t,n)),u=this.paint.get("line-offset").evaluate(t,n);return u&&(i=function(e,t){const n=[];for(let i=0;i<e.length;i++){const r=e[i],a=[];for(let e=0;e<r.length;e++){const n=r[e-1],i=r[e],o=r[e+1],l=0===e?new s(0,0):i.sub(n)._unit()._perp(),c=e===r.length-1?new s(0,0):o.sub(i)._unit()._perp(),u=l._add(c)._unit(),h=u.x*c.x+u.y*c.y;0!==h&&u._mult(1/h),a.push(u._mult(t)._add(i))}n.push(a)}return n}(i,u*o)),function(e,t,n){for(let i=0;i<t.length;i++){const r=t[i];if(e.length>=3)for(let t=0;t<r.length;t++)if(va(e,r[t]))return!0;if(da(e,r,n))return!0}return!1}(l,i,c)}isTileClipped(){return!0}}function El(e,t){return t>0?t+2*e:e}const Tl=Cr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Il=Cr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Cr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const kl=Cr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]);Cr([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const Cl=Cr([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Al=Cr([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function Pl(e,t,n){return e.sections.forEach((e=>{e.text=function(e,t,n){const i=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===i?e=e.toLocaleUpperCase():"lowercase"===i&&(e=e.toLocaleLowerCase()),or.applyArabicShaping&&(e=or.applyArabicShaping(e)),e}(e.text,t,n)})),e}Cr([{name:"triangle",components:3,type:"Uint16"}]),Cr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),Cr([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),Cr([{type:"Float32",name:"offsetX"}]),Cr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),Cr([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);const Nl={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"};var Ml=24,Rl=Ll,Ol=function(e,t,n,i,r){var s,a,o=8*r-i-1,l=(1<<o)-1,c=l>>1,u=-7,h=n?r-1:0,d=n?-1:1,p=e[t+h];for(h+=d,s=p&(1<<-u)-1,p>>=-u,u+=o;u>0;s=256*s+e[t+h],h+=d,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=i;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===s)s=1-c;else{if(s===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,i),s-=c}return(p?-1:1)*a*Math.pow(2,s-i)},Dl=function(e,t,n,i,r,s){var a,o,l,c=8*s-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:s-1,f=i?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(o=0,a=u):a+h>=1?(o=(t*l-1)*Math.pow(2,r),a+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,r),a=0));r>=8;e[n+p]=255&o,p+=f,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m};function Ll(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}Ll.Varint=0,Ll.Fixed64=1,Ll.Bytes=2,Ll.Fixed32=5;var zl=4294967296,jl=1/zl,Fl="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function Bl(e){return e.type===Ll.Bytes?e.readVarint()+e.pos:e.pos+1}function Vl(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function Ul(e,t,n){var i=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=e;r--)n.buf[r+i]=n.buf[r]}function ql(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function Hl(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function Gl(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function Wl(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function Kl(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function Yl(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function Zl(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Xl(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function Ql(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function Jl(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function $l(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function ec(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}Ll.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,s=this.pos;this.type=7&i,e(r,t,this),this.pos===s&&this.skip(i)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=Jl(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=ec(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=Jl(this.buf,this.pos)+Jl(this.buf,this.pos+4)*zl;return this.pos+=8,e},readSFixed64:function(){var e=Jl(this.buf,this.pos)+ec(this.buf,this.pos+4)*zl;return this.pos+=8,e},readFloat:function(){var e=Ol(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=Ol(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,i=this.buf;return t=127&(n=i[this.pos++]),n<128?t:(t|=(127&(n=i[this.pos++]))<<7,n<128?t:(t|=(127&(n=i[this.pos++]))<<14,n<128?t:(t|=(127&(n=i[this.pos++]))<<21,n<128?t:function(e,t,n){var i,r,s=n.buf;if(i=(112&(r=s[n.pos++]))>>4,r<128)return Vl(e,i,t);if(i|=(127&(r=s[n.pos++]))<<3,r<128)return Vl(e,i,t);if(i|=(127&(r=s[n.pos++]))<<10,r<128)return Vl(e,i,t);if(i|=(127&(r=s[n.pos++]))<<17,r<128)return Vl(e,i,t);if(i|=(127&(r=s[n.pos++]))<<24,r<128)return Vl(e,i,t);if(i|=(1&(r=s[n.pos++]))<<31,r<128)return Vl(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=i[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2==1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Fl?function(e,t,n){return Fl.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){for(var i="",r=t;r<n;){var s,a,o,l=e[r],c=null,u=l>239?4:l>223?3:l>191?2:1;if(r+u>n)break;1===u?l<128&&(c=l):2===u?128==(192&(s=e[r+1]))&&(c=(31&l)<<6|63&s)<=127&&(c=null):3===u?(a=e[r+2],128==(192&(s=e[r+1]))&&128==(192&a)&&((c=(15&l)<<12|(63&s)<<6|63&a)<=2047||c>=55296&&c<=57343)&&(c=null)):4===u&&(a=e[r+2],o=e[r+3],128==(192&(s=e[r+1]))&&128==(192&a)&&128==(192&o)&&((c=(15&l)<<18|(63&s)<<12|(63&a)<<6|63&o)<=65535||c>=1114112)&&(c=null)),null===c?(c=65533,u=1):c>65535&&(c-=65536,i+=String.fromCharCode(c>>>10&1023|55296),c=56320|1023&c),i+=String.fromCharCode(c),r+=u}return i}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==Ll.Bytes)return e.push(this.readVarint(t));var n=Bl(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==Ll.Bytes)return e.push(this.readSVarint());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==Ll.Bytes)return e.push(this.readBoolean());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==Ll.Bytes)return e.push(this.readFloat());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==Ll.Bytes)return e.push(this.readDouble());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==Ll.Bytes)return e.push(this.readFixed32());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==Ll.Bytes)return e.push(this.readSFixed32());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==Ll.Bytes)return e.push(this.readFixed64());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==Ll.Bytes)return e.push(this.readSFixed64());var t=Bl(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===Ll.Varint)for(;this.buf[this.pos++]>127;);else if(t===Ll.Bytes)this.pos=this.readVarint()+this.pos;else if(t===Ll.Fixed32)this.pos+=4;else{if(t!==Ll.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),$l(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),$l(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),$l(this.buf,-1&e,this.pos),$l(this.buf,Math.floor(e*jl),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),$l(this.buf,-1&e,this.pos),$l(this.buf,Math.floor(e*jl),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,i;if(e>=0?(n=e%4294967296|0,i=e/4294967296|0):(i=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,i=i+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){var n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(i,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var i,r,s=0;s<t.length;s++){if((i=t.charCodeAt(s))>55295&&i<57344){if(!r){i>56319||s+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):r=i;continue}if(i<56320){e[n++]=239,e[n++]=191,e[n++]=189,r=i;continue}i=r-55296<<10|i-56320|65536,r=null}else r&&(e[n++]=239,e[n++]=191,e[n++]=189,r=null);i<128?e[n++]=i:(i<2048?e[n++]=i>>6|192:(i<65536?e[n++]=i>>12|224:(e[n++]=i>>18|240,e[n++]=i>>12&63|128),e[n++]=i>>6&63|128),e[n++]=63&i|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&Ul(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),Dl(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),Dl(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var i=this.pos-n;i>=128&&Ul(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(e,t,n){this.writeTag(e,Ll.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,ql,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,Hl,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,Kl,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,Gl,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,Wl,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,Yl,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,Zl,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,Xl,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,Ql,t)},writeBytesField:function(e,t){this.writeTag(e,Ll.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,Ll.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,Ll.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,Ll.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,Ll.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,Ll.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,Ll.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,Ll.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,Ll.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,Ll.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};var tc=n(Rl);const nc=3;function ic(e,t,n){1===e&&n.readMessage(rc,t)}function rc(e,t,n){if(3===e){const{id:e,bitmap:i,width:r,height:s,left:a,top:o,advance:l}=n.readMessage(sc,{});t.push({id:e,bitmap:new Va({width:r+2*nc,height:s+2*nc},i),metrics:{width:r,height:s,left:a,top:o,advance:l}})}}function sc(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}const ac=nc;function oc(e){let t=0,n=0;for(const a of e)t+=a.w*a.h,n=Math.max(n,a.w);e.sort(((e,t)=>t.h-e.h));const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let r=0,s=0;for(const a of e)for(let e=i.length-1;e>=0;e--){const t=i[e];if(!(a.w>t.w||a.h>t.h)){if(a.x=t.x,a.y=t.y,s=Math.max(s,a.y+a.h),r=Math.max(r,a.x+a.w),a.w===t.w&&a.h===t.h){const t=i.pop();e<i.length&&(i[e]=t)}else a.h===t.h?(t.x+=a.w,t.w-=a.w):a.w===t.w?(t.y+=a.h,t.h-=a.h):(i.push({x:t.x+a.w,y:t.y,w:t.w-a.w,h:a.h}),t.y+=a.h,t.h-=a.h);break}}return{w:r,h:s,fill:t/(r*s)||0}}const lc=1;class cc{constructor(e,t){let{pixelRatio:n,version:i,stretchX:r,stretchY:s,content:a}=t;this.paddedRect=e,this.pixelRatio=n,this.stretchX=r,this.stretchY=s,this.content=a,this.version=i}get tl(){return[this.paddedRect.x+lc,this.paddedRect.y+lc]}get br(){return[this.paddedRect.x+this.paddedRect.w-lc,this.paddedRect.y+this.paddedRect.h-lc]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2*lc)/this.pixelRatio,(this.paddedRect.h-2*lc)/this.pixelRatio]}}class uc{constructor(e,t){const n={},i={};this.haveRenderCallbacks=[];const r=[];this.addImages(e,n,r),this.addImages(t,i,r);const{w:s,h:a}=oc(r),o=new Ua({width:s||1,height:a||1});for(const l in e){const t=e[l],i=n[l].paddedRect;Ua.copy(t.data,o,{x:0,y:0},{x:i.x+lc,y:i.y+lc},t.data)}for(const l in t){const e=t[l],n=i[l].paddedRect,r=n.x+lc,s=n.y+lc,a=e.data.width,c=e.data.height;Ua.copy(e.data,o,{x:0,y:0},{x:r,y:s},e.data),Ua.copy(e.data,o,{x:0,y:c-1},{x:r,y:s-1},{width:a,height:1}),Ua.copy(e.data,o,{x:0,y:0},{x:r,y:s+c},{width:a,height:1}),Ua.copy(e.data,o,{x:a-1,y:0},{x:r-1,y:s},{width:1,height:c}),Ua.copy(e.data,o,{x:0,y:0},{x:r+a,y:s},{width:1,height:c})}this.image=o,this.iconPositions=n,this.patternPositions=i}addImages(e,t,n){for(const i in e){const r=e[i],s={x:0,y:0,w:r.data.width+2*lc,h:r.data.height+2*lc};n.push(s),t[i]=new cc(s,r),r.hasRenderCallback&&this.haveRenderCallbacks.push(i)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[i,r]=e.tl;n.update(t.data,void 0,{x:i,y:r})}}var hc;Li("ImagePosition",cc),Li("ImageAtlas",uc),e.ai=void 0,(hc=e.ai||(e.ai={}))[hc.none=0]="none",hc[hc.horizontal=1]="horizontal",hc[hc.vertical=2]="vertical",hc[hc.horizontalOnly=3]="horizontalOnly";const dc=-17;class pc{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(e,t){const n=new pc;return n.scale=e||1,n.fontStack=t,n}static forImage(e){const t=new pc;return t.imageName=e,t}}class fc{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(e,t){const n=new fc;for(let i=0;i<e.sections.length;i++){const r=e.sections[i];r.image?n.addImageSection(r):n.addTextSection(r,t)}return n}length(){return this.text.length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}getCharCode(e){return this.text.charCodeAt(e)}verticalizePunctuation(){this.text=function(e){let t="";for(let n=0;n<e.length;n++){const i=e.charCodeAt(n+1)||null,r=e.charCodeAt(n-1)||null;t+=i&&Wi(i)&&!Nl[e[n+1]]||r&&Wi(r)&&!Nl[e[n-1]]||!Nl[e[n]]?e[n]:Nl[e[n]]}return t}(this.text)}trim(){let e=0;for(let n=0;n<this.text.length&&gc[this.text.charCodeAt(n)];n++)e++;let t=this.text.length;for(let n=this.text.length-1;n>=0&&n>=e&&gc[this.text.charCodeAt(n)];n--)t--;this.text=this.text.substring(e,t),this.sectionIndex=this.sectionIndex.slice(e,t)}substring(e,t){const n=new fc;return n.text=this.text.substring(e,t),n.sectionIndex=this.sectionIndex.slice(e,t),n.sections=this.sections,n}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce(((e,t)=>Math.max(e,this.sections[t].scale)),0)}addTextSection(e,t){this.text+=e.text,this.sections.push(pc.forText(e.scale,e.fontStack||t));const n=this.sections.length-1;for(let i=0;i<e.text.length;++i)this.sectionIndex.push(n)}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void S("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push(pc.forImage(t)),this.sectionIndex.push(this.sections.length-1)):S("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function mc(t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g){const y=fc.fromFeature(t,s);let v;d===e.ai.vertical&&y.verticalizePunctuation();const{processBidirectionalText:_,processStyledBidirectionalText:b}=or;if(_&&1===y.sections.length){v=[];const e=_(y.toString(),Sc(y,u,a,n,r,f,m));for(const t of e){const e=new fc;e.text=t,e.sections=y.sections;for(let n=0;n<t.length;n++)e.sectionIndex.push(0);v.push(e)}}else if(b){v=[];const e=b(y.text,y.sectionIndex,Sc(y,u,a,n,r,f,m));for(const t of e){const e=new fc;e.text=t[0],e.sectionIndex=t[1],e.sections=y.sections,v.push(e)}}else v=function(e,t){const n=[],i=e.text;let r=0;for(const s of t)n.push(e.substring(r,s)),r=s;return r<i.length&&n.push(e.substring(r,i.length)),n}(y,Sc(y,u,a,n,r,f,m));const x=[],w={positionedLines:x,text:y.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(t,n,i,r,s,a,o,l,c,u,h,d){let p=0,f=dc,m=0,g=0;const y="right"===l?1:"left"===l?0:.5;let v=0;for(const S of s){S.trim();const s=S.getMaxScale(),o=(s-1)*Ml,l={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=l;const b=l.positionedGlyphs;let x=0;if(!S.length()){f+=a,++v;continue}for(let a=0;a<S.length();a++){const l=S.getSection(a),m=S.getSectionIndex(a),g=S.getCharCode(a);let y=0,v=null,w=null,E=null,T=Ml;const I=!(c===e.ai.horizontal||!h&&!Gi(g)||h&&(gc[g]||(_=g,Vi.Arabic(_)||Vi["Arabic Supplement"](_)||Vi["Arabic Extended-A"](_)||Vi["Arabic Presentation Forms-A"](_)||Vi["Arabic Presentation Forms-B"](_))));if(l.imageName){const e=r[l.imageName];if(!e)continue;E=l.imageName,t.iconsInText=t.iconsInText||!0,w=e.paddedRect;const n=e.displaySize;l.scale=l.scale*Ml/d,v={width:n[0],height:n[1],left:lc,top:-ac,advance:I?n[1]:n[0]},y=o+(Ml-n[1]*l.scale),T=v.advance;const i=I?n[0]*l.scale-Ml*s:n[1]*l.scale-Ml*s;i>0&&i>x&&(x=i)}else{const e=i[l.fontStack],t=e&&e[g];if(t&&t.rect)w=t.rect,v=t.metrics;else{const e=n[l.fontStack],t=e&&e[g];if(!t)continue;v=t.metrics}y=(s-l.scale)*Ml}I?(t.verticalizable=!0,b.push({glyph:g,imageName:E,x:p,y:f+y,vertical:I,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:v,rect:w}),p+=T*l.scale+u):(b.push({glyph:g,imageName:E,x:p,y:f+y,vertical:I,scale:l.scale,fontStack:l.fontStack,sectionIndex:m,metrics:v,rect:w}),p+=v.advance*l.scale+u)}0!==b.length&&(m=Math.max(p-u,m),Tc(b,0,b.length-1,y,x)),p=0;const w=a*s+x;l.lineOffset=Math.max(x,o),f+=w,g=Math.max(w,g),++v}var _;const b=f-dc,{horizontalAlign:x,verticalAlign:w}=Ec(o);(function(e,t,n,i,r,s,a,o,l){const c=(t-n)*r;let u=0;u=s!==a?-o*i-dc:(-i*l+.5)*a;for(const h of e)for(const e of h.positionedGlyphs)e.x+=c,e.y+=u})(t.positionedLines,y,x,w,m,g,a,b,s.length),t.top+=-w*b,t.bottom=t.top+b,t.left+=-x*m,t.right=t.left+m}(w,n,i,r,v,o,l,c,d,u,p,g),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&w}const gc={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},yc={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function vc(e,t,n,i,r,s){if(t.imageName){const e=i[t.imageName];return e?e.displaySize[0]*t.scale*Ml/s+r:0}{const i=n[t.fontStack],s=i&&i[e];return s?s.metrics.advance*t.scale+r:0}}function _c(e,t,n,i){const r=Math.pow(e-t,2);return i?e<t?r/2:2*r:r+Math.abs(n)*n}function bc(e,t,n){let i=0;return 10===e&&(i-=1e4),n&&(i+=150),40!==e&&65288!==e||(i+=50),41!==t&&65289!==t||(i+=50),i}function xc(e,t,n,i,r,s){let a=null,o=_c(t,n,r,s);for(const l of i){const e=_c(t-l.x,n,r,s)+l.badness;e<=o&&(a=l,o=e)}return{index:e,x:t,priorBreak:a,badness:o}}function wc(e){return e?wc(e.priorBreak).concat(e.index):[]}function Sc(e,t,n,i,r,s,a){if("point"!==s)return[];if(!e)return[];const o=[],l=function(e,t,n,i,r,s){let a=0;for(let o=0;o<e.length();o++){const n=e.getSection(o);a+=vc(e.getCharCode(o),n,i,r,t,s)}return a/Math.max(1,Math.ceil(a/n))}(e,t,n,i,r,a),c=e.text.indexOf("\u200b")>=0;let u=0;for(let d=0;d<e.length();d++){const n=e.getSection(d),s=e.getCharCode(d);if(gc[s]||(u+=vc(s,n,i,r,t,a)),d<e.length()-1){const t=!((h=s)<11904||!(Vi["Bopomofo Extended"](h)||Vi.Bopomofo(h)||Vi["CJK Compatibility Forms"](h)||Vi["CJK Compatibility Ideographs"](h)||Vi["CJK Compatibility"](h)||Vi["CJK Radicals Supplement"](h)||Vi["CJK Strokes"](h)||Vi["CJK Symbols and Punctuation"](h)||Vi["CJK Unified Ideographs Extension A"](h)||Vi["CJK Unified Ideographs"](h)||Vi["Enclosed CJK Letters and Months"](h)||Vi["Halfwidth and Fullwidth Forms"](h)||Vi.Hiragana(h)||Vi["Ideographic Description Characters"](h)||Vi["Kangxi Radicals"](h)||Vi["Katakana Phonetic Extensions"](h)||Vi.Katakana(h)||Vi["Vertical Forms"](h)||Vi["Yi Radicals"](h)||Vi["Yi Syllables"](h)));(yc[s]||t||n.imageName)&&o.push(xc(d+1,u,l,o,bc(s,e.getCharCode(d+1),t&&c),!1))}}var h;return wc(xc(e.length(),u,l,o,0,!0))}function Ec(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Tc(e,t,n,i,r){if(!i&&!r)return;const s=e[n],a=(e[n].x+s.metrics.advance*s.scale)*i;for(let o=t;o<=n;o++)e[o].x-=a,e[o].y+=r}function Ic(e,t,n){const{horizontalAlign:i,verticalAlign:r}=Ec(n),s=t[0]-e.displaySize[0]*i,a=t[1]-e.displaySize[1]*r;return{image:e,top:a,bottom:a+e.displaySize[1],left:s,right:s+e.displaySize[0]}}function kc(e,t,n,i,r,s){const a=e.image;let o;if(a.content){const e=a.content,t=a.pixelRatio||1;o=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*s,c=t.right*s;let u,h,d,p;"width"===n||"both"===n?(p=r[0]+l-i[3],h=r[0]+c+i[1]):(p=r[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*s,m=t.bottom*s;return"height"===n||"both"===n?(u=r[1]+f-i[0],d=r[1]+m+i[2]):(u=r[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:o}}const Cc=255,Ac=128,Pc=Cc*Ac;function Nc(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new lr(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:i}=n;let r=0;for(;r<t.length&&t[r]<=e;)r++;r=Math.max(0,r-1);let s=r;for(;s<t.length&&t[s]<e+1;)s++;s=Math.min(t.length-1,s);const a=t[r],o=t[s];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:o,interpolationType:i}:{kind:"camera",minZoom:a,maxZoom:o,minSize:n.evaluate(new lr(a)),maxSize:n.evaluate(new lr(o)),interpolationType:i}}}function Mc(e,t,n){let i="never";const r=e.get(t);return r?i=r:e.get(n)&&(i="always"),i}const Rc=Vo.VectorTileFeature.types,Oc=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Dc(e,t,n,i,r,s,a,o,l,c,u,h,d){const p=o?Math.min(Pc,Math.round(o[0])):0,f=o?Math.min(Pc,Math.round(o[1])):0;e.emplaceBack(t,n,Math.round(32*i),Math.round(32*r),s,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function Lc(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function zc(e){for(const t of e.sections)if(Zi(t.text))return!0;return!1}class jc{constructor(e){this.layoutVertexArray=new vs,this.indexArray=new Ss,this.programConfigurations=e,this.segments=new ks,this.dynamicLayoutVertexArray=new _s,this.opacityVertexArray=new bs,this.hasVisibleVertices=!1,this.placedSymbolArray=new ns}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,i){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Tl.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,Il.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,Oc,!0),this.opacityVertexBuffer.itemSize=1),(n||i)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Li("SymbolBuffers",jc);class Fc{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new ks,this.collisionVertexArray=new ws}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,kl.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}Li("CollisionBuffers",Fc);class Bc{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((e=>e.id)),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Ca([]),this.placementViewportMatrix=Ca([]);const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Nc(this.zoom,n["text-size"]),this.iconSizeData=Nc(this.zoom,n["icon-size"]);const i=this.layers[0].layout,r=i.get("symbol-sort-key"),s=i.get("symbol-z-order");this.canOverlap="never"!==Mc(i,"text-overlap","text-allow-overlap")||"never"!==Mc(i,"icon-overlap","icon-allow-overlap")||i.get("text-ignore-placement")||i.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==s&&!r.isConstant(),this.sortFeaturesByY=("viewport-y"===s||"auto"===s&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===i.get("symbol-placement")&&(this.writingModes=i.get("text-writing-mode").map((t=>e.ai[t]))),this.stateDependentLayerIds=this.layers.filter((e=>e.isStateDependent())).map((e=>e.id)),this.sourceID=t.sourceID}createArrays(){this.text=new jc(new $s(this.layers,this.zoom,(e=>/^text/.test(e)))),this.icon=new jc(new $s(this.layers,this.zoom,(e=>/^icon/.test(e)))),this.glyphOffsetArray=new ss,this.lineVertexArray=new as,this.symbolInstances=new rs,this.textAnchorOffsets=new ls}calculateGlyphDependencies(e,t,n,i,r){for(let s=0;s<e.length;s++)if(t[e.charCodeAt(s)]=!0,(n||i)&&r){const n=Nl[e.charAt(s)];n&&(t[n.charCodeAt(0)]=!0)}}populate(t,n,i){const r=this.layers[0],s=r.layout,a=s.get("text-font"),o=s.get("text-field"),l=s.get("icon-image"),c=("constant"!==o.value.kind||o.value.value instanceof $e&&!o.value.value.isEmpty()||o.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=s.get("symbol-sort-key");if(this.features=[],!c&&!u)return;const d=n.iconDependencies,p=n.glyphDependencies,f=n.availableImages,m=new lr(this.zoom);for(const{feature:g,id:y,index:v,sourceLayerIndex:_}of t){const t=r._featureFilter.needGeometry,n=aa(g,t);if(!r._featureFilter.filter(m,n,i))continue;let o,l;if(t||(n.geometry=sa(g)),c){const e=r.getValueAndResolveTokens("text-field",n,i,f),t=$e.factory(e);zc(t)&&(this.hasRTLText=!0),(!this.hasRTLText||"unavailable"===sr()||this.hasRTLText&&or.isParsed())&&(o=Pl(t,r,n))}if(u){const e=r.getValueAndResolveTokens("icon-image",n,i,f);l=e instanceof it?e:it.fromString(e)}if(!o&&!l)continue;const b=this.sortFeaturesByKey?h.evaluate(n,{},i):void 0;if(this.features.push({id:y,text:o,icon:l,index:v,sourceLayerIndex:_,geometry:n.geometry,properties:g.properties,type:Rc[g.type],sortKey:b}),l&&(d[l.name]=!0),o){const t=a.evaluate(n,{},i).join(","),r="viewport"!==s.get("text-rotation-alignment")&&"point"!==s.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.ai.vertical)>=0;for(const e of o.sections)if(e.image)d[e.image.name]=!0;else{const n=Ui(o.toString()),i=e.fontStack||t,s=p[i]=p[i]||{};this.calculateGlyphDependencies(e.text,s,r,this.allowVerticalPlacement,n)}}}"line"===s.get("symbol-placement")&&(this.features=function(e){const t={},n={},i=[];let r=0;function s(t){i.push(e[t]),r++}function a(e,t,r){const s=n[e];return delete n[e],n[t]=s,i[s].geometry[0].pop(),i[s].geometry[0]=i[s].geometry[0].concat(r[0]),s}function o(e,n,r){const s=t[n];return delete t[n],t[e]=s,i[s].geometry[0].shift(),i[s].geometry[0]=r[0].concat(i[s].geometry[0]),s}function l(e,t,n){const i=n?t[0][t[0].length-1]:t[0][0];return"".concat(e,":").concat(i.x,":").concat(i.y)}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){s(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=o(p,f,h),r=a(p,f,i[e].geometry);delete t[p],delete n[f],n[l(d,i[r].geometry,!0)]=r,i[e].geometry=null}else p in n?a(p,f,h):f in t?o(p,f,h):(s(c),t[p]=r-1,n[f]=r-1)}return i.filter((e=>e.geometry))}(this.features)),this.sortFeaturesByKey&&this.features.sort(((e,t)=>e.sortKey-t.sortKey))}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,n),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,n))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),i=e.dist(t[e.segment]);const r={};for(let s=e.segment+1;s<t.length;s++)r[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:n},s<t.length-1&&(n+=t[s+1].dist(t[s]));for(let s=e.segment||0;s>=0;s--)r[s]={x:t[s].x,y:t[s].y,tileUnitDistanceFromAnchor:i},s>0&&(i+=t[s-1].dist(t[s]));for(let e=0;e<t.length;e++){const t=r[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,i,r,s,a,o,l,c,u,h,d){const p=t.indexArray,f=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,f,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,v=this.allowVerticalPlacement&&o===e.ai.vertical?Math.PI/2:0,_=a.text&&a.text.sections;for(let e=0;e<n.length;e++){const{tl:r,tr:s,bl:o,br:c,tex:u,pixelOffsetTL:h,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:S}=n[e],E=m.vertexLength,T=x[1];Dc(f,l.x,l.y,r.x,T+r.y,u.x,u.y,i,w,h.x,h.y,y,b),Dc(f,l.x,l.y,s.x,T+s.y,u.x+u.w,u.y,i,w,g.x,h.y,y,b),Dc(f,l.x,l.y,o.x,T+o.y,u.x,u.y+u.h,i,w,h.x,g.y,y,b),Dc(f,l.x,l.y,c.x,T+c.y,u.x+u.w,u.y+u.h,i,w,g.x,g.y,y,b),Lc(t.dynamicLayoutVertexArray,l,v),p.emplaceBack(E,E+1,E+2),p.emplaceBack(E+1,E+2,E+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==n.length-1&&S===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,a,a.index,{},d,_&&_[S])}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,c,u,l.segment,i?i[0]:0,i?i[1]:0,r[0],r[1],o,0,!1,0,h)}_addCollisionDebugVertex(e,t,n,i,r,s){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,i,r,Math.round(s.x),Math.round(s.y))}addCollisionDebugVertices(e,t,n,i,r,a,o){const l=r.segments.prepareSegment(4,r.layoutVertexArray,r.indexArray),c=l.vertexLength,u=r.layoutVertexArray,h=r.collisionVertexArray,d=o.anchorX,p=o.anchorY;this._addCollisionDebugVertex(u,h,a,d,p,new s(e,t)),this._addCollisionDebugVertex(u,h,a,d,p,new s(n,t)),this._addCollisionDebugVertex(u,h,a,d,p,new s(n,i)),this._addCollisionDebugVertex(u,h,a,d,p,new s(e,i)),l.vertexLength+=4;const f=r.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),l.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,i){for(let r=e;r<t;r++){const e=this.collisionBoxArray.get(r);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,i?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Fc(xs,Cl.members,Es),this.iconCollisionBox=new Fc(xs,Cl.members,Es);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,i,r,s,a,o,l){const c={};for(let u=t;u<n;u++){const t=e.get(u);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.textFeatureIndex=t.featureIndex;break}for(let u=i;u<r;u++){const t=e.get(u);c.verticalTextBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalTextFeatureIndex=t.featureIndex;break}for(let u=s;u<a;u++){const t=e.get(u);c.iconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.iconFeatureIndex=t.featureIndex;break}for(let u=o;u<l;u++){const t=e.get(u);c.verticalIconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalIconFeatureIndex=t.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),i=n.vertexStartIndex+4*n.numGlyphs;for(let r=n.vertexStartIndex;r<i;r+=4)e.indexArray.emplaceBack(r,r+1,r+2),e.indexArray.emplaceBack(r+1,r+2,r+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),i=[],r=[],s=[];for(let a=0;a<this.symbolInstances.length;++a){s.push(a);const e=this.symbolInstances.get(a);i.push(0|Math.round(t*e.anchorX+n*e.anchorY)),r.push(e.featureIndex)}return s.sort(((e,t)=>i[e]-i[t]||r[t]-r[e])),s}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach(((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)})),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let Vc,Uc;Li("SymbolBucket",Bc,{omit:["layers","collisionBoxArray","features","compareText"]}),Bc.MAX_GLYPHS=65535,Bc.addDynamicAttributes=Lc;var qc={get paint(){return Uc=Uc||new wr({"icon-opacity":new vr(Z.paint_symbol["icon-opacity"]),"icon-color":new vr(Z.paint_symbol["icon-color"]),"icon-halo-color":new vr(Z.paint_symbol["icon-halo-color"]),"icon-halo-width":new vr(Z.paint_symbol["icon-halo-width"]),"icon-halo-blur":new vr(Z.paint_symbol["icon-halo-blur"]),"icon-translate":new yr(Z.paint_symbol["icon-translate"]),"icon-translate-anchor":new yr(Z.paint_symbol["icon-translate-anchor"]),"text-opacity":new vr(Z.paint_symbol["text-opacity"]),"text-color":new vr(Z.paint_symbol["text-color"],{runtimeType:me,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new vr(Z.paint_symbol["text-halo-color"]),"text-halo-width":new vr(Z.paint_symbol["text-halo-width"]),"text-halo-blur":new vr(Z.paint_symbol["text-halo-blur"]),"text-translate":new yr(Z.paint_symbol["text-translate"]),"text-translate-anchor":new yr(Z.paint_symbol["text-translate-anchor"])})},get layout(){return Vc=Vc||new wr({"symbol-placement":new yr(Z.layout_symbol["symbol-placement"]),"symbol-spacing":new yr(Z.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new yr(Z.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new vr(Z.layout_symbol["symbol-sort-key"]),"symbol-z-order":new yr(Z.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new yr(Z.layout_symbol["icon-allow-overlap"]),"icon-overlap":new yr(Z.layout_symbol["icon-overlap"]),"icon-ignore-placement":new yr(Z.layout_symbol["icon-ignore-placement"]),"icon-optional":new yr(Z.layout_symbol["icon-optional"]),"icon-rotation-alignment":new yr(Z.layout_symbol["icon-rotation-alignment"]),"icon-size":new vr(Z.layout_symbol["icon-size"]),"icon-text-fit":new yr(Z.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new yr(Z.layout_symbol["icon-text-fit-padding"]),"icon-image":new vr(Z.layout_symbol["icon-image"]),"icon-rotate":new vr(Z.layout_symbol["icon-rotate"]),"icon-padding":new vr(Z.layout_symbol["icon-padding"]),"icon-keep-upright":new yr(Z.layout_symbol["icon-keep-upright"]),"icon-offset":new vr(Z.layout_symbol["icon-offset"]),"icon-anchor":new vr(Z.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new yr(Z.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new yr(Z.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new yr(Z.layout_symbol["text-rotation-alignment"]),"text-field":new vr(Z.layout_symbol["text-field"]),"text-font":new vr(Z.layout_symbol["text-font"]),"text-size":new vr(Z.layout_symbol["text-size"]),"text-max-width":new vr(Z.layout_symbol["text-max-width"]),"text-line-height":new yr(Z.layout_symbol["text-line-height"]),"text-letter-spacing":new vr(Z.layout_symbol["text-letter-spacing"]),"text-justify":new vr(Z.layout_symbol["text-justify"]),"text-radial-offset":new vr(Z.layout_symbol["text-radial-offset"]),"text-variable-anchor":new yr(Z.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new vr(Z.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new vr(Z.layout_symbol["text-anchor"]),"text-max-angle":new yr(Z.layout_symbol["text-max-angle"]),"text-writing-mode":new yr(Z.layout_symbol["text-writing-mode"]),"text-rotate":new vr(Z.layout_symbol["text-rotate"]),"text-padding":new yr(Z.layout_symbol["text-padding"]),"text-keep-upright":new yr(Z.layout_symbol["text-keep-upright"]),"text-transform":new vr(Z.layout_symbol["text-transform"]),"text-offset":new vr(Z.layout_symbol["text-offset"]),"text-allow-overlap":new yr(Z.layout_symbol["text-allow-overlap"]),"text-overlap":new yr(Z.layout_symbol["text-overlap"]),"text-ignore-placement":new yr(Z.layout_symbol["text-ignore-placement"]),"text-optional":new yr(Z.layout_symbol["text-optional"])})}};class Hc{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:he,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Li("FormatSectionOverride",Hc,{omit:["defaultValue"]});class Gc extends Er{constructor(e){super(e,qc)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,i){const r=this.layout.get(e).evaluate(t,{},n,i),s=this._unevaluatedLayout._values[e];return s.isDataDriven()||Ln(s.value)||!r?r:function(e,t){return t.replace(/{([^{}]+)}/g,((t,n)=>n in e?String(e[n]):""))}(t.properties,r)}createBucket(e){return new Bc(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of qc.paint.overridableProperties){if(!Gc.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new Hc(t),i=new Dn(n,t.property.specification);let r=null;r="constant"===t.value.kind||"source"===t.value.kind?new jn("source",i):new Fn("composite",i,t.value.zoomStops),this.paint._values[e]=new mr(t.property,r,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&Gc.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),i=qc.paint.properties[t];let r=!1;const s=e=>{for(const t of e)if(i.overrides&&i.overrides.hasOverride(t))return void(r=!0)};if("constant"===n.value.kind&&n.value.value instanceof $e)s(n.value.value.sections);else if("source"===n.value.kind){const e=t=>{r||(t instanceof lt&&at(t.value)===_e?s(t.value.sections):t instanceof pn?s(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return r}}let Wc;var Kc={get paint(){return Wc=Wc||new wr({"background-color":new yr(Z.paint_background["background-color"]),"background-pattern":new br(Z.paint_background["background-pattern"]),"background-opacity":new yr(Z.paint_background["background-opacity"])})}};class Yc extends Er{constructor(e){super(e,Kc)}}let Zc;var Xc={get paint(){return Zc=Zc||new wr({"raster-opacity":new yr(Z.paint_raster["raster-opacity"]),"raster-hue-rotate":new yr(Z.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new yr(Z.paint_raster["raster-brightness-min"]),"raster-brightness-max":new yr(Z.paint_raster["raster-brightness-max"]),"raster-saturation":new yr(Z.paint_raster["raster-saturation"]),"raster-contrast":new yr(Z.paint_raster["raster-contrast"]),"raster-resampling":new yr(Z.paint_raster["raster-resampling"]),"raster-fade-duration":new yr(Z.paint_raster["raster-fade-duration"])})}};class Qc extends Er{constructor(e){super(e,Xc)}}class Jc extends Er{constructor(e){super(e,{}),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class $c{constructor(e){this._callback=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((()=>{this._triggered=!1,this._callback()}),0))}remove(){delete this._channel,this._callback=()=>{}}}const eu=6371008.8;class tu{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid LngLat object: (".concat(e,", ").concat(t,")"));if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new tu(g(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return"LngLat(".concat(this.lng,", ").concat(this.lat,")")}distanceTo(e){const t=Math.PI/180,n=this.lat*t,i=e.lat*t,r=Math.sin(n)*Math.sin(i)+Math.cos(n)*Math.cos(i)*Math.cos((e.lng-this.lng)*t);return eu*Math.acos(Math.min(r,1))}static convert(e){if(e instanceof tu)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new tu(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new tu(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const nu=2*Math.PI*eu;function iu(e){return nu*Math.cos(e*Math.PI/180)}function ru(e){return(180+e)/360}function su(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function au(e,t){return e/iu(t)}function ou(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}class lu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=tu.convert(e);return new lu(ru(n.lng),su(n.lat),au(t,n.lat))}toLngLat(){return new tu(360*this.x-180,ou(this.y))}toAltitude(){return this.z*iu(ou(this.y))}meterInMercatorCoordinateUnits(){return 1/nu*(e=ou(this.y),1/Math.cos(e*Math.PI/180));var e}}function cu(e,t,n){var i=2*Math.PI*6378137/256/Math.pow(2,n);return[e*i-2*Math.PI*6378137/2,t*i-2*Math.PI*6378137/2]}class uu{constructor(e,t,n){if(e<0||e>25||n<0||n>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))throw new Error("x=".concat(t,", y=").concat(n,", z=").concat(e," outside of bounds. 0<=x<").concat(Math.pow(2,e),", 0<=y<").concat(Math.pow(2,e)," 0<=z<=25 "));this.z=e,this.x=t,this.y=n,this.key=pu(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const i=(s=this.y,a=this.z,o=cu(256*(r=this.x),256*(s=Math.pow(2,a)-s-1),a),l=cu(256*(r+1),256*(s+1),a),o[0]+","+o[1]+","+l[0]+","+l[1]);var r,s,a,o,l;const c=function(e,t,n){let i,r="";for(let s=e;s>0;s--)i=1<<s-1,r+=(t&i?1:0)+(n&i?2:0);return r}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,c).replace(/{bbox-epsg-3857}/g,i)}isChildOf(e){const t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){const t=Math.pow(2,this.z);return new s((e.x*t-this.x)*na,(e.y*t-this.y)*na)}toString(){return"".concat(this.z,"/").concat(this.x,"/").concat(this.y)}}class hu{constructor(e,t){this.wrap=e,this.canonical=t,this.key=pu(e,t.z,t.z,t.x,t.y)}}class du{constructor(e,t,n,i,r){if(e<n)throw new Error("overscaledZ should be >= z; overscaledZ = ".concat(e,"; z = ").concat(n));this.overscaledZ=e,this.wrap=t,this.canonical=new uu(n,+i,+r),this.key=pu(t,e,n,i,r)}clone(){return new du(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(e,"; overscaledZ = ").concat(this.overscaledZ));const t=this.canonical.z-e;return e>this.canonical.z?new du(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new du(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error("targetZ > this.overscaledZ; targetZ = ".concat(e,"; overscaledZ = ").concat(this.overscaledZ));const n=this.canonical.z-e;return e>this.canonical.z?pu(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):pu(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;const t=this.canonical.z-e.canonical.z;return 0===e.overscaledZ||e.overscaledZ<this.overscaledZ&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new du(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,i=2*this.canonical.y;return[new du(t,this.wrap,t,n,i),new du(t,this.wrap,t,n+1,i),new du(t,this.wrap,t,n,i+1),new du(t,this.wrap,t,n+1,i+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new du(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new du(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new hu(this.wrap,this.canonical)}toString(){return"".concat(this.overscaledZ,"/").concat(this.canonical.x,"/").concat(this.canonical.y)}getTilePoint(e){return this.canonical.getTilePoint(new lu(e.x-this.wrap,e.y))}}function pu(e,t,n,i,r){(e*=2)<0&&(e=-1*e-1);const s=1<<n;return(s*s*e+s*r+i).toString(36)+n.toString(36)+t.toString(36)}Li("CanonicalTileID",uu),Li("OverscaledTileID",du,{omit:["posMatrix"]});class fu{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&!["mapbox","terrarium","custom"].includes(n))return void S('"'.concat(n,'" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".'));this.stride=t.height;const o=this.dim=t.height-2;switch(this.data=new Uint32Array(t.data.buffer),n){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=i,this.greenFactor=r,this.blueFactor=s,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let l=0;l<o;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(o,l)]=this.data[this._idx(o-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,o)]=this.data[this._idx(l,o-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(o,-1)]=this.data[this._idx(o-1,0)],this.data[this._idx(-1,o)]=this.data[this._idx(0,o-1)],this.data[this._idx(o,o)]=this.data[this._idx(o-1,o-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let l=0;l<o;l++)for(let e=0;e<o;e++){const t=this.get(l,e);t>this.max&&(this.max=t),t<this.min&&(this.min=t)}}get(e,t){const n=new Uint8Array(this.data.buffer),i=4*this._idx(e,t);return this.unpack(n[i],n[i+1],n[i+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(t+1)*this.stride+(e+1)}unpack(e,t,n){return e*this.redFactor+t*this.greenFactor+n*this.blueFactor-this.baseShift}getPixels(){return new Ua({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let i=t*this.dim,r=t*this.dim+this.dim,s=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:i=r-1;break;case 1:r=i+1}switch(n){case-1:s=a-1;break;case 1:a=s+1}const o=-t*this.dim,l=-n*this.dim;for(let c=s;c<a;c++)for(let t=i;t<r;t++)this.data[this._idx(t,c)]=e.data[this._idx(t+o,c+l)]}}Li("DEMData",fu);class mu{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error("Out of bounds. Index requested n=".concat(e," can't be >= this._numberToString.length ").concat(this._numberToString.length));return this._numberToString[e]}}class gu{constructor(e,t,n,i,r){this.type="Feature",this._vectorTileFeature=e,e._z=t,e._x=n,e._y=i,this.properties=e.properties,this.id=r}get geometry(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&(e[t]=this[t]);return e}}class yu{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new Oi(na,16,0),this.grid3D=new Oi(na,16,0),this.featureIndexArray=new us,this.promoteId=t}insert(e,t,n,i,r,s){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,i,r);const o=s?this.grid3D:this.grid;for(let l=0;l<t.length;l++){const e=t[l],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const i=e[t];n[0]=Math.min(n[0],i.x),n[1]=Math.min(n[1],i.y),n[2]=Math.max(n[2],i.x),n[3]=Math.max(n[3],i.y)}n[0]<na&&n[1]<na&&n[2]>=0&&n[3]>=0&&o.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers=new Vo.VectorTile(new tc(this.rawTileData)).layers,this.sourceLayerCoder=new mu(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers}query(e,t,n,i){this.loadVTLayers();const r=e.params||{},a=na/e.tileSize/e.scale,o=Gn(r.filter),l=e.queryGeometry,c=e.queryPadding*a,u=_u(l),h=this.grid.query(u.minX-c,u.minY-c,u.maxX+c,u.maxY+c),d=_u(e.cameraQueryGeometry),p=this.grid3D.query(d.minX-c,d.minY-c,d.maxX+c,d.maxY+c,((t,n,i,r)=>function(e,t,n,i,r){for(const s of e)if(t<=s.x&&n<=s.y&&i>=s.x&&r>=s.y)return!0;const a=[new s(t,n),new s(t,r),new s(i,r),new s(i,n)];if(e.length>2)for(const s of a)if(va(e,s))return!0;for(let s=0;s<e.length-1;s++)if(_a(e[s],e[s+1],a))return!0;return!1}(e.cameraQueryGeometry,t-c,n-c,i+c,r+c)));for(const s of p)h.push(s);h.sort(bu);const f={};let m;for(let s=0;s<h.length;s++){const c=h[s];if(c===m)continue;m=c;const u=this.featureIndexArray.get(c);let d=null;this.loadMatchingFeature(f,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,o,r.layers,r.availableImages,t,n,i,((t,n,i)=>(d||(d=sa(t)),n.queryIntersectsFeature(l,t,i,d,this.z,e.transform,a,e.pixelPosMatrix))))}return f}loadMatchingFeature(e,t,n,i,r,s,a,o,l,c,u){const h=this.bucketLayerIDs[t];if(s&&!function(e,t){for(let n=0;n<e.length;n++)if(t.indexOf(e[n])>=0)return!0;return!1}(s,h))return;const d=this.sourceLayerCoder.decode(n),p=this.vtLayers[d].feature(i);if(r.needGeometry){const e=aa(p,!0);if(!r.filter(new lr(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!r.filter(new lr(this.tileID.overscaledZ),p))return;const f=this.getId(p,d);for(let m=0;m<h.length;m++){const t=h[m];if(s&&s.indexOf(t)<0)continue;const n=o[t];if(!n)continue;let r={};f&&c&&(r=c.getState(n.sourceLayer||"_geojsonTileLayer",f));const d=y({},l[t]);d.paint=vu(d.paint,n.paint,p,r,a),d.layout=vu(d.layout,n.layout,p,r,a);const g=!u||u(p,n,r);if(!g)continue;const v=new gu(p,this.z,this.x,this.y,f);v.layer=d;let _=e[t];void 0===_&&(_=e[t]=[]),_.push({featureIndex:i,feature:v,intersectionZ:g})}}lookupSymbolFeatures(e,t,n,i,r,s,a,o){const l={};this.loadVTLayers();const c=Gn(r);for(const u of e)this.loadMatchingFeature(l,n,i,u,c,s,a,o,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){let n=e.id;return this.promoteId&&(n=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof n&&(n=Number(n))),n}}function vu(e,t,n,i,r){return _(e,((e,s)=>{const a=t instanceof gr?t.get(s):null;return a&&a.evaluate?a.evaluate(n,i,r):a}))}function _u(e){let t=1/0,n=1/0,i=-1/0,r=-1/0;for(const s of e)t=Math.min(t,s.x),n=Math.min(n,s.y),i=Math.max(i,s.x),r=Math.max(r,s.y);return{minX:t,minY:n,maxX:i,maxY:r}}function bu(e,t){return t-e}function xu(e,t,n,i,r){const a=[];for(let o=0;o<e.length;o++){const l=e[o];let c;for(let e=0;e<l.length-1;e++){let o=l[e],u=l[e+1];o.x<t&&u.x<t||(o.x<t?o=new s(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x<t&&(u=new s(t,o.y+(t-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y<n&&u.y<n||(o.y<n?o=new s(o.x+(n-o.y)/(u.y-o.y)*(u.x-o.x),n)._round():u.y<n&&(u=new s(o.x+(n-o.y)/(u.y-o.y)*(u.x-o.x),n)._round()),o.x>=i&&u.x>=i||(o.x>=i?o=new s(i,o.y+(i-o.x)/(u.x-o.x)*(u.y-o.y))._round():u.x>=i&&(u=new s(i,o.y+(i-o.x)/(u.x-o.x)*(u.y-o.y))._round()),o.y>=r&&u.y>=r||(o.y>=r?o=new s(o.x+(r-o.y)/(u.y-o.y)*(u.x-o.x),r)._round():u.y>=r&&(u=new s(o.x+(r-o.y)/(u.y-o.y)*(u.x-o.x),r)._round()),c&&o.equals(c[c.length-1])||(c=[o],a.push(c)),c.push(u)))))}}return a}Li("FeatureIndex",yu,{omit:["rawTileData","sourceLayerCoder"]});class wu extends s{constructor(e,t,n,i){super(e,t),this.angle=n,void 0!==i&&(this.segment=i)}clone(){return new wu(this.x,this.y,this.angle,this.segment)}}function Su(e,t,n,i,r){if(void 0===t.segment||0===n)return!0;let s=t,a=t.segment+1,o=0;for(;o>-n/2;){if(a--,a<0)return!1;o-=e[a].dist(s),s=e[a]}o+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;o<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let s=e[a-1].angleTo(t)-t.angleTo(n);for(s=Math.abs((s+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:o,angleDelta:s}),c+=s;o-l[0].distance>i;)c-=l.shift().angleDelta;if(c>r)return!1;a++,o+=t.dist(n)}return!0}function Eu(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Tu(e,t,n){return e?.6*t*n:0}function Iu(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function ku(e,t,n,i,r,s){const a=Tu(n,r,s),o=Iu(n,i)*s;let l=0;const c=Eu(e)/2;for(let u=0;u<e.length-1;u++){const n=e[u],i=e[u+1],r=n.dist(i);if(l+r>c){const s=(c-l)/r,h=Gt.number(n.x,i.x,s),d=Gt.number(n.y,i.y,s),p=new wu(h,d,i.angleTo(n),u);return p._round(),!a||Su(e,p,o,a,t)?p:void 0}l+=r}}function Cu(e,t,n,i,r,s,a,o,l){const c=Tu(i,s,a),u=Iu(i,r),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),Au(e,d?t/2*o%t:(u/2+2*s)*a*o%t,t,c,n,h,d,!1,l)}function Au(e,t,n,i,r,s,a,o,l){const c=s/2,u=Eu(e);let h=0,d=t-n,p=[];for(let f=0;f<e.length-1;f++){const t=e[f],a=e[f+1],o=t.dist(a),m=a.angleTo(t);for(;d+n<h+o;){d+=n;const g=(d-h)/o,y=Gt.number(t.x,a.x,g),v=Gt.number(t.y,a.y,g);if(y>=0&&y<l&&v>=0&&v<l&&d-c>=0&&d+c<=u){const t=new wu(y,v,m,f);t._round(),i&&!Su(e,t,s,i,r)||p.push(t)}}h+=o}return o||p.length||a||(p=Au(e,h/2,n,i,r,s,a,!0,l)),p}Li("Anchor",wu);const Pu=lc;function Nu(e,t,n,i){const r=[],a=e.image,o=a.pixelRatio,l=a.paddedRect.w-2*Pu,c=a.paddedRect.h-2*Pu,u=e.right-e.left,h=e.bottom-e.top,d=a.stretchX||[[0,l]],p=a.stretchY||[[0,c]],f=(e,t)=>e+t[1]-t[0],m=d.reduce(f,0),g=p.reduce(f,0),y=l-m,v=c-g;let _=0,b=m,x=0,w=g,S=0,E=y,T=0,I=v;if(a.content&&i){const e=a.content;_=Mu(d,0,e[0]),x=Mu(p,0,e[1]),b=Mu(d,e[0],e[2]),w=Mu(p,e[1],e[3]),S=e[0]-_,T=e[1]-x,E=e[2]-e[0]-b,I=e[3]-e[1]-w}const k=(i,r,l,c)=>{const d=Ou(i.stretch-_,b,u,e.left),p=Du(i.fixed-S,E,i.stretch,m),f=Ou(r.stretch-x,w,h,e.top),y=Du(r.fixed-T,I,r.stretch,g),v=Ou(l.stretch-_,b,u,e.left),k=Du(l.fixed-S,E,l.stretch,m),C=Ou(c.stretch-x,w,h,e.top),A=Du(c.fixed-T,I,c.stretch,g),P=new s(d,f),N=new s(v,f),M=new s(v,C),R=new s(d,C),O=new s(p/o,y/o),D=new s(k/o,A/o),L=t*Math.PI/180;if(L){const e=Math.sin(L),t=Math.cos(L),n=[t,-e,e,t];P._matMult(n),N._matMult(n),R._matMult(n),M._matMult(n)}const z=i.stretch+i.fixed,j=r.stretch+r.fixed;return{tl:P,tr:N,bl:R,br:M,tex:{x:a.paddedRect.x+Pu+z,y:a.paddedRect.y+Pu+j,w:l.stretch+l.fixed-z,h:c.stretch+c.fixed-j},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:D,minFontScaleX:E/o/u,minFontScaleY:I/o/h,isSDF:n}};if(i&&(a.stretchX||a.stretchY)){const e=Ru(d,y,m),t=Ru(p,v,g);for(let n=0;n<e.length-1;n++){const i=e[n],s=e[n+1];for(let e=0;e<t.length-1;e++)r.push(k(i,t[e],s,t[e+1]))}}else r.push(k({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return r}function Mu(e,t,n){let i=0;for(const r of e)i+=Math.max(t,Math.min(n,r[1]))-Math.max(t,Math.min(n,r[0]));return i}function Ru(e,t,n){const i=[{fixed:-Pu,stretch:0}];for(const[r,s]of e){const e=i[i.length-1];i.push({fixed:r-e.stretch,stretch:e.stretch}),i.push({fixed:r-e.stretch,stretch:e.stretch+(s-r)})}return i.push({fixed:t+Pu,stretch:n}),i}function Ou(e,t,n,i){return e/t*n+i}function Du(e,t,n,i){return e-t*n/i}class Lu{constructor(e,t,n,i,r,a,o,l,c,u){if(this.boxStartIndex=e.length,c){let e=a.top,t=a.bottom;const n=a.collisionPadding;n&&(e-=n[1],t+=n[3]);let i=t-e;i>0&&(i=Math.max(10,i),this.circleDiameter=i)}else{let c=a.top*o-l[0],h=a.bottom*o+l[2],d=a.left*o-l[3],p=a.right*o+l[1];const f=a.collisionPadding;if(f&&(d-=f[0]*o,c-=f[1]*o,p+=f[2]*o,h+=f[3]*o),u){const e=new s(d,c),t=new s(p,c),n=new s(d,h),i=new s(p,h),r=u*Math.PI/180;e._rotate(r),t._rotate(r),n._rotate(r),i._rotate(r),d=Math.min(e.x,t.x,n.x,i.x),p=Math.max(e.x,t.x,n.x,i.x),c=Math.min(e.y,t.y,n.y,i.y),h=Math.max(e.y,t.y,n.y,i.y)}e.emplaceBack(t.x,t.y,d,c,p,h,n,i,r)}this.boxEndIndex=e.length}}class zu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ju;if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,i=t[e];for(;e>0;){const r=e-1>>1,s=t[r];if(n(i,s)>=0)break;t[e]=s,e=r}t[e]=i}_down(e){const{data:t,compare:n}=this,i=this.length>>1,r=t[e];for(;e<i;){let i=1+(e<<1),s=t[i];const a=i+1;if(a<this.length&&n(t[a],s)<0&&(i=a,s=t[a]),n(s,r)>=0)break;t[e]=s,e=i}t[e]=r}}function ju(e,t){return e<t?-1:e>t?1:0}function Fu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=1/0,r=1/0,a=-1/0,o=-1/0;const l=e[0];for(let s=0;s<l.length;s++){const e=l[s];(!s||e.x<i)&&(i=e.x),(!s||e.y<r)&&(r=e.y),(!s||e.x>a)&&(a=e.x),(!s||e.y>o)&&(o=e.y)}const c=Math.min(a-i,o-r);let u=c/2;const h=new zu([],Bu);if(0===c)return new s(i,r);for(let s=i;s<a;s+=c)for(let t=r;t<o;t+=c)h.push(new Vu(s+u,t+u,u,e));let d=function(e){let t=0,n=0,i=0;const r=e[0];for(let s=0,a=r.length,o=a-1;s<a;o=s++){const e=r[s],a=r[o],l=e.x*a.y-a.x*e.y;n+=(e.x+a.x)*l,i+=(e.y+a.y)*l,t+=3*l}return new Vu(n/t,i/t,0,e)}(e),p=h.length;for(;h.length;){const i=h.pop();(i.d>d.d||!d.d)&&(d=i,n&&console.log("found best %d after %d probes",Math.round(1e4*i.d)/1e4,p)),i.max-d.d<=t||(u=i.h/2,h.push(new Vu(i.p.x-u,i.p.y-u,u,e)),h.push(new Vu(i.p.x+u,i.p.y-u,u,e)),h.push(new Vu(i.p.x-u,i.p.y+u,u,e)),h.push(new Vu(i.p.x+u,i.p.y+u,u,e)),p+=4)}return n&&(console.log("num probes: ".concat(p)),console.log("best distance: ".concat(d.d))),d.p}function Bu(e,t){return t.max-e.max}function Vu(e,t,n,i){this.p=new s(e,t),this.h=n,this.d=function(e,t){let n=!1,i=1/0;for(let r=0;r<t.length;r++){const s=t[r];for(let t=0,r=s.length,a=r-1;t<r;a=t++){const r=s[t],o=s[a];r.y>e.y!=o.y>e.y&&e.x<(o.x-r.x)*(e.y-r.y)/(o.y-r.y)+r.x&&(n=!n),i=Math.min(i,ga(e,r,o))}}return(n?1:-1)*Math.sqrt(i)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}var Uu;e.aq=void 0,(Uu=e.aq||(e.aq={}))[Uu.center=1]="center",Uu[Uu.left=2]="left",Uu[Uu.right=3]="right",Uu[Uu.top=4]="top",Uu[Uu.bottom=5]="bottom",Uu[Uu["top-left"]=6]="top-left",Uu[Uu["top-right"]=7]="top-right",Uu[Uu["bottom-left"]=8]="bottom-left",Uu[Uu["bottom-right"]=9]="bottom-right";const qu=7,Hu=Number.POSITIVE_INFINITY;function Gu(e,t){return t[1]!==Hu?function(e,t,n){let i=0,r=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":r=n-qu;break;case"bottom-right":case"bottom-left":case"bottom":r=-n+qu}switch(e){case"top-right":case"bottom-right":case"right":i=-t;break;case"top-left":case"bottom-left":case"left":i=t}return[i,r]}(e,t[0],t[1]):function(e,t){let n=0,i=0;t<0&&(t=0);const r=t/Math.SQRT2;switch(e){case"top-right":case"top-left":i=r-qu;break;case"bottom-right":case"bottom-left":i=-r+qu;break;case"bottom":i=-t+qu;break;case"top":i=t-qu}switch(e){case"top-right":case"bottom-right":n=-r;break;case"top-left":case"bottom-left":n=r;break;case"left":n=t;break;case"right":n=-t}return[n,i]}(e,t[0])}function Wu(e,t,n){var i;const r=e.layout,s=null===(i=r.get("text-variable-anchor-offset"))||void 0===i?void 0:i.evaluate(t,{},n);if(s){const e=s.values,t=[];for(let n=0;n<e.length;n+=2){const i=t[n]=e[n],r=e[n+1].map((e=>e*Ml));i.startsWith("top")?r[1]-=qu:i.startsWith("bottom")&&(r[1]+=qu),t[n+1]=r}return new nt(t)}const a=r.get("text-variable-anchor");if(a){let i;i=void 0!==e._unevaluatedLayout.getValue("text-radial-offset")?[r.get("text-radial-offset").evaluate(t,{},n)*Ml,Hu]:r.get("text-offset").evaluate(t,{},n).map((e=>e*Ml));const s=[];for(const e of a)s.push(e,Gu(e,i));return new nt(s)}return null}function Ku(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function Yu(t,n,i,r,s,a,o,l,c,u,h){let d=a.textMaxSize.evaluate(n,{});void 0===d&&(d=o);const p=t.layers[0].layout,f=p.get("icon-offset").evaluate(n,{},h),m=Xu(i.horizontal),g=o/24,y=t.tilePixelRatio*g,v=t.tilePixelRatio*d/24,_=t.tilePixelRatio*l,b=t.tilePixelRatio*p.get("symbol-spacing"),x=p.get("text-padding")*t.tilePixelRatio,w=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const r=e.get("icon-padding").evaluate(t,{},n),s=r&&r.values;return[s[0]*i,s[1]*i,s[2]*i,s[3]*i]}(p,n,h,t.tilePixelRatio),E=p.get("text-max-angle")/180*Math.PI,T="viewport"!==p.get("text-rotation-alignment")&&"point"!==p.get("symbol-placement"),I="map"===p.get("icon-rotation-alignment")&&"point"!==p.get("symbol-placement"),k=p.get("symbol-placement"),C=b/2,A=p.get("icon-text-fit");let P;r&&"none"!==A&&(t.allowVerticalPlacement&&i.vertical&&(P=kc(r,i.vertical,A,p.get("icon-text-fit-padding"),f,g)),m&&(r=kc(r,m,A,p.get("icon-text-fit-padding"),f,g)));const N=(l,d)=>{d.x<0||d.x>=na||d.y<0||d.y>=na||function(t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,E,T,I){const k=t.addToLineVertexArray(n,i);let C,A,P,N,M=0,R=0,O=0,D=0,L=-1,z=-1;const j={};let F=Ls("");if(t.allowVerticalPlacement&&r.vertical){const e=l.layout.get("text-rotate").evaluate(x,{},T)+90;P=new Lu(c,n,u,h,d,r.vertical,p,f,m,e),o&&(N=new Lu(c,n,u,h,d,o,y,v,m,e))}if(s){const i=l.layout.get("icon-rotate").evaluate(x,{}),r="none"!==l.layout.get("icon-text-fit"),a=Nu(s,i,E,r),p=o?Nu(o,i,E,r):void 0;A=new Lu(c,n,u,h,d,s,y,v,!1,i),M=4*a.length;const f=t.iconSizeData;let m=null;"source"===f.kind?(m=[Ac*l.layout.get("icon-size").evaluate(x,{})],m[0]>Pc&&S("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(Cc,'. Reduce your "icon-size".'))):"composite"===f.kind&&(m=[Ac*w.compositeIconSizes[0].evaluate(x,{},T),Ac*w.compositeIconSizes[1].evaluate(x,{},T)],(m[0]>Pc||m[1]>Pc)&&S("".concat(t.layerIds[0],': Value for "icon-size" is >= ').concat(Cc,'. Reduce your "icon-size".'))),t.addSymbols(t.icon,a,m,b,_,x,e.ai.none,n,k.lineStartIndex,k.lineLength,-1,T),L=t.icon.placedSymbolArray.length-1,p&&(R=4*p.length,t.addSymbols(t.icon,p,m,b,_,x,e.ai.vertical,n,k.lineStartIndex,k.lineLength,-1,T),z=t.icon.placedSymbolArray.length-1)}const B=Object.keys(r.horizontal);for(const S of B){const i=r.horizontal[S];if(!C){F=Ls(i.text);const e=l.layout.get("text-rotate").evaluate(x,{},T);C=new Lu(c,n,u,h,d,i,p,f,m,e)}const s=1===i.positionedLines.length;if(O+=Zu(t,n,i,a,l,m,x,g,k,r.vertical?e.ai.horizontal:e.ai.horizontalOnly,s?B:[S],j,L,w,T),s)break}r.vertical&&(D+=Zu(t,n,r.vertical,a,l,m,x,g,k,e.ai.vertical,["vertical"],j,z,w,T));const V=C?C.boxStartIndex:t.collisionBoxArray.length,U=C?C.boxEndIndex:t.collisionBoxArray.length,q=P?P.boxStartIndex:t.collisionBoxArray.length,H=P?P.boxEndIndex:t.collisionBoxArray.length,G=A?A.boxStartIndex:t.collisionBoxArray.length,W=A?A.boxEndIndex:t.collisionBoxArray.length,K=N?N.boxStartIndex:t.collisionBoxArray.length,Y=N?N.boxEndIndex:t.collisionBoxArray.length;let Z=-1;const X=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;Z=X(C,Z),Z=X(P,Z),Z=X(A,Z),Z=X(N,Z);const Q=Z>-1?1:0;Q&&(Z*=I/Ml),t.glyphOffsetArray.length>=Bc.MAX_GLYPHS&&S("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey);const J=Wu(l,x,T),[$,ee]=function(t,n){const i=t.length,r=null==n?void 0:n.values;if((null==r?void 0:r.length)>0)for(let s=0;s<r.length;s+=2){const n=r[s+1];t.emplaceBack(e.aq[r[s]],n[0],n[1])}return[i,t.length]}(t.textAnchorOffsets,J);t.symbolInstances.emplaceBack(n.x,n.y,j.right>=0?j.right:-1,j.center>=0?j.center:-1,j.left>=0?j.left:-1,j.vertical||-1,L,z,F,V,U,q,H,G,W,K,Y,u,O,D,M,R,Q,0,p,Z,$,ee)}(t,d,l,i,r,s,P,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,y,[x,x,x,x],T,c,_,w,I,f,n,a,u,h,o)};if("line"===k)for(const e of xu(n.geometry,0,0,na,na)){const n=Cu(e,b,E,i.vertical||m,r,24,v,t.overscaling,na);for(const i of n)m&&Qu(t,m.text,C,i)||N(e,i)}else if("line-center"===k){for(const e of n.geometry)if(e.length>1){const t=ku(e,E,i.vertical||m,r,24,v);t&&N(e,t)}}else if("Polygon"===n.type)for(const e of Ao(n.geometry,0)){const t=Fu(e,16);N(e[0],new wu(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry)N(e,new wu(e[0].x,e[0].y,0));else if("Point"===n.type)for(const e of n.geometry)for(const t of e)N([t],new wu(t.x,t.y,0))}function Zu(e,t,n,i,r,a,o,l,c,u,h,d,p,f,m){const g=function(e,t,n,i,r,a,o,l){const c=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=[];for(const h of t.positionedLines)for(const e of h.positionedGlyphs){if(!e.rect)continue;const i=e.rect||{};let a=ac+1,d=!0,p=1,f=0;const m=(r||l)&&e.vertical,g=e.metrics.advance*e.scale/2;if(l&&t.verticalizable&&(f=h.lineOffset/2-(e.imageName?-(Ml-e.metrics.width*e.scale)/2:(e.scale-1)*Ml)),e.imageName){const t=o[e.imageName];d=t.sdf,p=t.pixelRatio,a=lc/p}const y=r?[e.x+g,e.y]:[0,0];let v=r?[0,0]:[e.x+g+n[0],e.y+n[1]-f],_=[0,0];m&&(_=v,v=[0,0]);const b=e.metrics.isDoubleResolution?2:1,x=(e.metrics.left-a)*e.scale-g+v[0],w=(-e.metrics.top-a)*e.scale+v[1],S=x+i.w/b*e.scale/p,E=w+i.h/b*e.scale/p,T=new s(x,w),I=new s(S,w),k=new s(x,E),C=new s(S,E);if(m){const t=new s(-g,g-dc),n=-Math.PI/2,i=Ml/2-g,r=new s(5-dc-i,-(e.imageName?i:0)),a=new s(..._);T._rotateAround(n,t)._add(r)._add(a),I._rotateAround(n,t)._add(r)._add(a),k._rotateAround(n,t)._add(r)._add(a),C._rotateAround(n,t)._add(r)._add(a)}if(c){const e=Math.sin(c),t=Math.cos(c),n=[t,-e,e,t];T._matMult(n),I._matMult(n),k._matMult(n),C._matMult(n)}const A=new s(0,0),P=new s(0,0);u.push({tl:T,tr:I,bl:k,br:C,tex:i,writingMode:t.writingMode,glyphOffset:y,sectionIndex:e.sectionIndex,isSDF:d,pixelOffsetTL:A,pixelOffsetBR:P,minFontScaleX:0,minFontScaleY:0})}return u}(0,n,l,r,a,o,i,e.allowVerticalPlacement),y=e.textSizeData;let v=null;"source"===y.kind?(v=[Ac*r.layout.get("text-size").evaluate(o,{})],v[0]>Pc&&S("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(Cc,'. Reduce your "text-size".'))):"composite"===y.kind&&(v=[Ac*f.compositeTextSizes[0].evaluate(o,{},m),Ac*f.compositeTextSizes[1].evaluate(o,{},m)],(v[0]>Pc||v[1]>Pc)&&S("".concat(e.layerIds[0],': Value for "text-size" is >= ').concat(Cc,'. Reduce your "text-size".'))),e.addSymbols(e.text,g,v,l,a,o,u,t,c.lineStartIndex,c.lineLength,p,m);for(const s of h)d[s]=e.text.placedSymbolArray.length-1;return 4*g.length}function Xu(e){for(const t in e)return e[t];return null}function Qu(e,t,n,i){const r=e.compareText;if(t in r){const e=r[t];for(let t=e.length-1;t>=0;t--)if(i.dist(e[t])<n)return!0}else r[t]=[];return r[t].push(i),!1}const Ju=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class $u{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const i=n>>4;if(1!==i)throw new Error("Got v".concat(i," data when expected v1."));const r=Ju[15&n];if(!r)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new $u(a,s,r,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const r=Ju.indexOf(this.ArrayType),s=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,o=(8-a%8)%8;if(r<0)throw new Error("Unexpected typed array class: ".concat(n,"."));i&&i instanceof ArrayBuffer?(this.data=i,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+o,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+s+a+o),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+o,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+r]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return eh(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,i){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:s,nodeSize:a}=this,o=[0,r.length-1,0],l=[];for(;o.length;){const c=o.pop()||0,u=o.pop()||0,h=o.pop()||0;if(u-h<=a){for(let a=h;a<=u;a++){const o=s[2*a],c=s[2*a+1];o>=e&&o<=n&&c>=t&&c<=i&&l.push(r[a])}continue}const d=h+u>>1,p=s[2*d],f=s[2*d+1];p>=e&&p<=n&&f>=t&&f<=i&&l.push(r[d]),(0===c?e<=p:t<=f)&&(o.push(h),o.push(d-1),o.push(1-c)),(0===c?n>=p:i>=f)&&(o.push(d+1),o.push(u),o.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:r,nodeSize:s}=this,a=[0,i.length-1,0],o=[],l=n*n;for(;a.length;){const c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=s){for(let n=h;n<=u;n++)rh(r[2*n],r[2*n+1],e,t)<=l&&o.push(i[n]);continue}const d=h+u>>1,p=r[2*d],f=r[2*d+1];rh(p,f,e,t)<=l&&o.push(i[d]),(0===c?e-n<=p:t-n<=f)&&(a.push(h),a.push(d-1),a.push(1-c)),(0===c?e+n>=p:t+n>=f)&&(a.push(d+1),a.push(u),a.push(1-c))}return o}}function eh(e,t,n,i,r,s){if(r-i<=n)return;const a=i+r>>1;th(e,t,a,i,r,s),eh(e,t,n,i,a-1,1-s),eh(e,t,n,a+1,r,1-s)}function th(e,t,n,i,r,s){for(;r>i;){if(r-i>600){const a=r-i+1,o=n-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(o-a/2<0?-1:1);th(e,t,n,Math.max(i,Math.floor(n-o*c/a+u)),Math.min(r,Math.floor(n+(a-o)*c/a+u)),s)}const a=t[2*n+s];let o=i,l=r;for(nh(e,t,i,n),t[2*r+s]>a&&nh(e,t,i,r);o<l;){for(nh(e,t,o,l),o++,l--;t[2*o+s]<a;)o++;for(;t[2*l+s]>a;)l--}t[2*i+s]===a?nh(e,t,i,l):(l++,nh(e,t,l,r)),l<=n&&(i=l+1),n<=l&&(r=l-1)}}function nh(e,t,n,i){ih(e,n,i),ih(t,2*n,2*i),ih(t,2*n+1,2*i+1)}function ih(e,t,n){const i=e[t];e[t]=e[n],e[n]=i}function rh(e,t,n,i){const r=e-n,s=t-i;return r*r+s*s}var sh;e.bg=void 0,(sh=e.bg||(e.bg={})).create="create",sh.load="load",sh.fullLoad="fullLoad";let ah=null,oh=[];const lh=1e3/60,ch="loadTime",uh="fullLoadTime",hh={mark(e){performance.mark(e)},frame(e){const t=e;null!=ah&&oh.push(t-ah),ah=t},clearMetrics(){ah=null,oh=[],performance.clearMeasures(ch),performance.clearMeasures(uh);for(const t in e.bg)performance.clearMarks(e.bg[t])},getPerformanceMetrics(){performance.measure(ch,e.bg.create,e.bg.load),performance.measure(uh,e.bg.create,e.bg.fullLoad);const t=performance.getEntriesByName(ch)[0].duration,n=performance.getEntriesByName(uh)[0].duration,i=oh.length,r=1/(oh.reduce(((e,t)=>e+t),0)/i/1e3),s=oh.filter((e=>e>lh)).reduce(((e,t)=>e+(t-lh)/lh),0);return{loadTime:t,fullLoadTime:n,fps:r,percentDroppedFrames:s/(i+s)*100,totalFrames:i}}};e.$=function(e,t,n){var i,r,s,a,o,l,c,u,h,d,p,f,m=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(r=t[1],s=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=i=t[0],e[1]=r,e[2]=s,e[3]=a,e[4]=o,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=i*m+o*g+h*y+t[12],e[13]=r*m+l*g+d*y+t[13],e[14]=s*m+c*g+p*y+t[14],e[15]=a*m+u*g+f*y+t[15]),e},e.A=ka,e.B=Gt,e.C=class{constructor(e,t,n){this.receive=e=>{const t=e.data,n=t.id;if(n&&(!t.targetMapId||this.mapId===t.targetMapId))if("<cancel>"===t.type){delete this.tasks[n];const e=this.cancelCallbacks[n];delete this.cancelCallbacks[n],e&&e()}else I()||t.mustQueue?(this.tasks[n]=t,this.taskQueue.push(n),this.invoker.trigger()):this.processTask(n,t)},this.process=()=>{if(!this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length&&this.invoker.trigger(),t&&this.processTask(e,t)},this.target=e,this.parent=t,this.mapId=n,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},this.invoker=new $c(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=I()?e:window}send(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=Math.round(1e18*Math.random()).toString(36).substring(0,10);n&&(this.callbacks[s]=n);const a=[],o={id:s,type:e,hasCallback:!!n,targetMapId:i,mustQueue:r,sourceMapId:this.mapId,data:ji(t,a)};return this.target.postMessage(o,{transfer:a}),{cancel:()=>{n&&delete this.callbacks[s],this.target.postMessage({id:s,type:"<cancel>",targetMapId:i,sourceMapId:this.mapId})}}}processTask(e,t){if("<response>"===t.type){const n=this.callbacks[e];delete this.callbacks[e],n&&(t.error?n(Fi(t.error)):n(null,Fi(t.data)))}else{let n=!1;const i=[],r=t.hasCallback?(t,r)=>{n=!0,delete this.cancelCallbacks[e];const s={id:e,type:"<response>",sourceMapId:this.mapId,error:t?ji(t):null,data:ji(r,i)};this.target.postMessage(s,{transfer:i})}:e=>{n=!0};let s=null;const a=Fi(t.data);if(this.parent[t.type])s=this.parent[t.type](t.sourceMapId,a,r);else if("getWorkerSource"in this.parent){const e=t.type.split(".");s=this.parent.getWorkerSource(t.sourceMapId,e[0],a.source)[e[1]](a,r)}else r(new Error("Could not find function ".concat(t.type)));!n&&s&&s.cancel&&(this.cancelCallbacks[e]=s.cancel)}}remove(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)}},e.D=yr,e.E=Y,e.F=function(e,t){const n={};for(let i=0;i<t.length;i++){const r=t[i];r in e&&(n[r]=e[r])}return n},e.G=ru,e.H=su,e.I=cc,e.J=h,e.K=d,e.L=tu,e.M=P,e.N=na,e.O=du,e.P=s,e.Q=Cr,e.R=Ua,e.S=ks,e.T=hr,e.U=lu,e.V=class extends Mr{},e.W=uu,e.X=function(e,t){const n=window.document.createElement("video");n.muted=!0,n.onloadstart=function(){t(null,n)};for(let i=0;i<e.length;i++){const t=window.document.createElement("source");q(e[i])||(n.crossOrigin="Anonymous"),t.src=e[i],n.appendChild(t)}return{cancel:()=>{}}},e.Y=oe,e.Z=function(){var e=new ka(16);return ka!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e._=t,e.a=C,e.a$=class extends Qr{},e.a0=function(e,t,n){var i=n[0],r=n[1],s=n[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*r,e[5]=t[5]*r,e[6]=t[6]*r,e[7]=t[7]*r,e[8]=t[8]*s,e[9]=t[9]*s,e[10]=t[10]*s,e[11]=t[11]*s,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.a1=Aa,e.a2=function(){return v++},e.a3=es,e.a4=Bc,e.a5=function(){or.isLoading()||or.isLoaded()||"deferred"!==sr()||ar()},e.a6=Gn,e.a7=aa,e.a8=lr,e.a9=gu,e.aA=nr,e.aB=function(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=Q(e[n],t[e[n].ref]));return e},e.aC=function(e){if("custom"===e.type)return new Jc(e);switch(e.type){case"background":return new Yc(e);case"circle":return new Ra(e);case"fill":return new zo(e);case"fill-extrusion":return new ol(e);case"heatmap":return new Ha(e);case"hillshade":return new Ka(e);case"line":return new Sl(e);case"raster":return new Qc(e);case"symbol":return new Gc(e)}},e.aD=x,e.aE=function(e,t){if(!e)return[{command:$.setStyle,args:[t]}];let n=[];try{if(!J(e.version,t.version))return[{command:$.setStyle,args:[t]}];J(e.center,t.center)||n.push({command:$.setCenter,args:[t.center]}),J(e.zoom,t.zoom)||n.push({command:$.setZoom,args:[t.zoom]}),J(e.bearing,t.bearing)||n.push({command:$.setBearing,args:[t.bearing]}),J(e.pitch,t.pitch)||n.push({command:$.setPitch,args:[t.pitch]}),J(e.sprite,t.sprite)||n.push({command:$.setSprite,args:[t.sprite]}),J(e.glyphs,t.glyphs)||n.push({command:$.setGlyphs,args:[t.glyphs]}),J(e.transition,t.transition)||n.push({command:$.setTransition,args:[t.transition]}),J(e.light,t.light)||n.push({command:$.setLight,args:[t.light]});const i={},r=[];!function(e,t,n,i){let r;for(r in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,r)&&(Object.prototype.hasOwnProperty.call(t,r)||te(r,n,i));for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Object.prototype.hasOwnProperty.call(e,r)?J(e[r],t[r])||("geojson"===e[r].type&&"geojson"===t[r].type&&ie(e,t,r)?n.push({command:$.setGeoJSONSourceData,args:[r,t[r].data]}):ne(r,t,n,i)):ee(r,t,n))}(e.sources,t.sources,r,i);const s=[];e.layers&&e.layers.forEach((e=>{i[e.source]?n.push({command:$.removeLayer,args:[e.id]}):s.push(e)})),n=n.concat(r),function(e,t,n){t=t||[];const i=(e=e||[]).map(se),r=t.map(se),s=e.reduce(ae,{}),a=t.reduce(ae,{}),o=i.slice(),l=Object.create(null);let c,u,h,d,p,f,m;for(c=0,u=0;c<i.length;c++)h=i[c],Object.prototype.hasOwnProperty.call(a,h)?u++:(n.push({command:$.removeLayer,args:[h]}),o.splice(o.indexOf(h,u),1));for(c=0,u=0;c<r.length;c++)h=r[r.length-1-c],o[o.length-1-c]!==h&&(Object.prototype.hasOwnProperty.call(s,h)?(n.push({command:$.removeLayer,args:[h]}),o.splice(o.lastIndexOf(h,o.length-u),1)):u++,f=o[o.length-c],n.push({command:$.addLayer,args:[a[h],f]}),o.splice(o.length-c,0,h),l[h]=!0);for(c=0;c<r.length;c++)if(h=r[c],d=s[h],p=a[h],!l[h]&&!J(d,p))if(J(d.source,p.source)&&J(d["source-layer"],p["source-layer"])&&J(d.type,p.type)){for(m in re(d.layout,p.layout,n,h,null,$.setLayoutProperty),re(d.paint,p.paint,n,h,null,$.setPaintProperty),J(d.filter,p.filter)||n.push({command:$.setFilter,args:[h,p.filter]}),J(d.minzoom,p.minzoom)&&J(d.maxzoom,p.maxzoom)||n.push({command:$.setLayerZoomRange,args:[h,p.minzoom,p.maxzoom]}),d)Object.prototype.hasOwnProperty.call(d,m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?re(d[m],p[m],n,h,m.slice(6),$.setPaintProperty):J(d[m],p[m])||n.push({command:$.setLayerProperty,args:[h,m,p[m]]}));for(m in p)Object.prototype.hasOwnProperty.call(p,m)&&!Object.prototype.hasOwnProperty.call(d,m)&&"layout"!==m&&"paint"!==m&&"filter"!==m&&"metadata"!==m&&"minzoom"!==m&&"maxzoom"!==m&&(0===m.indexOf("paint.")?re(d[m],p[m],n,h,m.slice(6),$.setPaintProperty):J(d[m],p[m])||n.push({command:$.setLayerProperty,args:[h,m,p[m]]}))}else n.push({command:$.removeLayer,args:[h]}),f=o[o.lastIndexOf(h)+1],n.push({command:$.addLayer,args:[p,f]})}(s,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:$.setStyle,args:[t]}]}return n},e.aF=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:"layers.".concat(n,': missing required property "id"')}),void 0===e.render&&t.push({message:"layers.".concat(n,': missing required method "render"')}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:"layers.".concat(n,': property "renderingMode" must be either "2d" or "3d"')}),t},e.aG=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(!e(t[i],n[i]))return!1;return!0}return t===n},e.aH=_,e.aI=b,e.aJ=rr,e.aK=function(e){return e({pluginStatus:er,pluginURL:tr}),rr.on("pluginStateChange",e),e},e.aL=class extends Vs{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.aM=Us,e.aN=class extends Vs{constructor(e,t){super(e,t),this.current=Gs}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.aO=qs,e.aP=class extends Vs{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.aQ=class extends Vs{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.aR=Hs,e.aS=function(e,t,n,i,r,s,a){var o=1/(t-n),l=1/(i-r),c=1/(s-a);return e[0]=-2*o,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*o,e[13]=(r+i)*l,e[14]=(a+s)*c,e[15]=1,e},e.aT=Xe,e.aU=Na,e.aV=class extends Ur{},e.aW=Al,e.aX=class extends Hr{},e.aY=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.aZ=qa,e.a_=hs,e.aa=function(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,((e,n,i,r)=>{const s=i||r;return t[n]=!s||s.toLowerCase(),""})),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t},e.ab=function(e,t){const n=[];for(const i in e)i in t||n.push(i);return n},e.ac=function(e){if(null==k){const t=e.navigator?e.navigator.userAgent:null;k=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return k},e.ad=m,e.ae=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[0],a=t[1],o=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=s*r+c*i,e[1]=a*r+u*i,e[2]=o*r+h*i,e[3]=l*r+d*i,e[4]=c*r-s*i,e[5]=u*r-a*i,e[6]=h*r-o*i,e[7]=d*r-l*i,e},e.af=function(e){var t=new ka(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.ag=Ma,e.ah=function(e,t){let n=0,i=0;if("constant"===e.kind)i=e.layoutSize;else if("source"!==e.kind){const{interpolationType:r,minZoom:s,maxZoom:a}=e,o=r?m(Wt.interpolationFactor(r,t,s,a),0,1):0;"camera"===e.kind?i=Gt.number(e.minSize,e.maxSize,o):n=o}return{uSizeT:n,uSize:i}},e.aj=function(e,t,n){let{uSize:i,uSizeT:r}=t,{lowerSize:s,upperSize:a}=n;return"source"===e.kind?s/Ac:"composite"===e.kind?Gt.number(s/Ac,a/Ac,r):i},e.ak=Lc,e.al=function(e,t,n,i){const r=t.y-e.y,a=t.x-e.x,o=i.y-n.y,l=i.x-n.x,c=o*a-l*r;if(0===c)return null;const u=(l*(e.y-n.y)-o*(e.x-n.x))/c;return new s(e.x+u*a,e.y+u*r)},e.am=xu,e.an=ca,e.ao=Ca,e.ap=Ml,e.ar=Mc,e.as=function(e,t){var n=t[0],i=t[1],r=t[2],s=t[3],a=t[4],o=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=n*o-i*a,_=n*l-r*a,b=n*c-s*a,x=i*l-r*o,w=i*c-s*o,S=r*c-s*l,E=u*m-h*f,T=u*g-d*f,I=u*y-p*f,k=h*g-d*m,C=h*y-p*m,A=d*y-p*g,P=v*A-_*C+b*k+x*I-w*T+S*E;return P?(e[0]=(o*A-l*C+c*k)*(P=1/P),e[1]=(r*C-i*A-s*k)*P,e[2]=(m*S-g*w+y*x)*P,e[3]=(d*w-h*S-p*x)*P,e[4]=(l*I-a*A-c*T)*P,e[5]=(n*A-r*I+s*T)*P,e[6]=(g*b-f*S-y*_)*P,e[7]=(u*S-d*b+p*_)*P,e[8]=(a*C-o*I+c*E)*P,e[9]=(i*I-n*C-s*E)*P,e[10]=(f*w-m*b+y*v)*P,e[11]=(h*b-u*w-p*v)*P,e[12]=(o*T-a*k-l*E)*P,e[13]=(n*k-i*T+r*E)*P,e[14]=(m*_-f*x-g*v)*P,e[15]=(u*x-h*_+d*v)*P,e):null},e.at=Ku,e.au=Ec,e.av=$u,e.aw=function(){const e={},t=Z.$version;for(const n in Z.$root){const i=Z.$root[n];if(i.required){let r=null;r="version"===n?t:"array"===i.type?[]:{},null!=r&&(e[n]=r)}}return e},e.ax=$,e.ay=Bi,e.az=j,e.b=function(e,t){const n=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(n).then((e=>{t(null,e)})).catch((e=>{t(new Error("Could not load image because of ".concat(e.message,". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")))}))},e.b0=Ss,e.b1=function(e,t){var n=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=t[0],_=t[1],b=t[2],x=t[3],w=t[4],S=t[5],E=t[6],T=t[7],I=t[8],k=t[9],C=t[10],A=t[11],P=t[12],N=t[13],M=t[14],R=t[15];return Math.abs(n-v)<=Ia*Math.max(1,Math.abs(n),Math.abs(v))&&Math.abs(i-_)<=Ia*Math.max(1,Math.abs(i),Math.abs(_))&&Math.abs(r-b)<=Ia*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(s-x)<=Ia*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(a-w)<=Ia*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(o-S)<=Ia*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(l-E)<=Ia*Math.max(1,Math.abs(l),Math.abs(E))&&Math.abs(c-T)<=Ia*Math.max(1,Math.abs(c),Math.abs(T))&&Math.abs(u-I)<=Ia*Math.max(1,Math.abs(u),Math.abs(I))&&Math.abs(h-k)<=Ia*Math.max(1,Math.abs(h),Math.abs(k))&&Math.abs(d-C)<=Ia*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-A)<=Ia*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(f-P)<=Ia*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(m-N)<=Ia*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-M)<=Ia*Math.max(1,Math.abs(g),Math.abs(M))&&Math.abs(y-R)<=Ia*Math.max(1,Math.abs(y),Math.abs(R))},e.b2=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.b3=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},e.b4=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},e.b5=g,e.b6=hu,e.b7=au,e.b8=function(e,t,n,i,r){var s,a=1/Math.tan(t/2);return e[0]=a/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=a,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=r&&r!==1/0?(e[10]=(r+i)*(s=1/(i-r)),e[14]=2*r*i*s):(e[10]=-1,e[14]=-2*i),e},e.b9=function(e,t,n){var i=Math.sin(n),r=Math.cos(n),s=t[4],a=t[5],o=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=s*r+c*i,e[5]=a*r+u*i,e[6]=o*r+h*i,e[7]=l*r+d*i,e[8]=c*r-s*i,e[9]=u*r-a*i,e[10]=h*r-o*i,e[11]=d*r-l*i,e},e.bA=Rl,e.bB=zn,e.bC=or,e.ba=p,e.bb=f,e.bc=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.bd=class extends Nr{},e.be=eu,e.bf=hh,e.bh=z,e.bi=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(er===Xi||er===Qi||er===Ji)throw new Error("setRTLTextPlugin cannot be called multiple times.");tr=D.resolveURL(e),er=Xi,$i=t,ir(),n||ar()},e.bj=sr,e.bk=function(e,t){const n={};for(let r=0;r<e.length;r++){const i=t&&t[e[r].id]||ei(e[r]);t&&(t[e[r].id]=i);let s=n[i];s||(s=n[i]=[]),s.push(e[r])}const i=[];for(const r in n)i.push(n[r]);return i},e.bl=Li,e.bm=mu,e.bn=yu,e.bo=uc,e.bp=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=na/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;const n=t.bucket.layers[0],i=n.layout,r=n._unevaluatedLayout._values,s={layoutIconSize:r["icon-size"].possiblyEvaluate(new lr(t.bucket.zoom+1),t.canonical),layoutTextSize:r["text-size"].possiblyEvaluate(new lr(t.bucket.zoom+1),t.canonical),textMaxSize:r["text-size"].possiblyEvaluate(new lr(18))};if("composite"===t.bucket.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.textSizeData;s.compositeTextSizes=[r["text-size"].possiblyEvaluate(new lr(e),t.canonical),r["text-size"].possiblyEvaluate(new lr(n),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.iconSizeData;s.compositeIconSizes=[r["icon-size"].possiblyEvaluate(new lr(e),t.canonical),r["icon-size"].possiblyEvaluate(new lr(n),t.canonical)]}const a=i.get("text-line-height")*Ml,o="viewport"!==i.get("text-rotation-alignment")&&"point"!==i.get("symbol-placement"),l=i.get("text-keep-upright"),c=i.get("text-size");for(const u of t.bucket.features){const r=i.get("text-font").evaluate(u,{},t.canonical).join(","),h=c.evaluate(u,{},t.canonical),d=s.layoutTextSize.evaluate(u,{},t.canonical),p=s.layoutIconSize.evaluate(u,{},t.canonical),f={horizontal:{},vertical:void 0},m=u.text;let g,y=[0,0];if(m){const s=m.toString(),c=i.get("text-letter-spacing").evaluate(u,{},t.canonical)*Ml,p=qi(s)?c:0,g=i.get("text-anchor").evaluate(u,{},t.canonical),v=Wu(n,u,t.canonical);if(!v){const e=i.get("text-radial-offset").evaluate(u,{},t.canonical);y=e?Gu(g,[e*Ml,Hu]):i.get("text-offset").evaluate(u,{},t.canonical).map((e=>e*Ml))}let _=o?"center":i.get("text-justify").evaluate(u,{},t.canonical);const b=i.get("symbol-placement"),x="point"===b?i.get("text-max-width").evaluate(u,{},t.canonical)*Ml:0,w=()=>{t.bucket.allowVerticalPlacement&&Ui(s)&&(f.vertical=mc(m,t.glyphMap,t.glyphPositions,t.imagePositions,r,x,a,g,"left",p,y,e.ai.vertical,!0,b,d,h))};if(!o&&v){const n=new Set;if("auto"===_)for(let e=0;e<v.values.length;e+=2)n.add(Ku(v.values[e]));else n.add(_);let i=!1;for(const s of n)if(!f.horizontal[s])if(i)f.horizontal[s]=f.horizontal[0];else{const n=mc(m,t.glyphMap,t.glyphPositions,t.imagePositions,r,x,a,"center",s,p,y,e.ai.horizontal,!1,b,d,h);n&&(f.horizontal[s]=n,i=1===n.positionedLines.length)}w()}else{"auto"===_&&(_=Ku(g));const n=mc(m,t.glyphMap,t.glyphPositions,t.imagePositions,r,x,a,g,_,p,y,e.ai.horizontal,!1,b,d,h);n&&(f.horizontal[_]=n),w(),Ui(s)&&o&&l&&(f.vertical=mc(m,t.glyphMap,t.glyphPositions,t.imagePositions,r,x,a,g,_,p,y,e.ai.vertical,!1,b,d,h))}}let v=!1;if(u.icon&&u.icon.name){const e=t.imageMap[u.icon.name];e&&(g=Ic(t.imagePositions[u.icon.name],i.get("icon-offset").evaluate(u,{},t.canonical),i.get("icon-anchor").evaluate(u,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&S("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==i.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}const _=Xu(f.horizontal)||f.vertical;t.bucket.iconsInText=!!_&&_.iconsInText,(_||g)&&Yu(t.bucket,u,f,g,t.imageMap,s,d,p,y,v,t.canonical)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.bq=yl,e.br=Ro,e.bs=nl,e.bt=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.bu=tc,e.bv=Vo,e.bw=function(e,n,i,r,s){return t(this,void 0,void 0,(function*(){if(d())try{return yield P(e,n,i,r,s)}catch(e){}return function(e,t,n,i,r){const s=e.width,a=e.height;N&&M||(N=new OffscreenCanvas(s,a),M=N.getContext("2d",{willReadFrequently:!0})),N.width=s,N.height=a,M.drawImage(e,0,0,s,a);const o=M.getImageData(t,n,i,r);return M.clearRect(0,0,s,a),o.data}(e,n,i,r,s)}))},e.bx=fu,e.by=n,e.bz=i,e.c=L,e.d=function(e,t){const n=new Image;n.onload=()=>{t(null,n),URL.revokeObjectURL(n.src),n.onload=null,window.requestAnimationFrame((()=>{n.src=A}))},n.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new Blob([new Uint8Array(e)],{type:"image/png"});n.src=e.byteLength?URL.createObjectURL(i):A},e.e=y,e.f=function(e,t){return V(y(e,{type:"json"}),t)},e.g=F,e.h=D,e.i=I,e.j=K,e.k=W,e.l=U,e.m=V,e.n=function(e){return new tc(e).readFields(ic,[])},e.o=function(e,t,n){if(!e.length)return n(null,[]);let i=e.length;const r=new Array(e.length);let s=null;e.forEach(((e,a)=>{t(e,((e,t)=>{e&&(s=e),r[a]=t,0==--i&&n(s,r)}))}))},e.p=oc,e.q=Va,e.r=wr,e.s=q,e.t=Pi,e.u=Vi,e.v=Z,e.w=S,e.x=Ri,e.y=Ai,e.z=function(e){let[t,n,i]=e;return n+=90,n*=Math.PI/180,i*=Math.PI/180,{x:t*Math.cos(n)*Math.sin(i),y:t*Math.sin(n)*Math.sin(i),z:t*Math.cos(i)}}})),i(["./shared"],(function(e){class t{constructor(e){this.keyCache={},e&&this.replace(e)}replace(e){this._layerConfigs={},this._layers={},this.update(e,[])}update(t,n){for(const r of t){this._layerConfigs[r.id]=r;const t=this._layers[r.id]=e.aC(r);t._featureFilter=e.a6(t.filter),this.keyCache[r.id]&&delete this.keyCache[r.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=e.bk(Object.values(this._layerConfigs),this.keyCache);for(const e of i){const t=e.map((e=>this._layers[e.id])),n=t[0];if("none"===n.visibility)continue;const i=n.source||"";let r=this.familiesBySource[i];r||(r=this.familiesBySource[i]={});const s=n.sourceLayer||"_geojsonTileLayer";let a=r[s];a||(a=r[s]=[]),a.push(t)}}}class n{constructor(t){const n={},i=[];for(const e in t){const r=t[e],s=n[e]={};for(const e in r){const t=r[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};i.push(n),s[e]={rect:n,metrics:t.metrics}}}const{w:r,h:s}=e.p(i),a=new e.q({width:r||1,height:s||1});for(const o in t){const i=t[o];for(const t in i){const r=i[+t];if(!r||0===r.bitmap.width||0===r.bitmap.height)continue;const s=n[o][t].rect;e.q.copy(r.bitmap,a,{x:0,y:0},{x:s.x+1,y:s.y+1},r.bitmap)}}this.image=a,this.positions=n}}e.bl("GlyphAtlas",n);class i{constructor(t){this.tileID=new e.O(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[],this.dependencySentinel=-1}parse(t,i,s,a,o){this.status="parsing",this.data=t,this.collisionBoxArray=new e.a3;const l=new e.bm(Object.keys(t.layers).sort()),c=new e.bn(this.tileID,this.promoteId);c.bucketLayerIDs=[];const u={},h={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:s},d=i.familiesBySource[this.source];for(const n in d){const i=t.layers[n];if(!i)continue;1===i.version&&e.w('Vector tile source "'.concat(this.source,'" layer "').concat(n,'" does not use vector tile spec v2 and therefore may have some rendering errors.'));const a=l.encode(n),o=[];for(let e=0;e<i.length;e++){const t=i.feature(e),r=c.getId(t,n);o.push({feature:t,id:r,index:e,sourceLayerIndex:a})}for(const t of d[n]){const n=t[0];n.source!==this.source&&e.w("layer.source = ".concat(n.source," does not equal this.source = ").concat(this.source)),n.minzoom&&this.zoom<Math.floor(n.minzoom)||n.maxzoom&&this.zoom>=n.maxzoom||"none"!==n.visibility&&(r(t,this.zoom,s),(u[n.id]=n.createBucket({index:c.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:a,sourceID:this.source})).populate(o,h,this.tileID.canonical),c.bucketLayerIDs.push(t.map((e=>e.id))))}}let p,f,m,g;const y=e.aH(h.glyphDependencies,(e=>Object.keys(e).map(Number)));this.inFlightDependencies.forEach((e=>null==e?void 0:e.cancel())),this.inFlightDependencies=[];const v=++this.dependencySentinel;Object.keys(y).length?this.inFlightDependencies.push(a.send("getGlyphs",{uid:this.uid,stacks:y,source:this.source,tileID:this.tileID,type:"glyphs"},((e,t)=>{v===this.dependencySentinel&&(p||(p=e,f=t,x.call(this)))}))):f={};const _=Object.keys(h.iconDependencies);_.length?this.inFlightDependencies.push(a.send("getImages",{icons:_,source:this.source,tileID:this.tileID,type:"icons"},((e,t)=>{v===this.dependencySentinel&&(p||(p=e,m=t,x.call(this)))}))):m={};const b=Object.keys(h.patternDependencies);function x(){if(p)return o(p);if(f&&m&&g){const t=new n(f),i=new e.bo(m,g);for(const n in u){const a=u[n];a instanceof e.a4?(r(a.layers,this.zoom,s),e.bp({bucket:a,glyphMap:f,glyphPositions:t.positions,imageMap:m,imagePositions:i.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical})):a.hasPattern&&(a instanceof e.bq||a instanceof e.br||a instanceof e.bs)&&(r(a.layers,this.zoom,s),a.addFeatures(h,this.tileID.canonical,i.patternPositions))}this.status="done",o(null,{buckets:Object.values(u).filter((e=>!e.isEmpty())),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:t.image,imageAtlas:i,glyphMap:this.returnDependencies?f:null,iconMap:this.returnDependencies?m:null,glyphPositions:this.returnDependencies?t.positions:null})}}b.length?this.inFlightDependencies.push(a.send("getImages",{icons:b,source:this.source,tileID:this.tileID,type:"patterns"},((e,t)=>{v===this.dependencySentinel&&(p||(p=e,g=t,x.call(this)))}))):g={},x.call(this)}}function r(t,n,i){const r=new e.a8(n);for(const e of t)e.recalculate(r,i)}function s(t,n){const i=e.l(t.request,((i,r,s,a)=>{if(i)n(i);else if(r)try{const t=new e.bv.VectorTile(new e.bu(r));n(null,{vectorTile:t,rawData:r,cacheControl:s,expires:a})}catch(e){const s=new Uint8Array(r);let a="Unable to parse the tile at ".concat(t.request.url,", ");a+=31===s[0]&&139===s[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":"got error: ".concat(e.messge),n(new Error(a))}}));return()=>{i.cancel(),n()}}class a{constructor(e,t,n,i){this.actor=e,this.layerIndex=t,this.availableImages=n,this.loadVectorData=i||s,this.fetching={},this.loading={},this.loaded={}}loadTile(t,n){const r=t.uid;this.loading||(this.loading={});const s=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bt(t.request),a=this.loading[r]=new i(t);a.abort=this.loadVectorData(t,((t,i)=>{if(delete this.loading[r],t||!i)return a.status="done",this.loaded[r]=a,n(t);const o=i.rawData,l={};i.expires&&(l.expires=i.expires),i.cacheControl&&(l.cacheControl=i.cacheControl);const c={};if(s){const e=s.finish();e&&(c.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=i.vectorTile,a.parse(i.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,i)=>{if(delete this.fetching[r],t||!i)return n(t);n(null,e.e({rawTileData:o.slice(0)},i,l,c))})),this.loaded=this.loaded||{},this.loaded[r]=a,this.fetching[r]={rawTileData:o,cacheControl:l,resourceTiming:c}}))}reloadTile(t,n){const i=this.loaded,r=t.uid;if(i&&i[r]){const s=i[r];s.showCollisionBoxes=t.showCollisionBoxes,"parsing"===s.status?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,((t,i)=>{if(t||!i)return n(t,i);let s;if(this.fetching[r]){const{rawTileData:t,cacheControl:n,resourceTiming:a}=this.fetching[r];delete this.fetching[r],s=e.e({rawTileData:t.slice(0)},i,n,a)}else s=i;n(null,s)})):"done"===s.status&&(s.vectorTile?s.parse(s.vectorTile,this.layerIndex,this.availableImages,this.actor,n):n())}}abortTile(e,t){const n=this.loading,i=e.uid;n&&n[i]&&n[i].abort&&(n[i].abort(),delete n[i]),t()}removeTile(e,t){const n=this.loaded,i=e.uid;n&&n[i]&&delete n[i],t()}}class o{constructor(){this.loaded={}}loadTile(t,n){return e._(this,void 0,void 0,(function*(){const{uid:i,encoding:r,rawImageData:s,redFactor:a,greenFactor:o,blueFactor:l,baseShift:c}=t,u=s.width+2,h=s.height+2,d=e.a(s)?new e.R({width:u,height:h},yield e.bw(s,-1,-1,u,h)):s,p=new e.bx(i,d,r,a,o,l,c);this.loaded=this.loaded||{},this.loaded[i]=p,n(null,p)}))}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}function l(e,t){if(0!==e.length){c(e[0],t);for(var n=1;n<e.length;n++)c(e[n],!t)}}function c(e,t){for(var n=0,i=0,r=0,s=e.length,a=s-1;r<s;a=r++){var o=(e[r][0]-e[a][0])*(e[a][1]+e[r][1]),l=n+o;i+=Math.abs(n)>=Math.abs(o)?n-l+o:o-l+n,n=l}n+i>=0!=!!t&&e.reverse()}var u=e.by((function e(t,n){var i,r=t&&t.type;if("FeatureCollection"===r)for(i=0;i<t.features.length;i++)e(t.features[i],n);else if("GeometryCollection"===r)for(i=0;i<t.geometries.length;i++)e(t.geometries[i],n);else if("Feature"===r)e(t.geometry,n);else if("Polygon"===r)l(t.coordinates,n);else if("MultiPolygon"===r)for(i=0;i<t.coordinates.length;i++)l(t.coordinates[i],n);return t}));const h=e.bv.VectorTileFeature.prototype.toGeoJSON;var d={exports:{}},p=e.bz,f=e.bv.VectorTileFeature,m=g;function g(e,t){this.options=t||{},this.features=e,this.length=e.length}function y(e,t){this.id="number"==typeof e.id?e.id:void 0,this.type=e.type,this.rawGeometry=1===e.type?[e.geometry]:e.geometry,this.properties=e.tags,this.extent=t||4096}g.prototype.feature=function(e){return new y(this.features[e],this.options.extent)},y.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var t=0;t<e.length;t++){for(var n=e[t],i=[],r=0;r<n.length;r++)i.push(new p(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},y.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var e=this.geometry,t=1/0,n=-1/0,i=1/0,r=-1/0,s=0;s<e.length;s++)for(var a=e[s],o=0;o<a.length;o++){var l=a[o];t=Math.min(t,l.x),n=Math.max(n,l.x),i=Math.min(i,l.y),r=Math.max(r,l.y)}return[t,i,n,r]},y.prototype.toGeoJSON=f.prototype.toGeoJSON;var v=e.bA,_=m;function b(e){var t=new v;return function(e,t){for(var n in e.layers)t.writeMessage(3,x,e.layers[n])}(e,t),t.finish()}function x(e,t){var n;t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);var i={keys:[],values:[],keycache:{},valuecache:{}};for(n=0;n<e.length;n++)i.feature=e.feature(n),t.writeMessage(2,w,i);var r=i.keys;for(n=0;n<r.length;n++)t.writeStringField(3,r[n]);var s=i.values;for(n=0;n<s.length;n++)t.writeMessage(4,k,s[n])}function w(e,t){var n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,S,e),t.writeVarintField(3,n.type),t.writeMessage(4,I,n)}function S(e,t){var n=e.feature,i=e.keys,r=e.values,s=e.keycache,a=e.valuecache;for(var o in n.properties){var l=n.properties[o],c=s[o];if(null!==l){void 0===c&&(i.push(o),s[o]=c=i.length-1),t.writeVarint(c);var u=typeof l;"string"!==u&&"boolean"!==u&&"number"!==u&&(l=JSON.stringify(l));var h=u+":"+l,d=a[h];void 0===d&&(r.push(l),a[h]=d=r.length-1),t.writeVarint(d)}}}function E(e,t){return(t<<3)+(7&e)}function T(e){return e<<1^e>>31}function I(e,t){for(var n=e.loadGeometry(),i=e.type,r=0,s=0,a=n.length,o=0;o<a;o++){var l=n[o],c=1;1===i&&(c=l.length),t.writeVarint(E(1,c));for(var u=3===i?l.length-1:l.length,h=0;h<u;h++){1===h&&1!==i&&t.writeVarint(E(2,u-1));var d=l[h].x-r,p=l[h].y-s;t.writeVarint(T(d)),t.writeVarint(T(p)),r+=d,s+=p}3===i&&t.writeVarint(E(7,1))}}function k(e,t){var n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}d.exports=b,d.exports.fromVectorTileJs=b,d.exports.fromGeojsonVt=function(e,t){t=t||{};var n={};for(var i in e)n[i]=new _(e[i].features,t),n[i].name=i,n[i].version=t.version,n[i].extent=t.extent;return b({layers:n})},d.exports.GeoJSONWrapper=_;var C=e.by(d.exports);const A={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},P=Math.fround||(N=new Float32Array(1),e=>(N[0]=+e,N[0]));var N;const M=3,R=5,O=6;class D{constructor(e){this.options=Object.assign(Object.create(A),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:i}=this.options;t&&console.time("total time");const r="prepare ".concat(e.length," points");t&&console.time(r),this.points=e;const s=[];for(let o=0;o<e.length;o++){const t=e[o];if(!t.geometry)continue;const[n,i]=t.geometry.coordinates,r=P(j(n)),a=P(F(i));s.push(r,a,1/0,o,-1,1),this.options.reduce&&s.push(0)}let a=this.trees[i+1]=this._createTree(s);t&&console.timeEnd(r);for(let o=i;o>=n;o--){const e=+Date.now();a=this.trees[o]=this._createTree(this._cluster(a,o)),t&&console.log("z%d: %d clusters in %dms",o,a.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const i=Math.max(-90,Math.min(90,e[1]));let r=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,r=180;else if(n>r){const e=this.getClusters([n,i,180,s],t),a=this.getClusters([-180,i,r,s],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],o=a.range(j(n),F(s),j(r),F(i)),l=a.data,c=[];for(const u of o){const e=this.stride*u;c.push(l[e+R]>1?L(l,e,this.clusterProps):this.points[l[e+M]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),i="No cluster with the specified id.",r=this.trees[n];if(!r)throw new Error(i);const s=r.data;if(t*this.stride>=s.length)throw new Error(i);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),o=r.within(s[t*this.stride],s[t*this.stride+1],a),l=[];for(const c of o){const t=c*this.stride;s[t+4]===e&&l.push(s[t+R]>1?L(s,t,this.clusterProps):this.points[s[t+M]])}if(0===l.length)throw new Error(i);return l}getLeaves(e,t,n){const i=[];return this._appendLeaves(i,e,t=t||10,n=n||0,0),i}getTile(e,t,n){const i=this.trees[this._limitZoom(e)],r=Math.pow(2,e),{extent:s,radius:a}=this.options,o=a/s,l=(n-o)/r,c=(n+1+o)/r,u={features:[]};return this._addTileFeatures(i.range((t-o)/r,l,(t+1+o)/r,c),i.data,t,n,r,u),0===t&&this._addTileFeatures(i.range(1-o/r,l,1,c),i.data,r,n,r,u),t===r-1&&this._addTileFeatures(i.range(0,l,o/r,c),i.data,-1,n,r,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,i,r){const s=this.getChildren(t);for(const a of s){const t=a.properties;if(t&&t.cluster?r+t.point_count<=i?r+=t.point_count:r=this._appendLeaves(e,t.cluster_id,n,i,r):r<i?r++:e.push(a),e.length===n)break}return r}_createTree(t){const n=new e.av(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)n.add(t[e],t[e+1]);return n.finish(),n.data=t,n}_addTileFeatures(e,t,n,i,r,s){for(const a of e){const e=a*this.stride,o=t[e+R]>1;let l,c,u;if(o)l=z(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+M]];l=n.properties;const[i,r]=n.geometry.coordinates;c=j(i),u=F(r)}const h={type:1,geometry:[[Math.round(this.options.extent*(c*r-n)),Math.round(this.options.extent*(u*r-i))]],tags:l};let d;d=o||this.options.generateId?t[e+M]:this.points[t[e+M]].id,void 0!==d&&(h.id=d),s.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:i,reduce:r,minPoints:s}=this.options,a=n/(i*Math.pow(2,t)),o=e.data,l=[],c=this.stride;for(let u=0;u<o.length;u+=c){if(o[u+2]<=t)continue;o[u+2]=t;const n=o[u],i=o[u+1],h=e.within(o[u],o[u+1],a),d=o[u+R];let p=d;for(const e of h){const n=e*c;o[n+2]>t&&(p+=o[n+R])}if(p>d&&p>=s){let e,s=n*d,a=i*d,f=-1;const m=((u/c|0)<<5)+(t+1)+this.points.length;for(const n of h){const i=n*c;if(o[i+2]<=t)continue;o[i+2]=t;const l=o[i+R];s+=o[i]*l,a+=o[i+1]*l,o[i+4]=m,r&&(e||(e=this._map(o,u,!0),f=this.clusterProps.length,this.clusterProps.push(e)),r(e,this._map(o,i)))}o[u+4]=m,l.push(s/p,a/p,1/0,m,-1,p),r&&l.push(f)}else{for(let e=0;e<c;e++)l.push(o[u+e]);if(p>1)for(const e of h){const n=e*c;if(!(o[n+2]<=t)){o[n+2]=t;for(let e=0;e<c;e++)l.push(o[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+R]>1){const i=this.clusterProps[e[t+O]];return n?Object.assign({},i):i}const i=this.points[e[t+M]].properties,r=this.options.map(i);return n&&r===i?Object.assign({},r):r}}function L(e,t,n){return{type:"Feature",id:e[t+M],properties:z(e,t,n),geometry:{type:"Point",coordinates:[(i=e[t],360*(i-.5)),B(e[t+1])]}};var i}function z(e,t,n){const i=e[t+R],r=i>=1e4?"".concat(Math.round(i/1e3),"k"):i>=1e3?Math.round(i/100)/10+"k":i,s=e[t+O],a=-1===s?{}:Object.assign({},n[s]);return Object.assign(a,{cluster:!0,cluster_id:e[t+M],point_count:i,point_count_abbreviated:r})}function j(e){return e/360+.5}function F(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function B(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function V(e,t,n,i){for(var r,s=i,a=n-t>>1,o=n-t,l=e[t],c=e[t+1],u=e[n],h=e[n+1],d=t+3;d<n;d+=3){var p=U(e[d],e[d+1],l,c,u,h);if(p>s)r=d,s=p;else if(p===s){var f=Math.abs(d-a);f<o&&(r=d,o=f)}}s>i&&(r-t>3&&V(e,t,r,i),e[r+2]=s,n-r>3&&V(e,r,n,i))}function U(e,t,n,i,r,s){var a=r-n,o=s-i;if(0!==a||0!==o){var l=((e-n)*a+(t-i)*o)/(a*a+o*o);l>1?(n=r,i=s):l>0&&(n+=a*l,i+=o*l)}return(a=e-n)*a+(o=t-i)*o}function q(e,t,n,i){var r={id:void 0===e?null:e,type:t,geometry:n,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(e){var t=e.geometry,n=e.type;if("Point"===n||"MultiPoint"===n||"LineString"===n)H(e,t);else if("Polygon"===n||"MultiLineString"===n)for(var i=0;i<t.length;i++)H(e,t[i]);else if("MultiPolygon"===n)for(i=0;i<t.length;i++)for(var r=0;r<t[i].length;r++)H(e,t[i][r])}(r),r}function H(e,t){for(var n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function G(e,t,n,i){if(t.geometry){var r=t.geometry.coordinates,s=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2),o=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=i||0),"Point"===s)W(r,o);else if("MultiPoint"===s)for(var c=0;c<r.length;c++)W(r[c],o);else if("LineString"===s)K(r,o,a,!1);else if("MultiLineString"===s){if(n.lineMetrics){for(c=0;c<r.length;c++)K(r[c],o=[],a,!1),e.push(q(l,"LineString",o,t.properties));return}Y(r,o,a,!1)}else if("Polygon"===s)Y(r,o,a,!0);else{if("MultiPolygon"!==s){if("GeometryCollection"===s){for(c=0;c<t.geometry.geometries.length;c++)G(e,{id:l,geometry:t.geometry.geometries[c],properties:t.properties},n,i);return}throw new Error("Input data is not a valid GeoJSON object.")}for(c=0;c<r.length;c++){var u=[];Y(r[c],u,a,!0),o.push(u)}}e.push(q(l,s,o,t.properties))}}function W(e,t){t.push(Z(e[0])),t.push(X(e[1])),t.push(0)}function K(e,t,n,i){for(var r,s,a=0,o=0;o<e.length;o++){var l=Z(e[o][0]),c=X(e[o][1]);t.push(l),t.push(c),t.push(0),o>0&&(a+=i?(r*c-l*s)/2:Math.sqrt(Math.pow(l-r,2)+Math.pow(c-s,2))),r=l,s=c}var u=t.length-3;t[2]=1,V(t,0,u,n),t[u+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function Y(e,t,n,i){for(var r=0;r<e.length;r++){var s=[];K(e[r],s,n,i),t.push(s)}}function Z(e){return e/360+.5}function X(e){var t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function Q(e,t,n,i,r,s,a,o){if(i/=t,s>=(n/=t)&&a<i)return e;if(a<n||s>=i)return null;for(var l=[],c=0;c<e.length;c++){var u=e[c],h=u.geometry,d=u.type,p=0===r?u.minX:u.minY,f=0===r?u.maxX:u.maxY;if(p>=n&&f<i)l.push(u);else if(!(f<n||p>=i)){var m=[];if("Point"===d||"MultiPoint"===d)J(h,m,n,i,r);else if("LineString"===d)$(h,m,n,i,r,!1,o.lineMetrics);else if("MultiLineString"===d)te(h,m,n,i,r,!1);else if("Polygon"===d)te(h,m,n,i,r,!0);else if("MultiPolygon"===d)for(var g=0;g<h.length;g++){var y=[];te(h[g],y,n,i,r,!0),y.length&&m.push(y)}if(m.length){if(o.lineMetrics&&"LineString"===d){for(g=0;g<m.length;g++)l.push(q(u.id,d,m[g],u.tags));continue}"LineString"!==d&&"MultiLineString"!==d||(1===m.length?(d="LineString",m=m[0]):d="MultiLineString"),"Point"!==d&&"MultiPoint"!==d||(d=3===m.length?"Point":"MultiPoint"),l.push(q(u.id,d,m,u.tags))}}}return l.length?l:null}function J(e,t,n,i,r){for(var s=0;s<e.length;s+=3){var a=e[s+r];a>=n&&a<=i&&(t.push(e[s]),t.push(e[s+1]),t.push(e[s+2]))}}function $(e,t,n,i,r,s,a){for(var o,l,c=ee(e),u=0===r?ie:re,h=e.start,d=0;d<e.length-3;d+=3){var p=e[d],f=e[d+1],m=e[d+2],g=e[d+3],y=e[d+4],v=0===r?p:f,_=0===r?g:y,b=!1;a&&(o=Math.sqrt(Math.pow(p-g,2)+Math.pow(f-y,2))),v<n?_>n&&(l=u(c,p,f,g,y,n),a&&(c.start=h+o*l)):v>i?_<i&&(l=u(c,p,f,g,y,i),a&&(c.start=h+o*l)):ne(c,p,f,m),_<n&&v>=n&&(l=u(c,p,f,g,y,n),b=!0),_>i&&v<=i&&(l=u(c,p,f,g,y,i),b=!0),!s&&b&&(a&&(c.end=h+o*l),t.push(c),c=ee(e)),a&&(h+=o)}var x=e.length-3;p=e[x],f=e[x+1],m=e[x+2],(v=0===r?p:f)>=n&&v<=i&&ne(c,p,f,m),x=c.length-3,s&&x>=3&&(c[x]!==c[0]||c[x+1]!==c[1])&&ne(c,c[0],c[1],c[2]),c.length&&t.push(c)}function ee(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function te(e,t,n,i,r,s){for(var a=0;a<e.length;a++)$(e[a],t,n,i,r,s,!1)}function ne(e,t,n,i){e.push(t),e.push(n),e.push(i)}function ie(e,t,n,i,r,s){var a=(s-t)/(i-t);return e.push(s),e.push(n+(r-n)*a),e.push(1),a}function re(e,t,n,i,r,s){var a=(s-n)/(r-n);return e.push(t+(i-t)*a),e.push(s),e.push(1),a}function se(e,t){for(var n=[],i=0;i<e.length;i++){var r,s=e[i],a=s.type;if("Point"===a||"MultiPoint"===a||"LineString"===a)r=ae(s.geometry,t);else if("MultiLineString"===a||"Polygon"===a){r=[];for(var o=0;o<s.geometry.length;o++)r.push(ae(s.geometry[o],t))}else if("MultiPolygon"===a)for(r=[],o=0;o<s.geometry.length;o++){for(var l=[],c=0;c<s.geometry[o].length;c++)l.push(ae(s.geometry[o][c],t));r.push(l)}n.push(q(s.id,a,r,s.tags))}return n}function ae(e,t){var n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(var i=0;i<e.length;i+=3)n.push(e[i]+t,e[i+1],e[i+2]);return n}function oe(e,t){if(e.transformed)return e;var n,i,r,s=1<<e.z,a=e.x,o=e.y;for(n=0;n<e.features.length;n++){var l=e.features[n],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(i=0;i<c.length;i+=2)l.geometry.push(le(c[i],c[i+1],t,s,a,o));else for(i=0;i<c.length;i++){var h=[];for(r=0;r<c[i].length;r+=2)h.push(le(c[i][r],c[i][r+1],t,s,a,o));l.geometry.push(h)}}return e.transformed=!0,e}function le(e,t,n,i,r,s){return[Math.round(n*(e*i-r)),Math.round(n*(t*i-s))]}function ce(e,t,n,i,r){for(var s=t===r.maxZoom?0:r.tolerance/((1<<t)*r.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},o=0;o<e.length;o++){a.numFeatures++,ue(a,e[o],s,r);var l=e[o].minX,c=e[o].minY,u=e[o].maxX,h=e[o].maxY;l<a.minX&&(a.minX=l),c<a.minY&&(a.minY=c),u>a.maxX&&(a.maxX=u),h>a.maxY&&(a.maxY=h)}return a}function ue(e,t,n,i){var r=t.geometry,s=t.type,a=[];if("Point"===s||"MultiPoint"===s)for(var o=0;o<r.length;o+=3)a.push(r[o]),a.push(r[o+1]),e.numPoints++,e.numSimplified++;else if("LineString"===s)he(a,r,e,n,!1,!1);else if("MultiLineString"===s||"Polygon"===s)for(o=0;o<r.length;o++)he(a,r[o],e,n,"Polygon"===s,0===o);else if("MultiPolygon"===s)for(var l=0;l<r.length;l++){var c=r[l];for(o=0;o<c.length;o++)he(a,c[o],e,n,!0,0===o)}if(a.length){var u=t.tags||null;if("LineString"===s&&i.lineMetrics){for(var h in u={},t.tags)u[h]=t.tags[h];u.mapbox_clip_start=r.start/r.size,u.mapbox_clip_end=r.end/r.size}var d={geometry:a,type:"Polygon"===s||"MultiPolygon"===s?3:"LineString"===s||"MultiLineString"===s?2:1,tags:u};null!==t.id&&(d.id=t.id),e.features.push(d)}}function he(e,t,n,i,r,s){var a=i*i;if(i>0&&t.size<(r?a:i))n.numPoints+=t.length/3;else{for(var o=[],l=0;l<t.length;l+=3)(0===i||t[l+2]>a)&&(n.numSimplified++,o.push(t[l]),o.push(t[l+1])),n.numPoints++;r&&function(e,t){for(var n=0,i=0,r=e.length,s=r-2;i<r;s=i,i+=2)n+=(e[i]-e[s])*(e[i+1]+e[s+1]);if(n>0===t)for(i=0,r=e.length;i<r/2;i+=2){var a=e[i],o=e[i+1];e[i]=e[r-2-i],e[i+1]=e[r-1-i],e[r-2-i]=a,e[r-1-i]=o}}(o,s),e.push(o)}}function de(e,t){var n=(t=this.options=function(e,t){for(var n in t)e[n]=t[n];return e}(Object.create(this.options),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=function(e,t){var n=[];if("FeatureCollection"===e.type)for(var i=0;i<e.features.length;i++)G(n,e.features[i],t,i);else G(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=function(e,t){var n=t.buffer/t.extent,i=e,r=Q(e,1,-1-n,n,0,-1,2,t),s=Q(e,1,1-n,2+n,0,-1,2,t);return(r||s)&&(i=Q(e,1,-n,1+n,0,-1,2,t)||[],r&&(i=se(r,1).concat(i)),s&&(i=i.concat(se(s,-1)))),i}(i,t),i.length&&this.splitTile(i,0,0,0),n&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function pe(e,t,n){return 32*((1<<e)*n+t)+e}function fe(e,t){return t?e.properties[t]:e.id}function me(e,t){if(null==e)return!0;if("Feature"===e.type)return null!=fe(e,t);if("FeatureCollection"===e.type){const n=new Set;for(const i of e.features){const e=fe(i,t);if(null==e)return!1;if(n.has(e))return!1;n.add(e)}return!0}return!1}function ge(e,t){const n=new Map;if(null==e);else if("Feature"===e.type)n.set(fe(e,t),e);else for(const i of e.features)n.set(fe(i,t),i);return n}de.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},de.prototype.splitTile=function(e,t,n,i,r,s,a){for(var o=[e,t,n,i],l=this.options,c=l.debug;o.length;){i=o.pop(),n=o.pop(),t=o.pop(),e=o.pop();var u=1<<t,h=pe(t,n,i),d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=ce(e,t,n,i,l),this.tileCoords.push({z:t,x:n,y:i}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,i,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));var p="z"+t;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(d.source=e,r){if(t===l.maxZoom||t===r)continue;var f=1<<r-t;if(n!==Math.floor(s/f)||i!==Math.floor(a/f))continue}else if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue;if(d.source=null,0!==e.length){c>1&&console.time("clipping");var m,g,y,v,_,b,x=.5*l.buffer/l.extent,w=.5-x,S=.5+x,E=1+x;m=g=y=v=null,_=Q(e,u,n-x,n+S,0,d.minX,d.maxX,l),b=Q(e,u,n+w,n+E,0,d.minX,d.maxX,l),e=null,_&&(m=Q(_,u,i-x,i+S,1,d.minY,d.maxY,l),g=Q(_,u,i+w,i+E,1,d.minY,d.maxY,l),_=null),b&&(y=Q(b,u,i-x,i+S,1,d.minY,d.maxY,l),v=Q(b,u,i+w,i+E,1,d.minY,d.maxY,l),b=null),c>1&&console.timeEnd("clipping"),o.push(m||[],t+1,2*n,2*i),o.push(g||[],t+1,2*n,2*i+1),o.push(y||[],t+1,2*n+1,2*i),o.push(v||[],t+1,2*n+1,2*i+1)}}},de.prototype.getTile=function(e,t,n){var i=this.options,r=i.extent,s=i.debug;if(e<0||e>24)return null;var a=1<<e,o=pe(e,t=(t%a+a)%a,n);if(this.tiles[o])return oe(this.tiles[o],r);s>1&&console.log("drilling down to z%d-%d-%d",e,t,n);for(var l,c=e,u=t,h=n;!l&&c>0;)c--,u=Math.floor(u/2),h=Math.floor(h/2),l=this.tiles[pe(c,u,h)];return l&&l.source?(s>1&&console.log("found parent tile z%d-%d-%d",c,u,h),s>1&&console.time("drilling down"),this.splitTile(l.source,c,u,h,e,t,n),s>1&&console.timeEnd("drilling down"),this.tiles[o]?oe(this.tiles[o],r):null):null};class ye extends a{constructor(t,n,i,r){super(t,n,i),this._dataUpdateable=new Map,this.loadGeoJSON=(t,n)=>{const{promoteId:i}=t;if(t.request)return e.f(t.request,((e,t,r,s)=>{this._dataUpdateable=me(t,i)?ge(t,i):void 0,n(e,t,r,s)}));if("string"==typeof t.data)try{const e=JSON.parse(t.data);this._dataUpdateable=me(e,i)?ge(e,i):void 0,n(null,e)}catch(e){n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")))}else t.dataDiff?this._dataUpdateable?(function(e,t,n){var i,r,s,a;if(t.removeAll&&e.clear(),t.remove)for(const o of t.remove)e.delete(o);if(t.add)for(const o of t.add){const t=fe(o,n);null!=t&&e.set(t,o)}if(t.update)for(const o of t.update){let t=e.get(o.id);if(null==t)continue;const n=!o.removeAllProperties&&((null===(i=o.removeProperties)||void 0===i?void 0:i.length)>0||(null===(r=o.addOrUpdateProperties)||void 0===r?void 0:r.length)>0);if((o.newGeometry||o.removeAllProperties||n)&&(t=Object.assign({},t),e.set(o.id,t),n&&(t.properties=Object.assign({},t.properties))),o.newGeometry&&(t.geometry=o.newGeometry),o.removeAllProperties)t.properties={};else if((null===(s=o.removeProperties)||void 0===s?void 0:s.length)>0)for(const e of o.removeProperties)Object.prototype.hasOwnProperty.call(t.properties,e)&&delete t.properties[e];if((null===(a=o.addOrUpdateProperties)||void 0===a?void 0:a.length)>0)for(const{key:e,value:i}of o.addOrUpdateProperties)t.properties[e]=i}}(this._dataUpdateable,t.dataDiff,i),n(null,{type:"FeatureCollection",features:Array.from(this._dataUpdateable.values())})):n(new Error("Cannot update existing geojson data in ".concat(t.source))):n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));return{cancel:()=>{}}},this.loadVectorData=this.loadGeoJSONTile,r&&(this.loadGeoJSON=r)}loadGeoJSONTile(t,n){const i=t.tileID.canonical;if(!this._geoJSONIndex)return n(null,null);const r=this._geoJSONIndex.getTile(i.z,i.x,i.y);if(!r)return n(null,null);const s=new class{constructor(t){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=e.N,this.length=t.length,this._features=t}feature(t){return new class{constructor(t){this._feature=t,this.extent=e.N,this.type=t.type,this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10))}loadGeometry(){if(1===this._feature.type){const t=[];for(const n of this._feature.geometry)t.push([new e.P(n[0],n[1])]);return t}{const t=[];for(const n of this._feature.geometry){const i=[];for(const t of n)i.push(new e.P(t[0],t[1]));t.push(i)}return t}}toGeoJSON(e,t,n){return h.call(this,e,t,n)}}(this._features[t])}}(r.features);let a=C(s);0===a.byteOffset&&a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),n(null,{vectorTile:s,rawData:a.buffer})}loadData(t,n){var i;null===(i=this._pendingRequest)||void 0===i||i.cancel(),this._pendingCallback&&this._pendingCallback(null,{abandoned:!0});const r=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.bt(t.request);this._pendingCallback=n,this._pendingRequest=this.loadGeoJSON(t,((i,s)=>{if(delete this._pendingCallback,delete this._pendingRequest,i||!s)return n(i);if("object"!=typeof s)return n(new Error("Input data given to '".concat(t.source,"' is not a valid GeoJSON object.")));{u(s,!0);try{if(t.filter){const n=e.bB(t.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===n.result)throw new Error(n.value.map((e=>"".concat(e.key,": ").concat(e.message))).join(", "));const i=s.features.filter((e=>n.value.evaluate({zoom:0},e)));s={type:"FeatureCollection",features:i}}this._geoJSONIndex=t.cluster?new D(function(t){let{superclusterOptions:n,clusterProperties:i}=t;if(!i||!n)return n;const r={},s={},a={accumulated:null,zoom:0},o={properties:null},l=Object.keys(i);for(const c of l){const[t,n]=i[c],a=e.bB(n),o=e.bB("string"==typeof t?[t,["accumulated"],["get",c]]:t);r[c]=a.value,s[c]=o.value}return n.map=e=>{o.properties=e;const t={};for(const n of l)t[n]=r[n].evaluate(a,o);return t},n.reduce=(e,t)=>{o.properties=t;for(const n of l)a.accumulated=e[n],e[n]=s[n].evaluate(a,o)},n}(t)).load(s.features):function(e,t){return new de(e,t)}(s,t.geojsonVtOptions)}catch(i){return n(i)}this.loaded={};const a={};if(r){const e=r.finish();e&&(a.resourceTiming={},a.resourceTiming[t.source]=JSON.parse(JSON.stringify(e)))}n(null,a)}}))}reloadTile(e,t){const n=this.loaded;return n&&n[e.uid]?super.reloadTile(e,t):this.loadTile(e,t)}removeSource(e,t){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),t()}getClusterExpansionZoom(e,t){try{t(null,this._geoJSONIndex.getClusterExpansionZoom(e.clusterId))}catch(e){t(e)}}getClusterChildren(e,t){try{t(null,this._geoJSONIndex.getChildren(e.clusterId))}catch(e){t(e)}}getClusterLeaves(e,t){try{t(null,this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset))}catch(e){t(e)}}}class ve{constructor(t){this.self=t,this.actor=new e.C(t,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:a,geojson:ye},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(e,t)=>{if(this.workerSourceTypes[e])throw new Error('Worker source with name "'.concat(e,'" already registered.'));this.workerSourceTypes[e]=t},this.self.registerRTLTextPlugin=t=>{if(e.bC.isParsed())throw new Error("RTL text plugin already registered.");e.bC.applyArabicShaping=t.applyArabicShaping,e.bC.processBidirectionalText=t.processBidirectionalText,e.bC.processStyledBidirectionalText=t.processStyledBidirectionalText}}setReferrer(e,t){this.referrer=t}setImages(e,t,n){this.availableImages[e]=t;for(const i in this.workerSources[e]){const n=this.workerSources[e][i];for(const e in n)n[e].availableImages=t}n()}setLayers(e,t,n){this.getLayerIndex(e).replace(t),n()}updateLayers(e,t,n){this.getLayerIndex(e).update(t.layers,t.removedIds),n()}loadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).loadTile(t,n)}loadDEMTile(e,t,n){this.getDEMWorkerSource(e,t.source).loadTile(t,n)}reloadTile(e,t,n){this.getWorkerSource(e,t.type,t.source).reloadTile(t,n)}abortTile(e,t,n){this.getWorkerSource(e,t.type,t.source).abortTile(t,n)}removeTile(e,t,n){this.getWorkerSource(e,t.type,t.source).removeTile(t,n)}removeDEMTile(e,t){this.getDEMWorkerSource(e,t.source).removeTile(t)}removeSource(e,t,n){if(!this.workerSources[e]||!this.workerSources[e][t.type]||!this.workerSources[e][t.type][t.source])return;const i=this.workerSources[e][t.type][t.source];delete this.workerSources[e][t.type][t.source],void 0!==i.removeSource?i.removeSource(t,n):n()}loadWorkerSource(e,t,n){try{this.self.importScripts(t.url),n()}catch(e){n(e.toString())}}syncRTLPluginState(t,n,i){try{e.bC.setState(n);const t=e.bC.getPluginURL();if(e.bC.isLoaded()&&!e.bC.isParsed()&&null!=t){this.self.importScripts(t);const n=e.bC.isParsed();i(n?void 0:new Error("RTL Text Plugin failed to import scripts from ".concat(t)),n)}}catch(e){i(e.toString())}}getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}getLayerIndex(e){let n=this.layerIndexes[e];return n||(n=this.layerIndexes[e]=new t),n}getWorkerSource(e,t,n){return this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),this.workerSources[e][t][n]||(this.workerSources[e][t][n]=new this.workerSourceTypes[t]({send:(t,n,i)=>{this.actor.send(t,n,i,e)}},this.getLayerIndex(e),this.getAvailableImages(e))),this.workerSources[e][t][n]}getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new o),this.demWorkerSources[e][t]}}return e.i()&&(self.worker=new ve(self)),ve})),i(["./shared"],(function(e){var t="3.5.2";class n{static testProp(e){if(!n.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in n.docStyle)return e[t];return e[0]}static create(e,t,n){const i=window.document.createElement(e);return void 0!==t&&(i.className=t),n&&n.appendChild(i),i}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){n.docStyle&&n.selectProp&&(n.userSelect=n.docStyle[n.selectProp],n.docStyle[n.selectProp]="none")}static enableDrag(){n.docStyle&&n.selectProp&&(n.docStyle[n.selectProp]=n.userSelect)}static setTransform(e,t){e.style[n.transformProp]=t}static addEventListener(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.addEventListener(t,n,"passive"in i?i:i.capture)}static removeEventListener(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.removeEventListener(t,n,"passive"in i?i:i.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",n.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",n.suppressClickInternal,!0),window.setTimeout((()=>{window.removeEventListener("click",n.suppressClickInternal,!0)}),0)}static mousePos(t,n){const i=t.getBoundingClientRect();return new e.P(n.clientX-i.left-t.clientLeft,n.clientY-i.top-t.clientTop)}static touchPos(t,n){const i=t.getBoundingClientRect(),r=[];for(let s=0;s<n.length;s++)r.push(new e.P(n[s].clientX-i.left-t.clientLeft,n[s].clientY-i.top-t.clientTop));return r}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}}n.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,n.selectProp=n.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),n.transformProp=n.testProp(["transform","WebkitTransform"]);const i={supported:!1,testSupport:function(e){!a&&s&&(o?l(e):r=e)}};let r,s,a=!1,o=!1;function l(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,s),e.isContextLost())return;i.supported=!0}catch(e){}e.deleteTexture(t),a=!0}var c,u;"undefined"!=typeof document&&(s=document.createElement("img"),s.onload=function(){r&&l(r),r=null,o=!0},s.onerror=function(){a=!0,r=null},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(t){let n,r,s,a;t.resetRequestQueue=()=>{n=[],r=0,s=0,a={}},t.addThrottleControl=e=>{const t=s++;return a[t]=e,t},t.removeThrottleControl=e=>{delete a[e],c()},t.getImage=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*");const a={requestParameters:e,supportImageRefresh:s,callback:t,cancelled:!1,completed:!1,cancel:()=>{a.completed||a.cancelled||(a.cancelled=!0,a.innerRequest&&(a.innerRequest.cancel(),r--),c())}};return n.push(a),c(),a};const o=t=>{const{requestParameters:n,supportImageRefresh:i,callback:r}=t;return e.e(n,{type:"image"}),(!1!==i||e.i()||e.g(n.url)||n.headers&&!Object.keys(n.headers).reduce(((e,t)=>e&&"accept"===t),!0)?e.m:u)(n,((e,n,i,s)=>{l(t,r,e,n,i,s)}))},l=(t,n,i,s,a,o)=>{i?n(i):s instanceof HTMLImageElement||e.a(s)?n(null,s):s&&((t,n)=>{"function"==typeof createImageBitmap?e.b(t,n):e.d(t,n)})(s,((e,t)=>{null!=e?n(e):null!=t&&n(null,t,{cacheControl:a,expires:o})})),t.cancelled||(t.completed=!0,r--,c())},c=()=>{const t=(()=>{const e=Object.keys(a);let t=!1;if(e.length>0)for(const n of e)if(t=a[n](),t)break;return t})()?e.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:e.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let e=r;e<t&&n.length>0;e++){const t=n.shift();if(t.cancelled){e--;continue}const i=o(t);r++,t.innerRequest=i}},u=(t,n)=>{const i=new Image,r=t.url;let s=!1;const a=t.credentials;return a&&"include"===a?i.crossOrigin="use-credentials":(a&&"same-origin"===a||!e.s(r))&&(i.crossOrigin="anonymous"),i.fetchPriority="high",i.onload=()=>{n(null,i),i.onerror=i.onload=null},i.onerror=()=>{s||n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.")),i.onerror=i.onload=null},i.src=r,{cancel:()=>{s=!0,i.src=""}}}}(c||(c={})),c.resetRequestQueue(),function(e){e.Glyphs="Glyphs",e.Image="Image",e.Source="Source",e.SpriteImage="SpriteImage",e.SpriteJSON="SpriteJSON",e.Style="Style",e.Tile="Tile",e.Unknown="Unknown"}(u||(u={}));class h{constructor(e){this._transformRequestFn=e}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}normalizeSpriteURL(e,t,n){const i=function(e){const t=e.match(d);if(!t)throw new Error('Unable to parse URL "'.concat(e,'"'));return{protocol:t[1],authority:t[2],path:t[3]||"/",params:t[4]?t[4].split("&"):[]}}(e);return i.path+="".concat(t).concat(n),function(e){const t=e.params.length?"?".concat(e.params.join("&")):"";return"".concat(e.protocol,"://").concat(e.authority).concat(e.path).concat(t)}(i)}setTransformRequest(e){this._transformRequestFn=e}}const d=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function p(t){var n=new e.A(3);return n[0]=t[0],n[1]=t[1],n[2]=t[2],n}var f,m=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};f=new e.A(3),e.A!=Float32Array&&(f[0]=0,f[1]=0,f[2]=0);var g=function(e){var t=e[0],n=e[1];return t*t+n*n};function y(e){const t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){const n=[];for(const{id:i,url:r}of e){const e="".concat(i).concat(r);-1===n.indexOf(e)&&(n.push(e),t.push({id:i,url:r}))}}return t}function v(t,n,i,r,s){if(r)return void t(r);if(s!==Object.values(n).length||s!==Object.values(i).length)return;const a={};for(const o in n){a[o]={};const t=e.h.getImageCanvasContext(i[o]),r=n[o];for(const e in r){const{width:n,height:i,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p}=r[e];a[o][e]={data:null,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p,spriteData:{width:n,height:i,x:s,y:l,context:t}}}}t(null,a)}!function(){var t=new e.A(2);e.A!=Float32Array&&(t[0]=0,t[1]=0)}();class _{constructor(e,t,n,i){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,i)}update(t,n,i){const{width:r,height:s}=t,a=!(this.size&&this.size[0]===r&&this.size[1]===s||i),{context:o}=this,{gl:l}=o;if(this.useMipmap=Boolean(n&&n.useMipmap),l.bindTexture(l.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===l.RGBA&&(!n||!1!==n.premultiply)),a)this.size=[r,s],t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.a(t)?l.texImage2D(l.TEXTURE_2D,0,this.format,this.format,l.UNSIGNED_BYTE,t):l.texImage2D(l.TEXTURE_2D,0,this.format,r,s,0,this.format,l.UNSIGNED_BYTE,t.data);else{const{x:n,y:a}=i||{x:0,y:0};t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement||t instanceof ImageData||e.a(t)?l.texSubImage2D(l.TEXTURE_2D,0,n,a,l.RGBA,l.UNSIGNED_BYTE,t):l.texSubImage2D(l.TEXTURE_2D,0,n,a,r,s,l.RGBA,l.UNSIGNED_BYTE,t.data)}this.useMipmap&&this.isSizePowerOfTwo()&&l.generateMipmap(l.TEXTURE_2D)}bind(e,t,n){const{context:i}=this,{gl:r}=i;r.bindTexture(r.TEXTURE_2D,this.texture),n!==r.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=r.LINEAR),e!==this.filter&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,e),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,t),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}function b(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class x extends e.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new e.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,callback:t}of this.requestors)this._notify(e,t);this.requestors=[]}}getImage(t){const n=this.images[t];if(n&&!n.data&&n.spriteData){const t=n.spriteData;n.data=new e.R({width:t.width,height:t.height},t.context.getImageData(t.x,t.y,t.width,t.height).data),n.spriteData=null}return n}addImage(e,t){if(this.images[e])throw new Error("Image id ".concat(e," already exist, use updateImage instead"));this._validate(e,t)&&(this.images[e]=t)}_validate(t,n){let i=!0;const r=n.data||n.spriteData;return this._validateStretch(n.stretchX,r&&r.width)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "stretchX" value')))),i=!1),this._validateStretch(n.stretchY,r&&r.height)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "stretchY" value')))),i=!1),this._validateContent(n.content,n)||(this.fire(new e.j(new Error('Image "'.concat(t,'" has invalid "content" value')))),i=!1),i}_validateStretch(e,t){if(!e)return!0;let n=0;for(const i of e){if(i[0]<n||i[1]<i[0]||t<i[1])return!1;n=i[1]}return!0}_validateContent(e,t){if(!e)return!0;if(4!==e.length)return!1;const n=t.spriteData,i=n&&n.width||t.data.width,r=n&&n.height||t.data.height;return!(e[0]<0||i<e[0]||e[1]<0||r<e[1]||e[2]<0||i<e[2]||e[3]<0||r<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this.getImage(e);if(n&&(i.data.width!==t.data.width||i.data.height!==t.data.height))throw new Error("size mismatch between old image (".concat(i.data.width,"x").concat(i.data.height,") and new image (").concat(t.data.width,"x").concat(t.data.height,")."));t.version=i.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e,t){let n=!0;if(!this.isLoaded())for(const i of e)this.images[i]||(n=!1);this.isLoaded()||n?this._notify(e,t):this.requestors.push({ids:e,callback:t})}_notify(t,n){const i={};for(const r of t){let t=this.getImage(r);t||(this.fire(new e.k("styleimagemissing",{id:r})),t=this.getImage(r)),t?i[r]={data:t.data.clone(),pixelRatio:t.pixelRatio,sdf:t.sdf,version:t.version,stretchX:t.stretchX,stretchY:t.stretchY,content:t.content,hasRenderCallback:Boolean(t.userImage&&t.userImage.render)}:e.w('Image "'.concat(r,'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.'))}n(null,i)}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(t){const n=this.patterns[t],i=this.getImage(t);if(!i)return null;if(n&&n.position.version===i.version)return n.position;if(n)n.position.version=i.version;else{const n={w:i.data.width+2,h:i.data.height+2,x:0,y:0},r=new e.I(n,i);this.patterns[t]={bin:n,position:r}}return this._updatePatternAtlas(),this.patterns[t].position}bind(e){const t=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new _(e,this.atlasImage,t.RGBA),this.atlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE)}_updatePatternAtlas(){const t=[];for(const e in this.patterns)t.push(this.patterns[e].bin);const{w:n,h:i}=e.p(t),r=this.atlasImage;r.resize({width:n||1,height:i||1});for(const s in this.patterns){const{bin:t}=this.patterns[s],n=t.x+1,i=t.y+1,a=this.getImage(s).data,o=a.width,l=a.height;e.R.copy(a,r,{x:0,y:0},{x:n,y:i},{width:o,height:l}),e.R.copy(a,r,{x:0,y:l-1},{x:n,y:i-1},{width:o,height:1}),e.R.copy(a,r,{x:0,y:0},{x:n,y:i+l},{width:o,height:1}),e.R.copy(a,r,{x:o-1,y:0},{x:n-1,y:i},{width:1,height:l}),e.R.copy(a,r,{x:0,y:0},{x:n+o,y:i},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(t){for(const n of t){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const t=this.getImage(n);t||e.w('Image with ID: "'.concat(n,'" was not found')),b(t)&&this.updateImage(n,t)}}}const w=1e20;function S(e,t,n,i,r,s,a,o,l){for(let c=t;c<t+i;c++)E(e,n*s+c,s,r,a,o,l);for(let c=n;c<n+r;c++)E(e,c*s+t,1,i,a,o,l)}function E(e,t,n,i,r,s,a){s[0]=0,a[0]=-w,a[1]=w,r[0]=e[t];for(let o=1,l=0,c=0;o<i;o++){r[o]=e[t+o*n];const i=o*o;do{const e=s[l];c=(r[o]-r[e]+i-e*e)/(o-e)/2}while(c<=a[l]&&--l>-1);l++,s[l]=o,a[l]=c,a[l+1]=w}for(let o=0,l=0;o<i;o++){for(;a[l+1]<o;)l++;const i=s[l],c=o-i;e[t+o*n]=r[i]+c*c}}class T{constructor(e,t){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={}}setURL(e){this.url=e}getGlyphs(t,n){const i=[];for(const e in t)for(const n of t[e])i.push({stack:e,id:n});e.o(i,((e,t)=>{let{stack:n,id:i}=e,r=this.entries[n];r||(r=this.entries[n]={glyphs:{},requests:{},ranges:{}});let s=r.glyphs[i];if(void 0!==s)return void t(null,{stack:n,id:i,glyph:s});if(s=this._tinySDF(r,n,i),s)return r.glyphs[i]=s,void t(null,{stack:n,id:i,glyph:s});const a=Math.floor(i/256);if(256*a>65535)return void t(new Error("glyphs > 65535 not supported"));if(r.ranges[a])return void t(null,{stack:n,id:i,glyph:s});if(!this.url)return void t(new Error("glyphsUrl is not set"));let o=r.requests[a];o||(o=r.requests[a]=[],T.loadGlyphRange(n,a,this.url,this.requestManager,((e,t)=>{if(t){for(const e in t)this._doesCharSupportLocalGlyph(+e)||(r.glyphs[+e]=t[+e]);r.ranges[a]=!0}for(const n of o)n(e,t);delete r.requests[a]}))),o.push(((e,r)=>{e?t(e):r&&t(null,{stack:n,id:i,glyph:r[i]||null})}))}),((e,t)=>{if(e)n(e);else if(t){const e={};for(const{stack:n,id:i,glyph:r}of t)(e[n]||(e[n]={}))[i]=r&&{id:r.id,bitmap:r.bitmap.clone(),metrics:r.metrics};n(null,e)}}))}_doesCharSupportLocalGlyph(t){return!!this.localIdeographFontFamily&&(e.u["CJK Unified Ideographs"](t)||e.u["Hangul Syllables"](t)||e.u.Hiragana(t)||e.u.Katakana(t))}_tinySDF(t,n,i){const r=this.localIdeographFontFamily;if(!r)return;if(!this._doesCharSupportLocalGlyph(i))return;let s=t.tinySDF;if(!s){let e="400";/bold/i.test(n)?e="900":/medium/i.test(n)?e="500":/light/i.test(n)&&(e="200"),s=t.tinySDF=new T.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:r,fontWeight:e})}const a=s.draw(String.fromCharCode(i));return{id:i,bitmap:new e.q({width:a.width||60,height:a.height||60},a.data),metrics:{width:a.glyphWidth/2||24,height:a.glyphHeight/2||24,left:a.glyphLeft/2+.5||0,top:a.glyphTop/2-27.5||-8,advance:a.glyphAdvance/2||24,isDoubleResolution:!0}}}}T.loadGlyphRange=function(t,n,i,r,s){const a=256*n,o=a+255,l=r.transformRequest(i.replace("{fontstack}",t).replace("{range}","".concat(a,"-").concat(o)),u.Glyphs);e.l(l,((t,n)=>{if(t)s(t);else if(n){const t={};for(const i of e.n(n))t[i.id]=i;s(null,t)}}))},T.TinySDF=class{constructor(){let{fontSize:e=24,buffer:t=3,radius:n=8,cutoff:i=.25,fontFamily:r="sans-serif",fontWeight:s="normal",fontStyle:a="normal"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.buffer=t,this.cutoff=i,this.radius=n;const o=this.size=e+4*t,l=this._createCanvas(o),c=this.ctx=l.getContext("2d",{willReadFrequently:!0});c.font="".concat(a," ").concat(s," ").concat(e,"px ").concat(r),c.textBaseline="alphabetic",c.textAlign="left",c.fillStyle="black",this.gridOuter=new Float64Array(o*o),this.gridInner=new Float64Array(o*o),this.f=new Float64Array(o),this.z=new Float64Array(o+1),this.v=new Uint16Array(o)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:i,actualBoundingBoxLeft:r,actualBoundingBoxRight:s}=this.ctx.measureText(e),a=Math.ceil(n),o=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(s-r))),l=Math.min(this.size-this.buffer,a+Math.ceil(i)),c=o+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:o,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===o||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;f.clearRect(m,m,o,l),f.fillText(e,m,m+a);const v=f.getImageData(m,m,o,l);y.fill(w,0,h),g.fill(0,0,h);for(let _=0;_<l;_++)for(let e=0;e<o;e++){const t=v.data[4*(_*o+e)+3]/255;if(0===t)continue;const n=(_+m)*c+e+m;if(1===t)y[n]=0,g[n]=w;else{const e=.5-t;y[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}S(y,0,0,c,u,c,this.f,this.v,this.z),S(g,m,m,o,l,c,this.f,this.v,this.z);for(let _=0;_<h;_++){const e=Math.sqrt(y[_])-Math.sqrt(g[_]);d[_]=Math.round(255-255*(e/this.radius+this.cutoff))}return p}};class I{constructor(){this.specification=e.v.light.position}possiblyEvaluate(t,n){return e.z(t.expression.evaluate(n))}interpolate(t,n,i){return{x:e.B.number(t.x,n.x,i),y:e.B.number(t.y,n.y,i),z:e.B.number(t.z,n.z,i)}}}let k;class C extends e.E{constructor(t){super(),k=k||new e.r({anchor:new e.D(e.v.light.anchor),position:new I,color:new e.D(e.v.light.color),intensity:new e.D(e.v.light.intensity)}),this._transitionable=new e.T(k),this.setLight(t),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this._validate(e.t,t,n))for(const e in t){const n=t[e];e.endsWith("-transition")?this._transitionable.setTransition(e.slice(0,-11),n):this._transitionable.setValue(e,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(t,n,i){return(!i||!1!==i.validate)&&e.x(this,t.call(e.y,e.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:e.v})))}}class A{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const i=[];let r=e.length%2==1?-e[e.length-1]*n:0,s=e[0]*n,a=!0;i.push({left:r,right:s,isDash:a,zeroLength:0===e[0]});let o=e[0];for(let l=1;l<e.length;l++){a=!a;const t=e[l];r=o*n,o+=t,s=o*n,i.push({left:r,right:s,isDash:a,zeroLength:0===t})}return i}addRoundDash(e,t,n){const i=t/2;for(let r=-n;r<=n;r++){const t=this.width*(this.nextRow+n+r);let s=0,a=e[s];for(let o=0;o<this.width;o++){o/a.right>1&&(a=e[++s]);const l=Math.abs(o-a.left),c=Math.abs(o-a.right),u=Math.min(l,c);let h;const d=r/n*(i+1);if(a.isDash){const e=i-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=i-Math.sqrt(u*u+d*d);this.data[t+o]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e){for(let a=e.length-1;a>=0;--a){const t=e[a],n=e[a+1];t.zeroLength?e.splice(a,1):n&&n.isDash===t.isDash&&(n.left=t.left,e.splice(a,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const i=this.width*this.nextRow;let r=0,s=e[r];for(let a=0;a<this.width;a++){a/s.right>1&&(s=e[++r]);const t=Math.abs(a-s.left),n=Math.abs(a-s.right),o=Math.min(t,n);this.data[i+a]=Math.max(0,Math.min(255,(s.isDash?o:-o)+128))}}addDash(t,n){const i=n?7:0,r=2*i+1;if(this.nextRow+r>this.height)return e.w("LineAtlas out of space"),null;let s=0;for(let e=0;e<t.length;e++)s+=t[e];if(0!==s){const e=this.width/s,r=this.getDashRanges(t,this.width,e);n?this.addRoundDash(r,e,i):this.addRegularDash(r)}const a={y:(this.nextRow+i+.5)/this.height,height:2*i/this.height,width:s};return this.nextRow+=r,this.dirty=!0,a}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}class P{constructor(t,n,i){this.workerPool=t,this.actors=[],this.currentActor=0,this.id=i;const r=this.workerPool.acquire(i);for(let s=0;s<r.length;s++){const t=new e.C(r[s],n,i);t.name="Worker ".concat(s),this.actors.push(t)}if(!this.actors.length)throw new Error("No actors found")}broadcast(t,n,i){e.o(this.actors,((e,i)=>{e.send(t,n,i)}),i=i||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.actors.forEach((e=>{e.remove()})),this.actors=[],e&&this.workerPool.release(this.id)}}function N(t,n,i){const r=function(n,r){if(n)return i(n);if(r){const n=e.F(e.e(r,t),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);r.vector_layers&&(n.vectorLayers=r.vector_layers,n.vectorLayerIds=n.vectorLayers.map((e=>e.id))),i(null,n)}};return t.url?e.f(n.transformRequest(t.url,u.Source),r):e.h.frame((()=>r(null,t)))}class M{constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(t){return this._ne=t instanceof e.L?new e.L(t.lng,t.lat):e.L.convert(t),this}setSouthWest(t){return this._sw=t instanceof e.L?new e.L(t.lng,t.lat):e.L.convert(t),this}extend(t){const n=this._sw,i=this._ne;let r,s;if(t instanceof e.L)r=t,s=t;else{if(!(t instanceof M))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(M.convert(t)):this.extend(e.L.convert(t)):t&&("lng"in t||"lon"in t)&&"lat"in t?this.extend(e.L.convert(t)):this;if(r=t._sw,s=t._ne,!r||!s)return this}return n||i?(n.lng=Math.min(r.lng,n.lng),n.lat=Math.min(r.lat,n.lat),i.lng=Math.max(s.lng,i.lng),i.lat=Math.max(s.lat,i.lat)):(this._sw=new e.L(r.lng,r.lat),this._ne=new e.L(s.lng,s.lat)),this}getCenter(){return new e.L((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new e.L(this.getWest(),this.getNorth())}getSouthEast(){return new e.L(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return"LngLatBounds(".concat(this._sw.toString(),", ").concat(this._ne.toString(),")")}isEmpty(){return!(this._sw&&this._ne)}contains(t){const{lng:n,lat:i}=e.L.convert(t);let r=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(r=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=i&&i<=this._ne.lat&&r}static convert(e){return e instanceof M?e:e?new M(e):e}static fromLngLat(t){const n=360*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)/40075017,i=n/Math.cos(Math.PI/180*t.lat);return new M(new e.L(t.lng-i,t.lat-n),new e.L(t.lng+i,t.lat+n))}}class R{constructor(e,t,n){this.bounds=M.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(t){const n=Math.pow(2,t.z),i=Math.floor(e.G(this.bounds.getWest())*n),r=Math.floor(e.H(this.bounds.getNorth())*n),s=Math.ceil(e.G(this.bounds.getEast())*n),a=Math.ceil(e.H(this.bounds.getSouth())*n);return t.x>=i&&t.x<s&&t.y>=r&&t.y<a}}class O extends e.E{constructor(t,n,i,r){if(super(),this.load=()=>{this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,this.map.style.sourceCaches[this.id].clearTiles(),t?this.fire(new e.j(t)):n&&(e.e(this,n),n.bounds&&(this.tileBounds=new R(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}))},this.serialize=()=>e.e({},this._options),this.id=t,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,e.e(this,e.F(n,["url","scheme","tileSize","promoteId"])),this._options=e.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(r)}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}setUrl(e){return this.setSourceProperty((()=>{this.url=e,this._options.url=e})),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}loadTile(e,t){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),i={request:this.map._requestManager.transformRequest(n,u.Tile),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function r(n,i){return delete e.request,e.aborted?t(null):n&&404!==n.status?t(n):(i&&i.resourceTiming&&(e.resourceTiming=i.resourceTiming),this.map._refreshExpiredTiles&&i&&e.setExpiryData(i),e.loadVectorData(i,this.map.painter),t(null),void(e.reloadCallback&&(this.loadTile(e,e.reloadCallback),e.reloadCallback=null)))}i.request.collectResourceTiming=this._collectResourceTiming,e.actor&&"expired"!==e.state?"loading"===e.state?e.reloadCallback=t:e.request=e.actor.send("reloadTile",i,r.bind(this)):(e.actor=this.dispatcher.getActor(),e.request=e.actor.send("loadTile",i,r.bind(this)))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.actor&&e.actor.send("abortTile",{uid:e.uid,type:this.type,source:this.id},void 0)}unloadTile(e){e.unloadVectorData(),e.actor&&e.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id},void 0)}hasTransition(){return!1}}class D extends e.E{constructor(t,n,i,r){super(),this.id=t,this.dispatcher=i,this.setEventedParent(r),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=e.e({type:"raster"},n),e.e(this,e.F(n,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this._tileJSONRequest=N(this._options,this.map._requestManager,((t,n)=>{this._tileJSONRequest=null,this._loaded=!0,t?this.fire(new e.j(t)):n&&(e.e(this,n),n.bounds&&(this.tileBounds=new R(n.bounds,this.minzoom,this.maxzoom)),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})))}))}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.cancel(),e(),this.load()}setTiles(e){return this.setSourceProperty((()=>{this._options.tiles=e})),this}serialize(){return e.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e,t){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.request=c.getImage(this.map._requestManager.transformRequest(n,u.Tile),((n,i,r)=>{if(delete e.request,e.aborted)e.state="unloaded",t(null);else if(n)e.state="errored",t(n);else if(i){this.map._refreshExpiredTiles&&r&&e.setExpiryData(r);const n=this.map.painter.context,s=n.gl;e.texture=this.map.painter.getTileTexture(i.width),e.texture?e.texture.update(i,{useMipmap:!0}):(e.texture=new _(n,i,s.RGBA,{useMipmap:!0}),e.texture.bind(s.LINEAR,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),n.extTextureFilterAnisotropic&&s.texParameterf(s.TEXTURE_2D,n.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,n.extTextureFilterAnisotropicMax)),e.state="loaded",t(null)}}),this.map._refreshExpiredTiles)}abortTile(e,t){e.request&&(e.request.cancel(),delete e.request),t()}unloadTile(e,t){e.texture&&this.map.painter.saveTileTexture(e.texture),t()}hasTransition(){return!1}}class L extends D{constructor(t,n,i,r){super(t,n,i,r),this.type="raster-dem",this.maxzoom=22,this._options=e.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(t,n){const i=t.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r=this.map._requestManager.transformRequest(i,u.Tile);function s(e,i){e&&(t.state="errored",n(e)),i&&(t.dem=i,t.needsHillshadePrepare=!0,t.needsTerrainPrepare=!0,t.state="loaded",n(null))}t.neighboringTiles=this._getNeighboringTiles(t.tileID),t.request=c.getImage(r,((i,r,a)=>e._(this,void 0,void 0,(function*(){if(delete t.request,t.aborted)t.state="unloaded",n(null);else if(i)t.state="errored",n(i);else if(r){this.map._refreshExpiredTiles&&t.setExpiryData(a);const n=e.a(r)&&e.J()?r:yield function(t){return e._(this,void 0,void 0,(function*(){if("undefined"!=typeof VideoFrame&&e.K()){const n=t.width+2,i=t.height+2;try{return new e.R({width:n,height:i},yield e.M(t,-1,-1,n,i))}catch(e){}}return e.h.getImageData(t,1)}))}(r),i={uid:t.uid,coord:t.tileID,source:this.id,rawImageData:n,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};t.actor&&"expired"!==t.state||(t.actor=this.dispatcher.getActor(),t.actor.send("loadDEMTile",i,s))}}))),this.map._refreshExpiredTiles)}_getNeighboringTiles(t){const n=t.canonical,i=Math.pow(2,n.z),r=(n.x-1+i)%i,s=0===n.x?t.wrap-1:t.wrap,a=(n.x+1+i)%i,o=n.x+1===i?t.wrap+1:t.wrap,l={};return l[new e.O(t.overscaledZ,s,n.z,r,n.y).key]={backfilled:!1},l[new e.O(t.overscaledZ,o,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new e.O(t.overscaledZ,s,n.z,r,n.y-1).key]={backfilled:!1},l[new e.O(t.overscaledZ,t.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new e.O(t.overscaledZ,o,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<i&&(l[new e.O(t.overscaledZ,s,n.z,r,n.y+1).key]={backfilled:!1},l[new e.O(t.overscaledZ,t.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new e.O(t.overscaledZ,o,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&e.actor.send("removeDEMTile",{uid:e.uid,source:this.id})}}class z extends e.E{constructor(t,n,i,r){super(),this.load=()=>{this._updateWorkerData()},this.serialize=()=>e.e({},this._options,{type:this.type,data:this._data}),this.id=t,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._pendingLoads=0,this.actor=i.getActor(),this.setEventedParent(r),this._data=n.data,this._options=e.e({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId;const s=e.N/this.tileSize;this.workerOptions=e.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*s,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*s,extent:e.N,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:void 0!==n.clusterMaxZoom?n.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,n.clusterMinPoints||2),extent:e.N,radius:(n.clusterRadius||50)*s,log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}onAdd(e){this.map=e,this.load()}setData(e){return this._data=e,this._updateWorkerData(),this}updateData(e){return this._updateWorkerData(e),this}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,e&&(void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=e.clusterRadius),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=e.clusterMaxZoom)),this._updateWorkerData(),this}getClusterExpansionZoom(e,t){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:e,source:this.id},t),this}getClusterChildren(e,t){return this.actor.send("geojson.getClusterChildren",{clusterId:e,source:this.id},t),this}getClusterLeaves(e,t,n,i){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:e,limit:t,offset:n},i),this}_updateWorkerData(t){const n=e.e({},this.workerOptions);t?n.dataDiff=t:"string"==typeof this._data?(n.request=this.map._requestManager.transformRequest(e.h.resolveURL(this._data),u.Source),n.request.collectResourceTiming=this._collectResourceTiming):n.data=JSON.stringify(this._data),this._pendingLoads++,this.fire(new e.k("dataloading",{dataType:"source"})),this.actor.send("".concat(this.type,".loadData"),n,((t,n)=>{if(this._pendingLoads--,this._removed||n&&n.abandoned)return void this.fire(new e.k("dataabort",{dataType:"source"}));let i=null;if(n&&n.resourceTiming&&n.resourceTiming[this.id]&&(i=n.resourceTiming[this.id].slice(0)),t)return void this.fire(new e.j(t));const r={dataType:"source"};this._collectResourceTiming&&i&&i.length>0&&e.e(r,{resourceTiming:i}),this.fire(new e.k("data",Object.assign(Object.assign({},r),{sourceDataType:"metadata"}))),this.fire(new e.k("data",Object.assign(Object.assign({},r),{sourceDataType:"content"})))}))}loaded(){return 0===this._pendingLoads}loadTile(e,t){const n=e.actor?"reloadTile":"loadTile";e.actor=this.actor;const i={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};e.request=this.actor.send(n,i,((i,r)=>(delete e.request,e.unloadVectorData(),e.aborted?t(null):i?t(i):(e.loadVectorData(r,this.map.painter,"reloadTile"===n),t(null)))))}abortTile(e){e.request&&(e.request.cancel(),delete e.request),e.aborted=!0}unloadTile(e){e.unloadVectorData(),this.actor.send("removeTile",{uid:e.uid,type:this.type,source:this.id})}onRemove(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})}hasTransition(){return!1}}var j=e.Q([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class F extends e.E{constructor(t,n,i,r){super(),this.load=(t,n)=>{this._loaded=!1,this.fire(new e.k("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=c.getImage(this.map._requestManager.transformRequest(this.url,u.Image),((i,r)=>{this._request=null,this._loaded=!0,i?this.fire(new e.j(i)):r&&(this.image=r,t&&(this.coordinates=t),n&&n(),this._finishLoading())}))},this.prepare=()=>{if(0===Object.keys(this.tiles).length||!this.image)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=e.S.simpleSegment(0,0,4,2)),this.texture||(this.texture=new _(t,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let i=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,i=!0)}i&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"image",url:this.options.url,coordinates:this.coordinates}),this.id=t,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=n}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.cancel(),this._request=null),this.options.url=e.url,this.load(e.coordinates,(()=>{this.texture=null})),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new e.k("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.cancel(),this._request=null)}setCoordinates(t){this.coordinates=t;const n=t.map(e.U.fromLngLat);this.tileID=function(t){let n=1/0,i=1/0,r=-1/0,s=-1/0;for(const e of t)n=Math.min(n,e.x),i=Math.min(i,e.y),r=Math.max(r,e.x),s=Math.max(s,e.y);const a=Math.max(r-n,s-i),o=Math.max(0,Math.floor(-Math.log(a)/Math.LN2)),l=Math.pow(2,o);return new e.W(o,Math.floor((n+r)/2*l),Math.floor((i+s)/2*l))}(n),this.minzoom=this.maxzoom=this.tileID.z;const i=n.map((e=>this.tileID.getTilePoint(e)._round()));return this._boundsArray=new e.V,this._boundsArray.emplaceBack(i[0].x,i[0].y,0,0),this._boundsArray.emplaceBack(i[1].x,i[1].y,e.N,0),this._boundsArray.emplaceBack(i[3].x,i[3].y,0,e.N),this._boundsArray.emplaceBack(i[2].x,i[2].y,e.N,e.N),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new e.k("data",{dataType:"source",sourceDataType:"content"})),this}loadTile(e,t){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={},t(null)):(e.state="errored",t(null))}hasTransition(){return!1}}class B extends F{constructor(t,n,i,r){super(t,n,i,r),this.load=()=>{this._loaded=!1;const t=this.options;this.urls=[];for(const e of t.urls)this.urls.push(this.map._requestManager.transformRequest(e,u.Source).url);e.X(this.urls,((t,n)=>{this._loaded=!0,t?this.fire(new e.j(t)):n&&(this.video=n,this.video.loop=!0,this.video.addEventListener("playing",(()=>{this.map.triggerRepaint()})),this.map&&this.video.play(),this._finishLoading())}))},this.prepare=()=>{if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const t=this.map.painter.context,n=t.gl;this.boundsBuffer||(this.boundsBuffer=t.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=e.S.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new _(t,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let i=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,i=!0)}i&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"video",urls:this.urls,coordinates:this.coordinates}),this.roundZoom=!0,this.type="video",this.options=n}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(t){if(this.video){const n=this.video.seekable;t<n.start(0)||t>n.end(0)?this.fire(new e.j(new e.Y("sources.".concat(this.id),null,"Playback for this video can be set only between the ".concat(n.start(0)," and ").concat(n.end(0),"-second mark.")))):this.video.currentTime=t}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}hasTransition(){return this.video&&!this.video.paused}}class V extends F{constructor(t,n,i,r){super(t,n,i,r),this.load=()=>{this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new e.j(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},this.prepare=()=>{let t=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,i=n.gl;this.boundsBuffer||(this.boundsBuffer=n.createVertexBuffer(this._boundsArray,j.members)),this.boundsSegments||(this.boundsSegments=e.S.simpleSegment(0,0,4,2)),this.texture?(t||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new _(n,this.canvas,i.RGBA,{premultiply:!0});let r=!1;for(const e in this.tiles){const t=this.tiles[e];"loaded"!==t.state&&(t.state="loaded",t.texture=this.texture,r=!0)}r&&this.fire(new e.k("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))},this.serialize=()=>({type:"canvas",coordinates:this.coordinates}),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some((e=>!Array.isArray(e)||2!==e.length||e.some((e=>"number"!=typeof e))))||this.fire(new e.j(new e.Y("sources.".concat(t),null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new e.j(new e.Y("sources.".concat(t),null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new e.j(new e.Y("sources.".concat(t),null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new e.j(new e.Y("sources.".concat(t),null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new e.j(new e.Y("sources.".concat(t),null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const U={},q=e=>{switch(e){case"geojson":return z;case"image":return F;case"raster":return D;case"raster-dem":return L;case"vector":return O;case"video":return B;case"canvas":return V}return U[e]};function H(t,n){const i=e.Z();return e.$(i,i,[1,1,0]),e.a0(i,i,[.5*t.width,.5*t.height,1]),e.a1(i,i,t.calculatePosMatrix(n.toUnwrapped()))}function G(e,t,n,i,r,s){const a=function(e,t,n){if(e)for(const i of e){const e=t[i];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const i in t){const e=t[i];if(e.source===n&&"fill-extrusion"===e.type)return!0}return!1}(r&&r.layers,t,e.id),o=s.maxPitchScaleFactor(),l=e.tilesIn(i,o,a);l.sort(W);const c=[];for(const h of l)c.push({wrappedTileID:h.tileID.wrapped().key,queryResults:h.tile.queryRenderedFeatures(t,n,e._state,h.queryGeometry,h.cameraQueryGeometry,h.scale,r,s,o,H(e.transform,h.tileID))});const u=function(e){const t={},n={};for(const i of e){const e=i.queryResults,r=i.wrappedTileID,s=n[r]=n[r]||{};for(const n in e){const i=e[n],r=s[n]=s[n]||{},a=t[n]=t[n]||[];for(const e of i)r[e.featureIndex]||(r[e.featureIndex]=!0,a.push(e))}}return t}(c);for(const h in u)u[h].forEach((t=>{const n=t.feature,i=e.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=i}));return u}function W(e,t){const n=e.tileID,i=t.tileID;return n.overscaledZ-i.overscaledZ||n.canonical.y-i.canonical.y||n.wrap-i.wrap||n.canonical.x-i.canonical.x}class K{constructor(t,n){this.timeAdded=0,this.fadeEndTime=0,this.tileID=t,this.uid=e.a2(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}registerFadeDuration(e){const t=e+this.timeAdded;t<this.fadeEndTime||(this.fadeEndTime=t)}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(t,n,i){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",t){t.featureIndex&&(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const i of e){const e=i.layerIds.map((e=>t.getLayer(e))).filter(Boolean);if(0!==e.length){i.layers=e,i.stateDependentLayerIds&&(i.stateDependentLayers=i.stateDependentLayerIds.map((t=>e.filter((e=>e.id===t))[0])));for(const t of e)n[t.id]=i}}return n}(t.buckets,n.style),this.hasSymbolBuckets=!1;for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.a4){if(this.hasSymbolBuckets=!0,!i)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const t in this.buckets){const n=this.buckets[t];if(n instanceof e.a4&&n.hasRTLText){this.hasRTLText=!0,e.a5();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}t.imageAtlas&&(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&&(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new e.a3}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const n in this.buckets){const t=this.buckets[n];t.uploadPending()&&t.upload(e)}const t=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new _(e,this.imageAtlas.image,t.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new _(e,this.glyphAtlasImage,t.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,i,r,s,a,o,l,c){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:i,cameraQueryGeometry:r,scale:s,tileSize:this.tileSize,pixelPosMatrix:c,transform:o,params:a,queryPadding:this.queryPadding*l},e,t,n):{}}querySourceFeatures(t,n){const i=this.latestFeatureIndex;if(!i||!i.rawTileData)return;const r=i.loadVTLayers(),s=n&&n.sourceLayer?n.sourceLayer:"",a=r._geojsonTileLayer||r[s];if(!a)return;const o=e.a6(n&&n.filter),{z:l,x:c,y:u}=this.tileID.canonical,h={z:l,x:c,y:u};for(let d=0;d<a.length;d++){const n=a.feature(d);if(o.needGeometry){const t=e.a7(n,!0);if(!o.filter(new e.a8(this.tileID.overscaledZ),t,this.tileID.canonical))continue}else if(!o.filter(new e.a8(this.tileID.overscaledZ),n))continue;const r=i.getId(n,s),p=new e.a9(n,l,c,u,r);p.tile=h,t.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(t){const n=this.expirationTime;if(t.cacheControl){const n=e.aa(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const i=this.expirationTime-n;i?this.expirationTime=e+Math.max(i,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,t){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const n=this.latestFeatureIndex.loadVTLayers();for(const i in this.buckets){if(!t.style.hasLayer(i))continue;const r=this.buckets[i],s=r.layers[0].sourceLayer||"_geojsonTileLayer",a=n[s],o=e[s];if(!a||!o||0===Object.keys(o).length)continue;r.update(o,a,this.imageAtlas&&this.imageAtlas.patternPositions||{});const l=t&&t.style&&t.style.getLayer(i);l&&(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(r)))}}holdingForFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<e.h.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(t){this.symbolFadeHoldUntil=e.h.now()+t}setDependencies(e,t){const n={};for(const i of t)n[i]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class Y{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const i=e.wrapped().key;void 0===this.data[i]&&(this.data[i]=[]);const r={value:t,timeout:void 0};if(void 0!==n&&(r.timeout=setTimeout((()=>{this.remove(e,r)}),n)),this.data[i].push(r),this.order.push(i),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,i=void 0===t?0:this.data[n].indexOf(t),r=this.data[n][i];return this.data[n].splice(i,1),r.timeout&&clearTimeout(r.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(r.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const i of this.data[n])e(i.value)||t.push(i);for(const n of t)this.remove(n.value.tileID,n)}}class Z{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(t,n,i){const r=String(n);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][r]=this.stateChanges[t][r]||{},e.e(this.stateChanges[t][r],i),null===this.deletedStates[t]){this.deletedStates[t]={};for(const e in this.state[t])e!==r&&(this.deletedStates[t][e]=null)}else if(this.deletedStates[t]&&null===this.deletedStates[t][r]){this.deletedStates[t][r]={};for(const e in this.state[t][r])i[e]||(this.deletedStates[t][r][e]=null)}else for(const e in i)this.deletedStates[t]&&this.deletedStates[t][r]&&null===this.deletedStates[t][r][e]&&delete this.deletedStates[t][r][e]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const i=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][i]&&(this.deletedStates[e][i]=this.deletedStates[e][i]||{},this.deletedStates[e][i][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][i])for(n in this.deletedStates[e][i]={},this.stateChanges[e][i])this.deletedStates[e][i][n]=null;else this.deletedStates[e][i]=null;else this.deletedStates[e]=null}getState(t,n){const i=String(n),r=e.e({},(this.state[t]||{})[i],(this.stateChanges[t]||{})[i]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){const e=this.deletedStates[t][n];if(null===e)return{};for(const t in e)delete r[t]}return r}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(t,n){const i={};for(const r in this.stateChanges){this.state[r]=this.state[r]||{};const t={};for(const n in this.stateChanges[r])this.state[r][n]||(this.state[r][n]={}),e.e(this.state[r][n],this.stateChanges[r][n]),t[n]=this.state[r][n];i[r]=t}for(const r in this.deletedStates){this.state[r]=this.state[r]||{};const t={};if(null===this.deletedStates[r])for(const e in this.state[r])t[e]={},this.state[r][e]={};else for(const e in this.deletedStates[r]){if(null===this.deletedStates[r][e])this.state[r][e]={};else for(const t of Object.keys(this.deletedStates[r][e]))delete this.state[r][e][t];t[e]=this.state[r][e]}i[r]=i[r]||{},e.e(i[r],t)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(i).length)for(const e in t)t[e].setFeatureState(i,n)}}class X extends e.E{constructor(e,t,n){super(),this.id=e,this.dispatcher=n,this.on("data",(e=>{"source"===e.dataType&&"metadata"===e.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&"source"===e.dataType&&"content"===e.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0)})),this.on("dataloading",(()=>{this._sourceErrored=!1})),this.on("error",(()=>{this._sourceErrored=this._source.loaded()})),this._source=((e,t,n,i)=>{const r=new(q(t.type))(e,t,n,i);if(r.id!==e)throw new Error("Expected Source id to be ".concat(e," instead of ").concat(r.id));return r})(e,t,n,this),this._tiles={},this._cache=new Y(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new Z,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e)}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e in this._tiles){const t=this._tiles[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,t){return this._source.loadTile(e,t)}_unloadTile(e){if(this._source.unloadTile)return this._source.unloadTile(e,(()=>{}))}_abortTile(t){this._source.abortTile&&this._source.abortTile(t,(()=>{})),this._source.fire(new e.k("dataabort",{tile:t,coord:t.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const t in this._tiles){const n=this._tiles[t];n.upload(e),n.prepare(this.map.style.imageManager)}}getIds(){return Object.values(this._tiles).map((e=>e.tileID)).sort(Q).map((e=>e.key))}getRenderableIds(t){const n=[];for(const e in this._tiles)this._isIdRenderable(e,t)&&n.push(this._tiles[e]);return t?n.sort(((t,n)=>{const i=t.tileID,r=n.tileID,s=new e.P(i.canonical.x,i.canonical.y)._rotate(this.transform.angle),a=new e.P(r.canonical.x,r.canonical.y)._rotate(this.transform.angle);return i.overscaledZ-r.overscaledZ||a.y-s.y||a.x-s.x})).map((e=>e.tileID.key)):n.map((e=>e.tileID)).sort(Q).map((e=>e.key))}hasRenderableParent(e){const t=this.findLoadedParent(e,0);return!!t&&this._isIdRenderable(t.tileID.key)}_isIdRenderable(e,t){return this._tiles[e]&&this._tiles[e].hasData()&&!this._coveredTiles[e]&&(t||!this._tiles[e].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const e in this._tiles)"errored"!==this._tiles[e].state&&this._reloadTile(e,"reloading")}}_reloadTile(e,t){const n=this._tiles[e];n&&("loading"!==n.state&&(n.state=t),this._loadTile(n,this._tileLoaded.bind(this,n,e,t)))}_tileLoaded(t,n,i,r){if(r)return t.state="errored",void(404!==r.status?this._source.fire(new e.j(r,{tile:t})):this.update(this.transform,this.terrain));t.timeAdded=e.h.now(),"expired"===i&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(n,t),"raster-dem"===this.getSource().type&&t.dem&&this._backfillDEM(t),this._state.initializeTileState(t,this.map?this.map.painter:null),t.aborted||this._source.fire(new e.k("data",{dataType:"source",tile:t,coord:t.tileID}))}_backfillDEM(e){const t=this.getRenderableIds();for(let i=0;i<t.length;i++){const r=t[i];if(e.neighboringTiles&&e.neighboringTiles[r]){const t=this.getTileByID(r);n(e,t),n(t,e)}}function n(e,t){e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let n=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,r=Math.pow(2,e.tileID.canonical.z),s=t.tileID.key;0===n&&0===i||Math.abs(i)>1||(Math.abs(n)>1&&(1===Math.abs(n+r)?n+=r:1===Math.abs(n-r)&&(n-=r)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,n,i),e.neighboringTiles&&e.neighboringTiles[s]&&(e.neighboringTiles[s].backfilled=!0)))}}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._tiles[e]}_retainLoadedChildren(e,t,n,i){for(const r in this._tiles){let s=this._tiles[r];if(i[r]||!s.hasData()||s.tileID.overscaledZ<=t||s.tileID.overscaledZ>n)continue;let a=s.tileID;for(;s&&s.tileID.overscaledZ>t+1;){const e=s.tileID.scaledTo(s.tileID.overscaledZ-1);s=this._tiles[e.key],s&&s.hasData()&&(a=e)}let o=a;for(;o.overscaledZ>t;)if(o=o.scaledTo(o.overscaledZ-1),e[o.key]){i[a.key]=a;break}}}findLoadedParent(e,t){if(e.key in this._loadedParentTiles){const n=this._loadedParentTiles[e.key];return n&&n.tileID.overscaledZ>=t?n:null}for(let n=e.overscaledZ-1;n>=t;n--){const t=e.scaledTo(n),i=this._getLoadedTile(t);if(i)return i}}_getLoadedTile(e){const t=this._tiles[e.key];return t&&t.hasData()?t:this._cache.getByKey(e.wrapped().key)}updateCacheSize(t){const n=Math.ceil(t.width/this._source.tileSize)+1,i=Math.ceil(t.height/this._source.tileSize)+1,r=Math.floor(n*i*(null===this._maxTileCacheZoomLevels?e.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),s="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,r):r;this._cache.setMaxSize(s)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);if(this._prevLng=e,t){const e={};for(const n in this._tiles){const i=this._tiles[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),e[i.tileID.key]=i}this._tiles=e;for(const t in this._timers)clearTimeout(this._timers[t]),delete this._timers[t];for(const t in this._tiles)this._setTileReloadTimer(t,this._tiles[t])}}update(t,n){if(this.transform=t,this.terrain=n,!this._sourceLoaded||this._paused)return;let i;this.updateCacheSize(t),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?i=t.getVisibleUnwrappedCoordinates(this._source.tileID).map((t=>new e.O(t.canonical.z,t.wrap,t.canonical.z,t.canonical.x,t.canonical.y))):(i=t.coveringTiles({tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n}),this._source.hasTile&&(i=i.filter((e=>this._source.hasTile(e))))):i=[];const r=t.coveringZoomLevel(this._source),s=Math.max(r-X.maxOverzooming,this._source.minzoom),a=Math.max(r+X.maxUnderzooming,this._source.minzoom);if(this.usedForTerrain){const e={};for(const t of i)if(t.canonical.z>this._source.minzoom){const n=t.scaledTo(t.canonical.z-1);e[n.key]=n;const i=t.scaledTo(Math.max(this._source.minzoom,Math.min(t.canonical.z,5)));e[i.key]=i}i=i.concat(Object.values(e))}const o=0===i.length&&!this._updated&&this._didEmitContent;this._updated=!0,o&&this.fire(new e.k("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const l=this._updateRetainedTiles(i,r);if(J(this._source.type)){const t={},o={},c=Object.keys(l),u=e.h.now();for(const e of c){const n=l[e],i=this._tiles[e];if(!i||0!==i.fadeEndTime&&i.fadeEndTime<=u)continue;const r=this.findLoadedParent(n,s);r&&(this._addTile(r.tileID),t[r.tileID.key]=r.tileID),o[e]=n}this._retainLoadedChildren(o,r,a,l);for(const e in t)l[e]||(this._coveredTiles[e]=!0,l[e]=t[e]);if(n){const e={},t={};for(const n of i)this._tiles[n.key].hasData()?e[n.key]=n:t[n.key]=n;for(const n in t){const i=t[n].children(this._source.maxzoom);this._tiles[i[0].key]&&this._tiles[i[1].key]&&this._tiles[i[2].key]&&this._tiles[i[3].key]&&(e[i[0].key]=l[i[0].key]=i[0],e[i[1].key]=l[i[1].key]=i[1],e[i[2].key]=l[i[2].key]=i[2],e[i[3].key]=l[i[3].key]=i[3],delete t[n])}for(const n in t){const i=this.findLoadedParent(t[n],this._source.minzoom);if(i){e[i.tileID.key]=l[i.tileID.key]=i.tileID;for(const t in e)e[t].isChildOf(i.tileID)&&delete e[t]}}for(const n in this._tiles)e[n]||(this._coveredTiles[n]=!0)}}for(const e in l)this._tiles[e].clearFadeHold();const c=e.ab(this._tiles,l);for(const e of c){const t=this._tiles[e];t.hasSymbolBuckets&&!t.holdingForFade()?t.setHoldDuration(this.map._fadeDuration):t.hasSymbolBuckets&&!t.symbolFadeFinished()||this._removeTile(e)}this._updateLoadedParentTileCache()}releaseSymbolFadeTiles(){for(const e in this._tiles)this._tiles[e].holdingForFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){const n={},i={},r=Math.max(t-X.maxOverzooming,this._source.minzoom),s=Math.max(t+X.maxUnderzooming,this._source.minzoom),a={};for(const o of e){const e=this._addTile(o);n[o.key]=o,e.hasData()||t<this._source.maxzoom&&(a[o.key]=o)}this._retainLoadedChildren(a,t,s,n);for(const o of e){let e=this._tiles[o.key];if(e.hasData())continue;if(t+1>this._source.maxzoom){const e=o.children(this._source.maxzoom)[0],t=this.getTile(e);if(t&&t.hasData()){n[e.key]=e;continue}}else{const e=o.children(this._source.maxzoom);if(n[e[0].key]&&n[e[1].key]&&n[e[2].key]&&n[e[3].key])continue}let s=e.wasRequested();for(let t=o.overscaledZ-1;t>=r;--t){const r=o.scaledTo(t);if(i[r.key])break;if(i[r.key]=!0,e=this.getTile(r),!e&&s&&(e=this._addTile(r)),e){const t=e.hasData();if((s||t)&&(n[r.key]=r),s=e.wasRequested(),t)break}}}return n}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const e in this._tiles){const t=[];let n,i=this._tiles[e].tileID;for(;i.overscaledZ>0;){if(i.key in this._loadedParentTiles){n=this._loadedParentTiles[i.key];break}t.push(i.key);const e=i.scaledTo(i.overscaledZ-1);if(n=this._getLoadedTile(e),n)break;i=e}for(const e of t)this._loadedParentTiles[e]=n}}_addTile(t){let n=this._tiles[t.key];if(n)return n;n=this._cache.getAndRemove(t),n&&(this._setTileReloadTimer(t.key,n),n.tileID=t,this._state.initializeTileState(n,this.map?this.map.painter:null),this._cacheTimers[t.key]&&(clearTimeout(this._cacheTimers[t.key]),delete this._cacheTimers[t.key],this._setTileReloadTimer(t.key,n)));const i=n;return n||(n=new K(t,this._source.tileSize*t.overscaleFactor()),this._loadTile(n,this._tileLoaded.bind(this,n,t.key,n.state))),n.uses++,this._tiles[t.key]=n,i||this._source.fire(new e.k("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){e in this._timers&&(clearTimeout(this._timers[e]),delete this._timers[e]);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout((()=>{this._reloadTile(e,"expired"),delete this._timers[e]}),n))}_removeTile(e){const t=this._tiles[e];t&&(t.uses--,delete this._tiles[e],this._timers[e]&&(clearTimeout(this._timers[e]),delete this._timers[e]),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._cache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e in this._tiles)this._removeTile(e);this._cache.reset()}tilesIn(t,n,i){const r=[],s=this.transform;if(!s)return r;const a=i?s.getCameraQueryGeometry(t):t,o=t.map((e=>s.pointCoordinate(e,this.terrain))),l=a.map((e=>s.pointCoordinate(e,this.terrain))),c=this.getIds();let u=1/0,h=1/0,d=-1/0,p=-1/0;for(const e of l)u=Math.min(u,e.x),h=Math.min(h,e.y),d=Math.max(d,e.x),p=Math.max(p,e.y);for(let f=0;f<c.length;f++){const t=this._tiles[c[f]];if(t.holdingForFade())continue;const i=t.tileID,a=Math.pow(2,s.zoom-t.tileID.overscaledZ),m=n*t.queryPadding*e.N/t.tileSize/a,g=[i.getTilePoint(new e.U(u,h)),i.getTilePoint(new e.U(d,p))];if(g[0].x-m<e.N&&g[0].y-m<e.N&&g[1].x+m>=0&&g[1].y+m>=0){const e=o.map((e=>i.getTilePoint(e))),n=l.map((e=>i.getTilePoint(e)));r.push({tile:t,tileID:i,queryGeometry:e,cameraQueryGeometry:n,scale:a})}}return r}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map((e=>this._tiles[e].tileID));for(const n of t)n.posMatrix=this.transform.calculatePosMatrix(n.toUnwrapped());return t}hasTransition(){if(this._source.hasTransition())return!0;if(J(this._source.type)){const t=e.h.now();for(const e in this._tiles)if(this._tiles[e].fadeEndTime>=t)return!0}return!1}setFeatureState(e,t,n){this._state.updateState(e=e||"_geojsonTileLayer",t,n)}removeFeatureState(e,t,n){this._state.removeFeatureState(e=e||"_geojsonTileLayer",t,n)}getFeatureState(e,t){return this._state.getState(e=e||"_geojsonTileLayer",t)}setDependencies(e,t,n){const i=this._tiles[e];i&&i.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n in this._tiles)this._tiles[n].hasDependency(e,t)&&this._reloadTile(n,"reloading");this._cache.filter((n=>!n.hasDependency(e,t)))}}function Q(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),i=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||i-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x}function J(e){return"raster"===e||"image"===e||"video"===e}X.maxOverzooming=10,X.maxUnderzooming=3;const $="mapboxgl_preloaded_worker_pool";class ee{constructor(){this.active={}}acquire(t){if(!this.workers)for(this.workers=[];this.workers.length<ee.workerCount;)this.workers.push(new Worker(e.c.WORKER_URL));return this.active[t]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach((e=>{e.terminate()})),this.workers=null)}isPreloaded(){return!!this.active[$]}numActive(){return Object.keys(this.active).length}}const te=Math.floor(e.h.hardwareConcurrency/2);let ne;function ie(){return ne||(ne=new ee),ne}ee.workerCount=e.ac(globalThis)?Math.max(Math.min(te,3),1):1;class re{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(t){if(1===this.points.length)return this.points[0];t=e.ad(t,0,1);let n=1,i=this._distances[n];const r=t*this.paddedLength+this.padding;for(;i<r&&n<this._distances.length;)i=this._distances[++n];const s=n-1,a=this._distances[s],o=i-a,l=o>0?(r-a)/o:0;return this.points[s].mult(1-l).add(this.points[n].mult(l))}}function se(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class ae{constructor(e,t,n){const i=this.boxCells=[],r=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let s=0;s<this.xCellCount*this.yCellCount;s++)i.push([]),r.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,i,r){this._forEachCell(t,n,i,r,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)}insertCircle(e,t,n,i){this._forEachCell(t-i,n-i,t+i,n+i,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(i)}_insertBoxCell(e,t,n,i,r,s){this.boxCells[r].push(s)}_insertCircleCell(e,t,n,i,r,s){this.circleCells[r].push(s)}_query(e,t,n,i,r,s,a){if(n<0||e>this.width||i<0||t>this.height)return[];const o=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=i){if(r)return[{key:null,x1:e,y1:t,x2:n,y2:i}];for(let e=0;e<this.boxKeys.length;e++)o.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],i=this.circles[3*e+2];o.push({key:this.circleKeys[e],x1:t-i,y1:n-i,x2:t+i,y2:n+i})}}else this._forEachCell(e,t,n,i,this._queryCell,o,{hitTest:r,overlapMode:s,seenUids:{box:{},circle:{}}},a);return o}query(e,t,n,i){return this._query(e,t,n,i,!1,null)}hitTest(e,t,n,i,r,s){return this._query(e,t,n,i,!0,r,s).length>0}hitTestCircle(e,t,n,i,r){const s=e-n,a=e+n,o=t-n,l=t+n;if(a<0||s>this.width||l<0||o>this.height)return!1;const c=[];return this._forEachCell(s,o,a,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:i,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},r),c.length>0}_queryCell(e,t,n,i,r,s,a,o){const{seenUids:l,hitTest:c,overlapMode:u}=a,h=this.boxCells[r];if(null!==h){const r=this.bboxes;for(const a of h)if(!l.box[a]){l.box[a]=!0;const h=4*a,d=this.boxKeys[a];if(e<=r[h+2]&&t<=r[h+3]&&n>=r[h+0]&&i>=r[h+1]&&(!o||o(d))&&(!c||!se(u,d.overlapMode))&&(s.push({key:d,x1:r[h],y1:r[h+1],x2:r[h+2],y2:r[h+3]}),c))return!0}}const d=this.circleCells[r];if(null!==d){const r=this.circles;for(const a of d)if(!l.circle[a]){l.circle[a]=!0;const h=3*a,d=this.circleKeys[a];if(this._circleAndRectCollide(r[h],r[h+1],r[h+2],e,t,n,i)&&(!o||o(d))&&(!c||!se(u,d.overlapMode))){const e=r[h],t=r[h+1],n=r[h+2];if(s.push({key:d,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),c)return!0}}}return!1}_queryCellCircle(e,t,n,i,r,s,a,o){const{circle:l,seenUids:c,overlapMode:u}=a,h=this.boxCells[r];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const n=4*t,i=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!o||o(i))&&!se(u,i.overlapMode))return s.push(!0),!0}}const d=this.circleCells[r];if(null!==d){const e=this.circles;for(const t of d)if(!c.circle[t]){c.circle[t]=!0;const n=3*t,i=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!o||o(i))&&!se(u,i.overlapMode))return s.push(!0),!0}}}_forEachCell(e,t,n,i,r,s,a,o){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(i);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(r.call(this,e,t,n,i,this.xCellCount*l+d,s,a,o))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,i,r,s){const a=i-e,o=r-t,l=n+s;return l*l>a*a+o*o}_circleAndRectCollide(e,t,n,i,r,s,a){const o=(s-i)/2,l=Math.abs(e-(i+o));if(l>o+n)return!1;const c=(a-r)/2,u=Math.abs(t-(r+c));if(u>c+n)return!1;if(l<=o||u<=c)return!0;const h=l-o,d=u-c;return h*h+d*d<=n*n}}function oe(t,n,i,r,s){const a=e.Z();return n?(e.a0(a,a,[1/s,1/s,1]),i||e.ae(a,a,r.angle)):e.a1(a,r.labelPlaneMatrix,t),a}function le(t,n,i,r,s){if(n){const n=e.af(t);return e.a0(n,n,[s,s,1]),i||e.ae(n,n,-r.angle),n}return r.glCoordMatrix}function ce(t,n,i){let r;i?(r=[t.x,t.y,i(t.x,t.y),1],e.ag(r,r,n)):(r=[t.x,t.y,0,1],Se(r,r,n));const s=r[3];return{point:new e.P(r[0]/s,r[1]/s),signedDistanceFromCamera:s}}function ue(e,t){return.5+e/t*.5}function he(e,t){const n=e[0]/e[3],i=e[1]/e[3];return n>=-t[0]&&n<=t[0]&&i>=-t[1]&&i<=t[1]}function de(t,n,i,r,s,a,o,l,c,u){const h=r?t.textSizeData:t.iconSizeData,d=e.ah(h,i.transform.zoom),p=[256/i.width*2+1,256/i.height*2+1],f=r?t.text.dynamicLayoutVertexArray:t.icon.dynamicLayoutVertexArray;f.clear();const m=t.lineVertexArray,g=r?t.text.placedSymbolArray:t.icon.placedSymbolArray,y=i.transform.width/i.transform.height;let v=!1;for(let _=0;_<g.length;_++){const r=g.get(_);if(r.hidden||r.writingMode===e.ai.vertical&&!v){we(r.numGlyphs,f);continue}let b;if(v=!1,u?(b=[r.anchorX,r.anchorY,u(r.anchorX,r.anchorY),1],e.ag(b,b,n)):(b=[r.anchorX,r.anchorY,0,1],Se(b,b,n)),!he(b,p)){we(r.numGlyphs,f);continue}const x=ue(i.transform.cameraToCenterDistance,b[3]),w=e.aj(h,d,r),S=o?w/x:w*x,E=new e.P(r.anchorX,r.anchorY),T=ce(E,s,u).point,I={projections:{},offsets:{}},k=me(r,S,!1,l,n,s,a,t.glyphOffsetArray,m,f,T,E,I,y,c,u);v=k.useVertical,(k.notEnoughRoom||v||k.needsFlipping&&me(r,S,!0,l,n,s,a,t.glyphOffsetArray,m,f,T,E,I,y,c,u).notEnoughRoom)&&we(r.numGlyphs,f)}r?t.text.dynamicLayoutVertexBuffer.updateData(f):t.icon.dynamicLayoutVertexBuffer.updateData(f)}function pe(e,t,n,i,r,s,a,o,l,c,u,h,d){const p=o.glyphStartIndex+o.numGlyphs,f=o.lineStartIndex,m=o.lineStartIndex+o.lineLength,g=t.getoffsetX(o.glyphStartIndex),y=t.getoffsetX(p-1),v=be(e*g,n,i,r,s,a,o.segment,f,m,l,c,u,h,d);if(!v)return null;const _=be(e*y,n,i,r,s,a,o.segment,f,m,l,c,u,h,d);return _?{first:v,last:_}:null}function fe(t,n,i,r){return t===e.ai.horizontal&&Math.abs(i.y-n.y)>Math.abs(i.x-n.x)*r?{useVertical:!0}:(t===e.ai.vertical?n.y<i.y:n.x>i.x)?{needsFlipping:!0}:null}function me(t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g){const y=n/24,v=t.lineOffsetX*y,_=t.lineOffsetY*y;let b;if(t.numGlyphs>1){const e=t.glyphStartIndex+t.numGlyphs,n=t.lineStartIndex,s=t.lineStartIndex+t.lineLength,u=pe(y,l,v,_,i,h,d,t,c,a,p,m,g);if(!u)return{notEnoughRoom:!0};const x=ce(u.first.point,o,g).point,w=ce(u.last.point,o,g).point;if(r&&!i){const e=fe(t.writingMode,x,w,f);if(e)return e}b=[u.first];for(let r=t.glyphStartIndex+1;r<e-1;r++)b.push(be(y*l.getoffsetX(r),v,_,i,h,d,t.segment,n,s,c,a,p,m,g));b.push(u.last)}else{if(r&&!i){const n=ce(d,s,g).point,i=t.lineStartIndex+t.segment+1,r=new e.P(c.getx(i),c.gety(i)),a=ce(r,s,g),o=a.signedDistanceFromCamera>0?a.point:ge(d,r,n,1,s,g),l=fe(t.writingMode,n,o,f);if(l)return l}const n=be(y*l.getoffsetX(t.glyphStartIndex),v,_,i,h,d,t.segment,t.lineStartIndex,t.lineStartIndex+t.lineLength,c,a,p,m,g);if(!n)return{notEnoughRoom:!0};b=[n]}for(const x of b)e.ak(u,x.point,x.angle);return{}}function ge(e,t,n,i,r,s){const a=ce(e.add(e.sub(t)._unit()),r,s).point,o=n.sub(a);return n.add(o._mult(i/o.mag()))}function ye(t,n){const{projectionCache:i,lineVertexArray:r,labelPlaneMatrix:s,tileAnchorPoint:a,distanceFromAnchor:o,getElevation:l,previousVertex:c,direction:u,absOffsetX:h}=n;if(i.projections[t])return i.projections[t];const d=new e.P(r.getx(t),r.gety(t)),p=ce(d,s,l);if(p.signedDistanceFromCamera>0)return i.projections[t]=p.point,p.point;const f=t-u;return ge(0===o?a:new e.P(r.getx(f),r.gety(f)),d,c,h-o+1,s,l)}function ve(e,t,n){return e._unit()._perp()._mult(t*n)}function _e(t,n,i,r,s,a,o,l){const{projectionCache:c,direction:u}=l;if(c.offsets[t])return c.offsets[t];const h=i.add(n);if(t+u<r||t+u>=s)return c.offsets[t]=h,h;const d=ye(t+u,l),p=ve(d.sub(i),o,u),f=i.add(p),m=d.add(p);return c.offsets[t]=e.al(a,h,f,m)||h,c.offsets[t]}function be(e,t,n,i,r,s,a,o,l,c,u,h,d,p){const f=i?e-t:e+t;let m=f>0?1:-1,g=0;i&&(m*=-1,g=Math.PI),m<0&&(g+=Math.PI);let y,v,_=m>0?o+a:o+a+1,b=r,x=r,w=0,S=0;const E=Math.abs(f),T=[];let I;for(;w+S<=E;){if(_+=m,_<o||_>=l)return null;w+=S,x=b,v=y;const e={projectionCache:h,lineVertexArray:c,labelPlaneMatrix:u,tileAnchorPoint:s,distanceFromAnchor:w,getElevation:p,previousVertex:x,direction:m,absOffsetX:E};if(b=ye(_,e),0===n)T.push(x),I=b.sub(x);else{let t;const i=b.sub(x);t=0===i.mag()?ve(ye(_+m,e).sub(b),n,m):ve(i,n,m),v||(v=x.add(t)),y=_e(_,t,b,o,l,v,n,e),T.push(v),I=y.sub(v)}S=I.mag()}const k=I._mult((E-w)/S)._add(v||x),C=g+Math.atan2(b.y-x.y,b.x-x.x);return T.push(k),{point:k,angle:d?C:0,path:T}}const xe=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function we(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(xe,3*e)}}function Se(e,t,n){const i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e[3]=n[3]*i+n[7]*r+n[15],e}const Ee=100;class Te{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ae(e.width+200,e.height+200,25),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ae(e.width+200,e.height+200,25);this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchfactor=Math.cos(e._pitch)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+Ee,this.screenBottomBoundary=e.height+Ee,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,n,i,r,s){const a=this.projectAndGetPerspectiveRatio(i,e.anchorPointX,e.anchorPointY,s),o=n*a.perspectiveRatio,l=e.x1*o+a.point.x,c=e.y1*o+a.point.y,u=e.x2*o+a.point.x,h=e.y2*o+a.point.y;return!this.isInsideGrid(l,c,u,h)||"always"!==t&&this.grid.hitTest(l,c,u,h,t,r)||a.perspectiveRatio<this.perspectiveRatioCutoff?{box:[],offscreen:!1}:{box:[l,c,u,h],offscreen:this.isOffscreen(l,c,u,h)}}placeCollisionCircles(t,n,i,r,s,a,o,l,c,u,h,d,p,f){const m=[],g=new e.P(n.anchorX,n.anchorY),y=ce(g,a,f),v=ue(this.transform.cameraToCenterDistance,y.signedDistanceFromCamera),_=(u?s/v:s*v)/e.ap,b=ce(g,o,f).point,x=pe(_,r,n.lineOffsetX*_,n.lineOffsetY*_,!1,b,g,n,i,o,{projections:{},offsets:{}},!1,f);let w=!1,S=!1,E=!0;if(x){const n=.5*d*v+p,i=new e.P(-100,-100),r=new e.P(this.screenRightBoundary,this.screenBottomBoundary),s=new re,a=x.first,o=x.last;let u=[];for(let e=a.path.length-1;e>=1;e--)u.push(a.path[e]);for(let e=1;e<o.path.length;e++)u.push(o.path[e]);const g=2.5*n;if(l){const e=u.map((e=>ce(e,l,f)));u=e.some((e=>e.signedDistanceFromCamera<=0))?[]:e.map((e=>e.point))}let y=[];if(u.length>0){const t=u[0].clone(),n=u[0].clone();for(let e=1;e<u.length;e++)t.x=Math.min(t.x,u[e].x),t.y=Math.min(t.y,u[e].y),n.x=Math.max(n.x,u[e].x),n.y=Math.max(n.y,u[e].y);y=t.x>=i.x&&n.x<=r.x&&t.y>=i.y&&n.y<=r.y?[u]:n.x<i.x||t.x>r.x||n.y<i.y||t.y>r.y?[]:e.am([u],i.x,i.y,r.x,r.y)}for(const e of y){s.reset(e,.25*n);let i=0;i=s.length<=.5*n?1:Math.ceil(s.paddedLength/g)+1;for(let e=0;e<i;e++){const r=e/Math.max(i-1,1),a=s.lerp(r),o=a.x+Ee,l=a.y+Ee;m.push(o,l,n,0);const u=o-n,d=l-n,p=o+n,f=l+n;if(E=E&&this.isOffscreen(u,d,p,f),S=S||this.isInsideGrid(u,d,p,f),"always"!==t&&this.grid.hitTestCircle(o,l,n,t,h)&&(w=!0,!c))return{circles:[],offscreen:!1,collisionDetected:w}}}}return{circles:!c&&w||!S||v<this.perspectiveRatioCutoff?[]:m,offscreen:E,collisionDetected:w}}queryRenderedSymbols(t){if(0===t.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[];let i=1/0,r=1/0,s=-1/0,a=-1/0;for(const u of t){const t=new e.P(u.x+Ee,u.y+Ee);i=Math.min(i,t.x),r=Math.min(r,t.y),s=Math.max(s,t.x),a=Math.max(a,t.y),n.push(t)}const o=this.grid.query(i,r,s,a).concat(this.ignoredGrid.query(i,r,s,a)),l={},c={};for(const u of o){const t=u.key;if(void 0===l[t.bucketInstanceId]&&(l[t.bucketInstanceId]={}),l[t.bucketInstanceId][t.featureIndex])continue;const i=[new e.P(u.x1,u.y1),new e.P(u.x2,u.y1),new e.P(u.x2,u.y2),new e.P(u.x1,u.y2)];e.an(n,i)&&(l[t.bucketInstanceId][t.featureIndex]=!0,void 0===c[t.bucketInstanceId]&&(c[t.bucketInstanceId]=[]),c[t.bucketInstanceId].push(t.featureIndex))}return c}insertCollisionBox(e,t,n,i,r,s){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:i,featureIndex:r,collisionGroupID:s,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,i,r,s){const a=n?this.ignoredGrid:this.grid,o={bucketInstanceId:i,featureIndex:r,collisionGroupID:s,overlapMode:t};for(let l=0;l<e.length;l+=4)a.insertCircle(o,e[l],e[l+1],e[l+2])}projectAndGetPerspectiveRatio(t,n,i,r){let s;return r?(s=[n,i,r(n,i),1],e.ag(s,s,t)):(s=[n,i,0,1],Se(s,s,t)),{point:new e.P((s[0]/s[3]+1)/2*this.transform.width+Ee,(-s[1]/s[3]+1)/2*this.transform.height+Ee),perspectiveRatio:.5+this.transform.cameraToCenterDistance/s[3]*.5}}isOffscreen(e,t,n,i){return n<Ee||e>=this.screenRightBoundary||i<Ee||t>this.screenBottomBoundary}isInsideGrid(e,t,n,i){return n>=0&&e<this.gridRightBoundary&&i>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const t=e.ao([]);return e.$(t,t,[-100,-100,0]),t}}function Ie(t,n,i){return n*(e.N/(t.tileSize*Math.pow(2,i-t.tileID.overscaledZ)))}class ke{constructor(e,t,n,i){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):i&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class Ce{constructor(e,t,n,i,r){this.text=new ke(e?e.text:null,t,n,r),this.icon=new ke(e?e.icon:null,t,i,r)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class Ae{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class Pe{constructor(){this.invProjMatrix=e.Z(),this.viewportMatrix=e.Z(),this.circles=[]}}class Ne{constructor(e,t,n,i,r){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=i,this.tileID=r}}class Me{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function Re(t,n,i,r,s){const{horizontalAlign:a,verticalAlign:o}=e.au(t);return new e.P(-(a-.5)*n+r[0]*s,-(o-.5)*i+r[1]*s)}function Oe(t,n,i,r,s,a){const{x1:o,x2:l,y1:c,y2:u,anchorPointX:h,anchorPointY:d}=t,p=new e.P(n,i);return r&&p._rotate(s?a:-a),{x1:o+p.x,y1:c+p.y,x2:l+p.x,y2:u+p.y,anchorPointX:h,anchorPointY:d}}class De{constructor(e,t,n,i,r){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new Te(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new Me(i),this.collisionCircleArrays={},this.prevPlacement=r,r&&(r.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(t,n,i,r){const s=i.getBucket(n),a=i.latestFeatureIndex;if(!s||!a||n.id!==s.layerIds[0])return;const o=i.collisionBoxArray,l=s.layers[0].layout,c=Math.pow(2,this.transform.zoom-i.tileID.overscaledZ),u=i.tileSize/e.N,h=this.transform.calculatePosMatrix(i.tileID.toUnwrapped()),d="map"===l.get("text-pitch-alignment"),p="map"===l.get("text-rotation-alignment"),f=Ie(i,1,this.transform.zoom),m=oe(h,d,p,this.transform,f);let g=null;if(d){const t=le(h,d,p,this.transform,f);g=e.a1([],this.transform.labelPlaneMatrix,t)}this.retainedQueryData[s.bucketInstanceId]=new Ne(s.bucketInstanceId,a,s.sourceLayerIndex,s.index,i.tileID);const y={bucket:s,layout:l,posMatrix:h,textLabelPlaneMatrix:m,labelToScreenMatrix:g,scale:c,textPixelRatio:u,holdingForFade:i.holdingForFade(),collisionBoxArray:o,partiallyEvaluatedTextSize:e.ah(s.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(s.sourceID)};if(r)for(const e of s.sortKeyRanges){const{sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r}=e;t.push({sortKey:n,symbolInstanceStart:i,symbolInstanceEnd:r,parameters:y})}else t.push({symbolInstanceStart:0,symbolInstanceEnd:s.symbolInstances.length,parameters:y})}attemptAnchorPlacement(t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g){const y=e.aq[t.textAnchor],v=[t.textOffset0,t.textOffset1],_=Re(y,i,r,v,s),b=this.collisionIndex.placeCollisionBox(Oe(n,_.x,_.y,a,o,this.transform.angle),h,l,c,u.predicate,g);if((!m||0!==this.collisionIndex.placeCollisionBox(Oe(m,_.x,_.y,a,o,this.transform.angle),h,l,c,u.predicate,g).box.length)&&b.box.length>0){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID]&&this.prevPlacement.placements[d.crossTileID].text&&(e=this.prevPlacement.variableOffsets[d.crossTileID].anchor),0===d.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[d.crossTileID]={textOffset:v,width:i,height:r,anchor:y,textBoxScale:s,prevAnchor:e},this.markUsedJustification(p,y,d,f),p.allowVerticalPlacement&&(this.markUsedOrientation(p,f,d),this.placedOrientations[d.crossTileID]=f),{shift:_,placedGlyphBoxes:b}}}placeLayerBucketPart(t,n,i){const{bucket:r,layout:s,posMatrix:a,textLabelPlaneMatrix:o,labelToScreenMatrix:l,textPixelRatio:c,holdingForFade:u,collisionBoxArray:h,partiallyEvaluatedTextSize:d,collisionGroup:p}=t.parameters,f=s.get("text-optional"),m=s.get("icon-optional"),g=e.ar(s,"text-overlap","text-allow-overlap"),y="always"===g,v=e.ar(s,"icon-overlap","icon-allow-overlap"),_="always"===v,b="map"===s.get("text-rotation-alignment"),x="map"===s.get("text-pitch-alignment"),w="none"!==s.get("icon-text-fit"),S="viewport-y"===s.get("symbol-z-order"),E=y&&(_||!r.hasIconData()||m),T=_&&(y||!r.hasTextData()||f);!r.collisionArrays&&h&&r.deserializeCollisionBoxes(h);const I=this.retainedQueryData[r.bucketInstanceId].tileID,k=this.terrain?(e,t)=>this.terrain.getElevation(I,e,t):null,C=(t,h)=>{var _,S;if(n[t.crossTileID])return;if(u)return void(this.placements[t.crossTileID]=new Ae(!1,!1,!1));let I=!1,C=!1,A=!0,P=null,N={box:null,offscreen:null},M={box:null,offscreen:null},R=null,O=null,D=null,L=0,z=0,j=0;h.textFeatureIndex?L=h.textFeatureIndex:t.useRuntimeCollisionCircles&&(L=t.featureIndex),h.verticalTextFeatureIndex&&(z=h.verticalTextFeatureIndex);const F=h.textBox;if(F){const n=n=>{let i=e.ai.horizontal;if(r.allowVerticalPlacement&&!n&&this.prevPlacement){const e=this.prevPlacement.placedOrientations[t.crossTileID];e&&(this.placedOrientations[t.crossTileID]=e,i=e,this.markUsedOrientation(r,i,t))}return i},i=(n,i)=>{if(r.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&h.verticalTextBox){for(const t of r.writingModes)if(t===e.ai.vertical?(N=i(),M=N):N=n(),N&&N.box&&N.box.length)break}else N=n()},s=t.textAnchorOffsetStartIndex,o=t.textAnchorOffsetEndIndex;if(o===s){const s=(e,n)=>{const i=this.collisionIndex.placeCollisionBox(e,g,c,a,p.predicate,k);return i&&i.box&&i.box.length&&(this.markUsedOrientation(r,n,t),this.placedOrientations[t.crossTileID]=n),i};i((()=>s(F,e.ai.horizontal)),(()=>{const n=h.verticalTextBox;return r.allowVerticalPlacement&&t.numVerticalGlyphVertices>0&&n?s(n,e.ai.vertical):{box:null,offscreen:null}})),n(N&&N.box&&N.box.length)}else{let l=e.aq[null===(S=null===(_=this.prevPlacement)||void 0===_?void 0:_.variableOffsets[t.crossTileID])||void 0===S?void 0:S.anchor];const u=(e,n,i)=>{const u=e.x2-e.x1,h=e.y2-e.y1,d=t.textBoxScale,f=w&&"never"===v?n:null;let m={box:[],offscreen:!1},y="never"===g?1:2,_="never";l&&y++;for(let v=0;v<y;v++){for(let n=s;n<o;n++){const s=r.textAnchorOffsets.get(n);if(l&&s.textAnchor!==l)continue;const o=this.attemptAnchorPlacement(s,e,u,h,d,b,x,c,a,p,_,t,r,i,f,k);if(o&&(m=o.placedGlyphBoxes,m&&m.box&&m.box.length))return I=!0,P=o.shift,m}l?l=null:_=g}return m};i((()=>u(F,h.iconBox,e.ai.horizontal)),(()=>{const n=h.verticalTextBox;return r.allowVerticalPlacement&&!(N&&N.box&&N.box.length)&&t.numVerticalGlyphVertices>0&&n?u(n,h.verticalIconBox,e.ai.vertical):{box:null,offscreen:null}})),N&&(I=N.box,A=N.offscreen);const d=n(N&&N.box);if(!I&&this.prevPlacement){const e=this.prevPlacement.variableOffsets[t.crossTileID];e&&(this.variableOffsets[t.crossTileID]=e,this.markUsedJustification(r,e.anchor,t,d))}}}if(R=N,I=R&&R.box&&R.box.length>0,A=R&&R.offscreen,t.useRuntimeCollisionCircles){const n=r.text.placedSymbolArray.get(t.centerJustifiedTextSymbolIndex),c=e.aj(r.textSizeData,d,n),u=s.get("text-padding");O=this.collisionIndex.placeCollisionCircles(g,n,r.lineVertexArray,r.glyphOffsetArray,c,a,o,l,i,x,p.predicate,t.collisionCircleDiameter,u,k),O.circles.length&&O.collisionDetected&&!i&&e.w("Collisions detected, but collision boxes are not shown"),I=y||O.circles.length>0&&!O.collisionDetected,A=A&&O.offscreen}if(h.iconFeatureIndex&&(j=h.iconFeatureIndex),h.iconBox){const e=e=>{const t=w&&P?Oe(e,P.x,P.y,b,x,this.transform.angle):e;return this.collisionIndex.placeCollisionBox(t,v,c,a,p.predicate,k)};M&&M.box&&M.box.length&&h.verticalIconBox?(D=e(h.verticalIconBox),C=D.box.length>0):(D=e(h.iconBox),C=D.box.length>0),A=A&&D.offscreen}const B=f||0===t.numHorizontalGlyphVertices&&0===t.numVerticalGlyphVertices,V=m||0===t.numIconVertices;if(B||V?V?B||(C=C&&I):I=C&&I:C=I=C&&I,I&&R&&R.box&&this.collisionIndex.insertCollisionBox(R.box,g,s.get("text-ignore-placement"),r.bucketInstanceId,M&&M.box&&z?z:L,p.ID),C&&D&&this.collisionIndex.insertCollisionBox(D.box,v,s.get("icon-ignore-placement"),r.bucketInstanceId,j,p.ID),O&&(I&&this.collisionIndex.insertCollisionCircles(O.circles,g,s.get("text-ignore-placement"),r.bucketInstanceId,L,p.ID),i)){const e=r.bucketInstanceId;let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=new Pe);for(let n=0;n<O.circles.length;n+=4)t.circles.push(O.circles[n+0]),t.circles.push(O.circles[n+1]),t.circles.push(O.circles[n+2]),t.circles.push(O.collisionDetected?1:0)}if(0===t.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===r.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[t.crossTileID]=new Ae(I||E,C||T,A||r.justReloaded),n[t.crossTileID]=!0};if(S){if(0!==t.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const e=r.getSortedSymbolIndexes(this.transform.angle);for(let t=e.length-1;t>=0;--t){const n=e[t];C(r.symbolInstances.get(n),r.collisionArrays[n])}}else for(let e=t.symbolInstanceStart;e<t.symbolInstanceEnd;e++)C(r.symbolInstances.get(e),r.collisionArrays[e]);if(i&&r.bucketInstanceId in this.collisionCircleArrays){const t=this.collisionCircleArrays[r.bucketInstanceId];e.as(t.invProjMatrix,a),t.viewportMatrix=this.collisionIndex.getViewportMatrix()}r.justReloaded=!1}markUsedJustification(t,n,i,r){let s;s=r===e.ai.vertical?i.verticalPlacedTextSymbolIndex:{left:i.leftJustifiedTextSymbolIndex,center:i.centerJustifiedTextSymbolIndex,right:i.rightJustifiedTextSymbolIndex}[e.at(n)];const a=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex,i.verticalPlacedTextSymbolIndex];for(const e of a)e>=0&&(t.text.placedSymbolArray.get(e).crossTileID=s>=0&&e!==s?0:i.crossTileID)}markUsedOrientation(t,n,i){const r=n===e.ai.horizontal||n===e.ai.horizontalOnly?n:0,s=n===e.ai.vertical?n:0,a=[i.leftJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.rightJustifiedTextSymbolIndex];for(const e of a)t.text.placedSymbolArray.get(e).placedOrientation=r;i.verticalPlacedTextSymbolIndex&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).placedOrientation=s)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const i=t?t.symbolFadeChange(e):1,r=t?t.opacities:{},s=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const o in this.placements){const e=this.placements[o],t=r[o];t?(this.opacities[o]=new Ce(t,i,e.text,e.icon),n=n||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[o]=new Ce(null,i,e.text,e.icon,e.skipFade),n=n||e.text||e.icon)}for(const o in r){const e=r[o];if(!this.opacities[o]){const t=new Ce(e,i,!1,!1);t.isHidden()||(this.opacities[o]=t,n=n||e.text.placed||e.icon.placed)}}for(const o in s)this.variableOffsets[o]||!this.opacities[o]||this.opacities[o].isHidden()||(this.variableOffsets[o]=s[o]);for(const o in a)this.placedOrientations[o]||!this.opacities[o]||this.opacities[o].isHidden()||(this.placedOrientations[o]=a[o]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const i of t){const t=i.getBucket(e);t&&i.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,n,i.collisionBoxArray)}}updateBucketOpacities(t,n,i){t.hasTextData()&&(t.text.opacityVertexArray.clear(),t.text.hasVisibleVertices=!1),t.hasIconData()&&(t.icon.opacityVertexArray.clear(),t.icon.hasVisibleVertices=!1),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexArray.clear(),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexArray.clear();const r=t.layers[0],s=r.layout,a=new Ce(null,0,!1,!1,!0),o=s.get("text-allow-overlap"),l=s.get("icon-allow-overlap"),c=r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"),u="map"===s.get("text-rotation-alignment"),h="map"===s.get("text-pitch-alignment"),d="none"!==s.get("icon-text-fit"),p=new Ce(null,0,o&&(l||!t.hasIconData()||s.get("icon-optional")),l&&(o||!t.hasTextData()||s.get("text-optional")),!0);!t.collisionArrays&&i&&(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData())&&t.deserializeCollisionBoxes(i);const f=(e,t,n)=>{for(let i=0;i<t/4;i++)e.opacityVertexArray.emplaceBack(n);e.hasVisibleVertices=e.hasVisibleVertices||n!==Ge};for(let m=0;m<t.symbolInstances.length;m++){const i=t.symbolInstances.get(m),{numHorizontalGlyphVertices:r,numVerticalGlyphVertices:s,crossTileID:o}=i;let l=this.opacities[o];n[o]?l=a:l||(l=p,this.opacities[o]=l),n[o]=!0;const g=i.numIconVertices>0,y=this.placedOrientations[i.crossTileID],v=y===e.ai.vertical,_=y===e.ai.horizontal||y===e.ai.horizontalOnly;if(r>0||s>0){const e=He(l.text);f(t.text,r,v?Ge:e),f(t.text,s,_?Ge:e);const n=l.text.isHidden();[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((e=>{e>=0&&(t.text.placedSymbolArray.get(e).hidden=n||v?1:0)})),i.verticalPlacedTextSymbolIndex>=0&&(t.text.placedSymbolArray.get(i.verticalPlacedTextSymbolIndex).hidden=n||_?1:0);const a=this.variableOffsets[i.crossTileID];a&&this.markUsedJustification(t,a.anchor,i,y);const o=this.placedOrientations[i.crossTileID];o&&(this.markUsedJustification(t,"left",i,o),this.markUsedOrientation(t,o,i))}if(g){const e=He(l.icon),n=!(d&&i.verticalPlacedIconSymbolIndex&&v);i.placedIconSymbolIndex>=0&&(f(t.icon,i.numIconVertices,n?e:Ge),t.icon.placedSymbolArray.get(i.placedIconSymbolIndex).hidden=l.icon.isHidden()),i.verticalPlacedIconSymbolIndex>=0&&(f(t.icon,i.numVerticalIconVertices,n?Ge:e),t.icon.placedSymbolArray.get(i.verticalPlacedIconSymbolIndex).hidden=l.icon.isHidden())}if(t.hasIconCollisionBoxData()||t.hasTextCollisionBoxData()){const n=t.collisionArrays[m];if(n){let i=new e.P(0,0);if(n.textBox||n.verticalTextBox){let e=!0;if(c){const t=this.variableOffsets[o];t?(i=Re(t.anchor,t.width,t.height,t.textOffset,t.textBoxScale),u&&i._rotate(h?this.transform.angle:-this.transform.angle)):e=!1}n.textBox&&Le(t.textCollisionBox.collisionVertexArray,l.text.placed,!e||v,i.x,i.y),n.verticalTextBox&&Le(t.textCollisionBox.collisionVertexArray,l.text.placed,!e||_,i.x,i.y)}const r=Boolean(!_&&n.verticalIconBox);n.iconBox&&Le(t.iconCollisionBox.collisionVertexArray,l.icon.placed,r,d?i.x:0,d?i.y:0),n.verticalIconBox&&Le(t.iconCollisionBox.collisionVertexArray,l.icon.placed,!r,d?i.x:0,d?i.y:0)}}}if(t.sortFeatures(this.transform.angle),this.retainedQueryData[t.bucketInstanceId]&&(this.retainedQueryData[t.bucketInstanceId].featureSortOrder=t.featureSortOrder),t.hasTextData()&&t.text.opacityVertexBuffer&&t.text.opacityVertexBuffer.updateData(t.text.opacityVertexArray),t.hasIconData()&&t.icon.opacityVertexBuffer&&t.icon.opacityVertexBuffer.updateData(t.icon.opacityVertexArray),t.hasIconCollisionBoxData()&&t.iconCollisionBox.collisionVertexBuffer&&t.iconCollisionBox.collisionVertexBuffer.updateData(t.iconCollisionBox.collisionVertexArray),t.hasTextCollisionBoxData()&&t.textCollisionBox.collisionVertexBuffer&&t.textCollisionBox.collisionVertexBuffer.updateData(t.textCollisionBox.collisionVertexArray),t.text.opacityVertexArray.length!==t.text.layoutVertexArray.length/4)throw new Error("bucket.text.opacityVertexArray.length (= ".concat(t.text.opacityVertexArray.length,") !== bucket.text.layoutVertexArray.length (= ").concat(t.text.layoutVertexArray.length,") / 4"));if(t.icon.opacityVertexArray.length!==t.icon.layoutVertexArray.length/4)throw new Error("bucket.icon.opacityVertexArray.length (= ".concat(t.icon.opacityVertexArray.length,") !== bucket.icon.layoutVertexArray.length (= ").concat(t.icon.layoutVertexArray.length,") / 4"));if(t.bucketInstanceId in this.collisionCircleArrays){const e=this.collisionCircleArrays[t.bucketInstanceId];t.placementInvProjMatrix=e.invProjMatrix,t.placementViewportMatrix=e.viewportMatrix,t.collisionCircleArray=e.circles,delete this.collisionCircleArrays[t.bucketInstanceId]}}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function Le(e,t,n,i,r){e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0),e.emplaceBack(t?1:0,n?1:0,i||0,r||0)}const ze=Math.pow(2,25),je=Math.pow(2,24),Fe=Math.pow(2,17),Be=Math.pow(2,16),Ve=Math.pow(2,9),Ue=Math.pow(2,8),qe=Math.pow(2,1);function He(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*ze+t*je+n*Fe+t*Be+n*Ve+t*Ue+n*qe+t}const Ge=0;class We{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,i,r){const s=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(s,i,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,r())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,s.sort(((e,t)=>e.sortKey-t.sortKey)));this._currentPartIndex<s.length;)if(t.placeLayerBucketPart(s[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,r())return!0;return!1}}class Ke{constructor(e,t,n,i,r,s,a,o){this.placement=new De(e,t,s,a,o),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=i,this._showCollisionBoxes=r,this._done=!1}isDone(){return this._done}continuePlacement(t,n,i){const r=e.h.now(),s=()=>!this._forceFullPlacement&&e.h.now()-r>2;for(;this._currentPlacementIndex>=0;){const e=n[t[this._currentPlacementIndex]],r=this.placement.collisionIndex.transform.zoom;if("symbol"===e.type&&(!e.minzoom||e.minzoom<=r)&&(!e.maxzoom||e.maxzoom>r)){if(this._inProgressLayer||(this._inProgressLayer=new We(e)),this._inProgressLayer.continuePlacement(i[e.source],this.placement,this._showCollisionBoxes,e,s))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Ye=512/e.N/2;class Ze{constructor(t,n,i){this.tileID=t,this.bucketInstanceId=i,this._symbolsByKey={};const r=new Map;for(let e=0;e<n.length;e++){const t=n.get(e),i=t.key,s=r.get(i);s?s.push(t):r.set(i,[t])}for(const[s,a]of r){const t={positions:a.map((e=>({x:Math.floor(e.anchorX*Ye),y:Math.floor(e.anchorY*Ye)}))),crossTileIDs:a.map((e=>e.crossTileID))};if(t.positions.length>128){const n=new e.av(t.positions.length,16,Uint16Array);for(const{x:e,y:i}of t.positions)n.add(e,i);n.finish(),delete t.positions,t.index=n}this._symbolsByKey[s]=t}}getScaledCoordinates(t,n){const{x:i,y:r,z:s}=this.tileID.canonical,{x:a,y:o,z:l}=n.canonical,c=Ye/Math.pow(2,l-s),u=(o*e.N+t.anchorY)*c,h=r*e.N*Ye;return{x:Math.floor((a*e.N+t.anchorX)*c-i*e.N*Ye),y:Math.floor(u-h)}}findMatches(e,t,n){const i=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let r=0;r<e.length;r++){const s=e.get(r);if(s.crossTileID)continue;const a=this._symbolsByKey[s.key];if(!a)continue;const o=this.getScaledCoordinates(s,t);if(a.index){const e=a.index.range(o.x-i,o.y-i,o.x+i,o.y+i).sort();for(const t of e){const e=a.crossTileIDs[t];if(!n[e]){n[e]=!0,s.crossTileID=e;break}}}else if(a.positions)for(let e=0;e<a.positions.length;e++){const t=a.positions[e],r=a.crossTileIDs[e];if(Math.abs(t.x-o.x)<=i&&Math.abs(t.y-o.y)<=i&&!n[r]){n[r]=!0,s.crossTileID=r;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map((e=>{let{crossTileIDs:t}=e;return t}))}}class Xe{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Qe{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const n in this.indexes){const e=this.indexes[n],i={};for(const n in e){const r=e[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+t),i[r.tileID.key]=r}this.indexes[n]=i}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let r=0;r<t.symbolInstances.length;r++)t.symbolInstances.get(r).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const i=this.usedCrossTileIDs[e.overscaledZ];for(const r in this.indexes){const n=this.indexes[r];if(Number(r)>e.overscaledZ)for(const r in n){const s=n[r];s.tileID.isChildOf(e)&&s.findMatches(t.symbolInstances,e,i)}else{const s=n[e.scaledTo(Number(r)).key];s&&s.findMatches(t.symbolInstances,e,i)}}for(let r=0;r<t.symbolInstances.length;r++){const e=t.symbolInstances.get(r);e.crossTileID||(e.crossTileID=n.generate(),i[e.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new Ze(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n of t.getCrossTileIDsLists())for(const t of n)delete this.usedCrossTileIDs[e][t]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const i=this.indexes[n];for(const r in i)e[i[r].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,i[r]),delete i[r],t=!0)}return t}}class Je{constructor(){this.layerIndexes={},this.crossTileIDs=new Xe,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let i=this.layerIndexes[e.id];void 0===i&&(i=this.layerIndexes[e.id]=new Qe);let r=!1;const s={};i.handleWrapJump(n);for(const a of t){const t=a.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),i.addBucket(a.tileID,t,this.crossTileIDs)&&(r=!0),s[t.bucketInstanceId]=!0)}return i.removeStaleBuckets(s)&&(r=!0),r}pruneUnusedLayers(e){const t={};e.forEach((e=>{t[e]=!0}));for(const n in this.layerIndexes)t[n]||delete this.layerIndexes[n]}}const $e=(t,n)=>e.x(t,n&&n.filter((e=>"source.canvas"!==e.identifier))),et=e.F(e.ax,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setGlyphs","setSprite"]),tt=e.F(e.ax,["setCenter","setZoom","setBearing","setPitch"]),nt=e.aw();class it extends e.E{constructor(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this.map=t,this.dispatcher=new P(ie(),this,t._getMapId()),this.imageManager=new x,this.imageManager.setEventedParent(this),this.glyphManager=new T(t._requestManager,n.localIdeographFontFamily),this.lineAtlas=new A(256,512),this.crossTileSymbolIndex=new Je,this._spritesImagesIds={},this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory=new e.ay,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",e.az());const i=this;this._rtlTextPluginCallback=it.registerForPluginStateChange((t=>{i.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:t.pluginStatus,pluginURL:t.pluginURL},((t,n)=>{if(e.aA(t),n&&n.every((e=>e)))for(const e in i.sourceCaches){const t=i.sourceCaches[e].getSource().type;"vector"!==t&&"geojson"!==t||i.sourceCaches[e].reload()}}))})),this.on("data",(e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.sourceCaches[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const i in this._layers){const e=this._layers[i];e.source===n.id&&this._validateLayer(e)}}))}loadURL(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),n.validate="boolean"!=typeof n.validate||n.validate;const r=this.map._requestManager.transformRequest(t,u.Style);this._request=e.f(r,((t,r)=>{this._request=null,t?this.fire(new e.j(t)):r&&this._load(r,n,i)}))}loadJSON(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this.fire(new e.k("dataloading",{dataType:"style"})),this._request=e.h.frame((()=>{this._request=null,n.validate=!1!==n.validate,this._load(t,n,i)}))}loadEmpty(){this.fire(new e.k("dataloading",{dataType:"style"})),this._load(nt,{validate:!1})}_load(t,n,i){var r;const s=n.transformStyle?n.transformStyle(i,t):t;if(!n.validate||!$e(this,e.y(s))){this._loaded=!0,this.stylesheet=s;for(const e in s.sources)this.addSource(e,s.sources[e],{validate:!1});s.sprite?this._loadSprite(s.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(s.glyphs),this._createLayers(),this.light=new C(this.stylesheet.light),this.map.setTerrain(null!==(r=this.stylesheet.terrain)&&void 0!==r?r:null),this.fire(new e.k("data",{dataType:"style"})),this.fire(new e.k("style.load"))}}_createLayers(){const t=e.aB(this.stylesheet.layers);this.dispatcher.broadcast("setLayers",t),this._order=t.map((e=>e.id)),this._layers={},this._serializedLayers=null;for(const n of t){const t=e.aC(n);t.setEventedParent(this,{layer:{id:n.id}}),this._layers[n.id]=t}}_loadSprite(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.imageManager.setLoaded(!1),this._spriteRequest=function(t,n,i,r){const s=y(t),a=s.length,o=i>1?"@2x":"",l={},h={},d={};for(const{id:p,url:f}of s){const t=n.transformRequest(n.normalizeSpriteURL(f,o,".json"),u.SpriteJSON),i="".concat(p,"_").concat(t.url);l[i]=e.f(t,((e,t)=>{delete l[i],h[p]=t,v(r,h,d,e,a)}));const s=n.transformRequest(n.normalizeSpriteURL(f,o,".png"),u.SpriteImage),m="".concat(p,"_").concat(s.url);l[m]=c.getImage(s,((e,t)=>{delete l[m],d[p]=t,v(r,h,d,e,a)}))}return{cancel(){for(const e of Object.values(l))e.cancel()}}}(t,this.map._requestManager,this.map.getPixelRatio(),((t,r)=>{if(this._spriteRequest=null,t)this.fire(new e.j(t));else if(r)for(const e in r){this._spritesImagesIds[e]=[];const t=this._spritesImagesIds[e]?this._spritesImagesIds[e].filter((e=>!(e in r))):[];for(const e of t)this.imageManager.removeImage(e),this._changedImages[e]=!0;for(const i in r[e]){const t="default"===e?i:"".concat(e,":").concat(i);this._spritesImagesIds[e].push(t),t in this.imageManager.images?this.imageManager.updateImage(t,r[e][i],!1):this.imageManager.addImage(t,r[e][i]),n&&(this._changedImages[t]=!0)}}this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),n&&(this._changed=!0),this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"})),i&&i(t)}))}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}_validateLayer(t){const n=this.sourceCaches[t.source];if(!n)return;const i=t.sourceLayer;if(!i)return;const r=n.getSource();("geojson"===r.type||r.vectorLayerIds&&-1===r.vectorLayerIds.indexOf(i))&&this.fire(new e.j(new Error('Source layer "'.concat(i,'" does not exist on source "').concat(r.id,'" as specified by style layer "').concat(t.id,'".'))))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.sourceCaches)if(!this.sourceCaches[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e){const t=this._serializedAllLayers();if(!e||0===e.length)return Object.values(t);const n=[];for(const i of e)t[i]&&n.push(t[i]);return n}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const t=Object.keys(this._layers);for(const n of t){const t=this._layers[n];"custom"!==t.type&&(e[n]=t.serialize())}return e}hasTransitions(){if(this.light&&this.light.hasTransition())return!0;for(const e in this.sourceCaches)if(this.sourceCaches[e].hasTransition())return!0;for(const e in this._layers)if(this._layers[e].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(t){if(!this._loaded)return;const n=this._changed;if(this._changed){const e=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(e.length||n.length)&&this._updateWorkerLayers(e,n);for(const t in this._updatedSources){const e=this._updatedSources[t];if("reload"===e)this._reloadSource(t);else{if("clear"!==e)throw new Error("Invalid action ".concat(e));this._clearSource(t)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const i in this._updatedPaintProps)this._layers[i].updateTransitions(t);this.light.updateTransitions(t),this._resetUpdates()}const i={};for(const e in this.sourceCaches){const t=this.sourceCaches[e];i[e]=t.used,t.used=!1}for(const e of this._order){const n=this._layers[e];n.recalculate(t,this._availableImages),!n.isHidden(t.zoom)&&n.source&&(this.sourceCaches[n.source].used=!0)}for(const r in i){const t=this.sourceCaches[r];i[r]!==t.used&&t.fire(new e.k("data",{sourceDataType:"visibility",dataType:"source",sourceId:r}))}this.light.recalculate(t),this.z=t.zoom,n&&this.fire(new e.k("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.sourceCaches)this.sourceCaches[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.sourceCaches)this.sourceCaches[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("updateLayers",{layers:this._serializeByIds(e),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();const i=this.serialize();if(t=n.transformStyle?n.transformStyle(i,t):t,$e(this,e.y(t)))return!1;(t=e.aD(t)).layers=e.aB(t.layers);const r=e.aE(i,t).filter((e=>!(e.command in tt)));if(0===r.length)return!1;const s=r.filter((e=>!(e.command in et)));if(s.length>0)throw new Error("Unimplemented: ".concat(s.map((e=>e.command)).join(", "),"."));for(const e of r)"setTransition"!==e.command&&this[e.command].apply(this,e.args);return this.stylesheet=t,this._serializedLayers=null,!0}addImage(t,n){if(this.getImage(t))return this.fire(new e.j(new Error('An image named "'.concat(t,'" already exists.'))));this.imageManager.addImage(t,n),this._afterImageUpdated(t)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(t){if(!this.getImage(t))return this.fire(new e.j(new Error('An image named "'.concat(t,'" does not exist.'))));this.imageManager.removeImage(t),this._afterImageUpdated(t)}_afterImageUpdated(t){this._availableImages=this.imageManager.listImages(),this._changedImages[t]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error('Source "'.concat(t,'" already exists.'));if(!n.type)throw new Error("The type property must be defined, but only the following properties were given: ".concat(Object.keys(n).join(", "),"."));if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(e.y.source,"sources.".concat(t),n,null,i))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const r=this.sourceCaches[t]=new X(t,n,this.dispatcher);r.style=this,r.setEventedParent(this,(()=>({isSourceLoaded:r.loaded(),source:r.serialize(),sourceId:t}))),r.onAdd(this.map),this._changed=!0}removeSource(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");for(const i in this._layers)if(this._layers[i].source===t)return this.fire(new e.j(new Error('Source "'.concat(t,'" cannot be removed while layer "').concat(i,'" is using it.'))));const n=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],n.fire(new e.k("data",{sourceDataType:"metadata",dataType:"source",sourceId:t})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.sourceCaches[e])throw new Error("There is no source with this ID=".concat(e));const n=this.sourceCaches[e].getSource();if("geojson"!==n.type)throw new Error("geojsonSource.type is ".concat(n.type,", which is !== 'geojson"));n.setData(t),this._changed=!0}getSource(e){return this.sourceCaches[e]&&this.sourceCaches[e].getSource()}addLayer(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const r=t.id;if(this.getLayer(r))return void this.fire(new e.j(new Error('Layer "'.concat(r,'" already exists on this map.'))));let s;if("custom"===t.type){if($e(this,e.aF(t)))return;s=e.aC(t)}else{if("source"in t&&"object"==typeof t.source&&(this.addSource(r,t.source),t=e.aD(t),t=e.e(t,{source:r})),this._validate(e.y.layer,"layers.".concat(r),t,{arrayIndex:-1},i))return;s=e.aC(t),this._validateLayer(s),s.setEventedParent(this,{layer:{id:r}})}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new e.j(new Error('Cannot add layer "'.concat(r,'" before non-existing layer "').concat(n,'".'))));else{if(this._order.splice(a,0,r),this._layerOrderChanged=!0,this._layers[r]=s,this._removedLayers[r]&&s.source&&"custom"!==s.type){const e=this._removedLayers[r];delete this._removedLayers[r],e.type!==s.type?this._updatedSources[s.source]="clear":(this._updatedSources[s.source]="reload",this.sourceCaches[s.source].pause())}this._updateLayer(s),s.onAdd&&s.onAdd(this.map)}}moveLayer(t,n){if(this._checkLoaded(),this._changed=!0,!this._layers[t])return void this.fire(new e.j(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be moved."))));if(t===n)return;const i=this._order.indexOf(t);this._order.splice(i,1);const r=n?this._order.indexOf(n):this._order.length;n&&-1===r?this.fire(new e.j(new Error('Cannot move layer "'.concat(t,'" before non-existing layer "').concat(n,'".')))):(this._order.splice(r,0,t),this._layerOrderChanged=!0)}removeLayer(t){this._checkLoaded();const n=this._layers[t];if(!n)return void this.fire(new e.j(new Error('Cannot remove non-existing layer "'.concat(t,'".'))));n.setEventedParent(null);const i=this._order.indexOf(t);this._order.splice(i,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[t]=n,delete this._layers[t],this._serializedLayers&&delete this._serializedLayers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}hasLayer(e){return e in this._layers}setLayerZoomRange(t,n,i){this._checkLoaded();const r=this.getLayer(t);r?r.minzoom===n&&r.maxzoom===i||(null!=n&&(r.minzoom=n),null!=i&&(r.maxzoom=i),this._updateLayer(r)):this.fire(new e.j(new Error('Cannot set the zoom range of non-existing layer "'.concat(t,'".'))))}setFilter(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._checkLoaded();const r=this.getLayer(t);if(r){if(!e.aG(r.filter,n))return null==n?(r.filter=void 0,void this._updateLayer(r)):void(this._validate(e.y.filter,"layers.".concat(r.id,".filter"),n,null,i)||(r.filter=e.aD(n),this._updateLayer(r)))}else this.fire(new e.j(new Error('Cannot filter non-existing layer "'.concat(t,'".'))))}getFilter(t){return e.aD(this.getLayer(t).filter)}setLayoutProperty(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const s=this.getLayer(t);s?e.aG(s.getLayoutProperty(n),i)||(s.setLayoutProperty(n,i,r),this._updateLayer(s)):this.fire(new e.j(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}getLayoutProperty(t,n){const i=this.getLayer(t);if(i)return i.getLayoutProperty(n);this.fire(new e.j(new Error('Cannot get style of non-existing layer "'.concat(t,'".'))))}setPaintProperty(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._checkLoaded();const s=this.getLayer(t);s?e.aG(s.getPaintProperty(n),i)||(s.setPaintProperty(n,i,r)&&this._updateLayer(s),this._changed=!0,this._updatedPaintProps[t]=!0):this.fire(new e.j(new Error('Cannot style non-existing layer "'.concat(t,'".'))))}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(t,n){this._checkLoaded();const i=t.source,r=t.sourceLayer,s=this.sourceCaches[i];if(void 0===s)return void this.fire(new e.j(new Error("The source '".concat(i,"' does not exist in the map's style."))));const a=s.getSource().type;"geojson"===a&&r?this.fire(new e.j(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||r?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),s.setFeatureState(r,t.id,n)):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(t,n){this._checkLoaded();const i=t.source,r=this.sourceCaches[i];if(void 0===r)return void this.fire(new e.j(new Error("The source '".concat(i,"' does not exist in the map's style."))));const s=r.getSource().type,a="vector"===s?t.sourceLayer:void 0;"vector"!==s||a?n&&"string"!=typeof t.id&&"number"!=typeof t.id?this.fire(new e.j(new Error("A feature id is required to remove its specific state property."))):r.removeFeatureState(a,t.id,n):this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(t){this._checkLoaded();const n=t.source,i=t.sourceLayer,r=this.sourceCaches[n];if(void 0!==r)return"vector"!==r.getSource().type||i?(void 0===t.id&&this.fire(new e.j(new Error("The feature id parameter must be provided."))),r.getFeatureState(i,t.id)):void this.fire(new e.j(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new e.j(new Error("The source '".concat(n,"' does not exist in the map's style."))))}getTransition(){return e.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const t=e.aH(this.sourceCaches,(e=>e.serialize())),n=this._serializeByIds(this._order),i=this.map.getTerrain()||void 0,r=this.stylesheet;return e.aI({version:r.version,name:r.name,metadata:r.metadata,light:r.light,center:r.center,zoom:r.zoom,bearing:r.bearing,pitch:r.pitch,sprite:r.sprite,glyphs:r.glyphs,transition:r.transition,sources:t,layers:n,terrain:i},(e=>void 0!==e))}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.sourceCaches[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.sourceCaches[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},i=[];for(let s=this._order.length-1;s>=0;s--){const r=this._order[s];if(t(r)){n[r]=s;for(const t of e){const e=t[r];if(e)for(const t of e)i.push(t)}}}i.sort(((e,t)=>t.intersectionZ-e.intersectionZ));const r=[];for(let s=this._order.length-1;s>=0;s--){const a=this._order[s];if(t(a))for(let e=i.length-1;e>=0;e--){const t=i[e].feature;if(n[t.layer.id]<s)break;r.push(t),i.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)r.push(t.feature)}}return r}queryRenderedFeatures(t,n,i){n&&n.filter&&this._validate(e.y.filter,"queryRenderedFeatures.filter",n.filter,null,n);const r={};if(n&&n.layers){if(!Array.isArray(n.layers))return this.fire(new e.j(new Error("parameters.layers must be an Array."))),[];for(const t of n.layers){const n=this._layers[t];if(!n)return this.fire(new e.j(new Error("The layer '".concat(t,"' does not exist in the map's style and cannot be queried for features.")))),[];r[n.source]=!0}}const s=[];n.availableImages=this._availableImages;const a=this._serializedAllLayers();for(const e in this.sourceCaches)n.layers&&!r[e]||s.push(G(this.sourceCaches[e],this._layers,a,t,n,i));return this.placement&&s.push(function(e,t,n,i,r,s,a){const o={},l=s.queryRenderedSymbols(i),c=[];for(const u of Object.keys(l).map(Number))c.push(a[u]);c.sort(W);for(const u of c){const n=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],t,u.bucketIndex,u.sourceLayerIndex,r.filter,r.layers,r.availableImages,e);for(const e in n){const t=o[e]=o[e]||[],i=n[e];i.sort(((e,t)=>{const n=u.featureSortOrder;if(n){const i=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-i}return t.featureIndex-e.featureIndex}));for(const e of i)t.push(e)}}for(const u in o)o[u].forEach((t=>{const i=t.feature,r=n[e[u].source].getFeatureState(i.layer["source-layer"],i.id);i.source=i.layer.source,i.layer["source-layer"]&&(i.sourceLayer=i.layer["source-layer"]),i.state=r}));return o}(this._layers,a,this.sourceCaches,t,n,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(s)}querySourceFeatures(t,n){n&&n.filter&&this._validate(e.y.filter,"querySourceFeatures.filter",n.filter,null,n);const i=this.sourceCaches[t];return i?function(e,t){const n=e.getRenderableIds().map((t=>e.getTileByID(t))),i=[],r={};for(let s=0;s<n.length;s++){const e=n[s],a=e.tileID.canonical.key;r[a]||(r[a]=!0,e.querySourceFeatures(i,t))}return i}(i,n):[]}addSourceType(e,t,n){return q(e)?n(new Error('A source type called "'.concat(e,'" already exists.'))):(((e,t)=>{U[e]=t})(e,t),t.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:e,url:t.workerSourceURL},n):n(null,null))}getLight(){return this.light.getLight()}setLight(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded();const i=this.light.getLight();let r=!1;for(const a in t)if(!e.aG(t[a],i[a])){r=!0;break}if(!r)return;const s={now:e.h.now(),transition:e.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(t,n),this.light.updateTransitions(s)}_validate(t,n,i,r){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return(!s||!1!==s.validate)&&$e(this,t.call(e.y,e.e({key:n,style:this.serialize(),value:i,styleSpec:e.v},r)))}_remove(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),e.aJ.off("pluginStateChange",this._rtlTextPluginCallback);for(const e in this._layers)this._layers[e].setEventedParent(null);for(const e in this.sourceCaches){const t=this.sourceCaches[e];t.setEventedParent(null),t.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove(t)}_clearSource(e){this.sourceCaches[e].clearTiles()}_reloadSource(e){this.sourceCaches[e].resume(),this.sourceCaches[e].reload()}_updateSources(e){for(const t in this.sourceCaches)this.sourceCaches[t].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.sourceCaches)this._reloadSource(e)}_updatePlacement(t,n,i,r){let s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=!1,o=!1;const l={};for(const e of this._order){const n=this._layers[e];if("symbol"!==n.type)continue;if(!l[n.source]){const e=this.sourceCaches[n.source];l[n.source]=e.getRenderableIds(!0).map((t=>e.getTileByID(t))).sort(((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1)))}const i=this.crossTileSymbolIndex.addLayer(n,l[n.source],t.center.lng);a=a||i}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((s=s||this._layerOrderChanged||0===i)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(e.h.now(),t.zoom))&&(this.pauseablePlacement=new Ke(t,this.map.terrain,this._order,s,n,i,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,l),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(e.h.now()),o=!0),a&&this.pauseablePlacement.placement.setStale()),o||a)for(const e of this._order){const t=this._layers[e];"symbol"===t.type&&this.placement.updateLayerOpacities(t,l[t.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(e.h.now())}_releaseSymbolFadeTiles(){for(const e in this.sourceCaches)this.sourceCaches[e].releaseSymbolFadeTiles()}getImages(e,t,n){this.imageManager.getImages(t.icons,n),this._updateTilesForChangedImages();const i=this.sourceCaches[t.source];i&&i.setDependencies(t.tileID.key,t.type,t.icons)}getGlyphs(e,t,n){this.glyphManager.getGlyphs(t.stacks,n);const i=this.sourceCaches[t.source];i&&i.setDependencies(t.tileID.key,t.type,[""])}getResource(t,n,i){return e.m(n,i)}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkLoaded(),t&&this._validate(e.y.glyphs,"glyphs",t,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=t,this.glyphManager.entries={},this.glyphManager.setURL(t))}addSprite(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;this._checkLoaded();const s=[{id:t,url:n}],a=[...y(this.stylesheet.sprite),...s];this._validate(e.y.sprite,"sprite",a,null,i)||(this.stylesheet.sprite=a,this._loadSprite(s,!0,r))}removeSprite(t){this._checkLoaded();const n=y(this.stylesheet.sprite);if(n.find((e=>e.id===t))){if(this._spritesImagesIds[t])for(const e of this._spritesImagesIds[t])this.imageManager.removeImage(e),this._changedImages[e]=!0;n.splice(n.findIndex((e=>e.id===t)),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[t],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new e.k("data",{dataType:"style"}))}else this.fire(new e.j(new Error('Sprite "'.concat(t,"\" doesn't exists on this map."))))}getSprite(){return y(this.stylesheet.sprite)}setSprite(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;this._checkLoaded(),t&&this._validate(e.y.sprite,"sprite",t,null,n)||(this.stylesheet.sprite=t,t?this._loadSprite(t,!0,i):(this._unloadSprite(),i&&i(null)))}}it.registerForPluginStateChange=e.aK;var rt=e.Q([{name:"a_pos",type:"Int16",components:2}]),st="attribute vec3 a_pos3d;uniform mat4 u_matrix;uniform float u_ele_delta;varying vec2 v_texture_pos;varying float v_depth;void main() {float extent=8192.0;float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/extent;gl_Position=u_matrix*vec4(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta,1.0);v_depth=gl_Position.z/gl_Position.w;}";const at={prelude:ot("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\n","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture2D(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture2D(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}"),background:ot("uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),backgroundPattern:ot("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:ot("varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;varying float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);float ele=get_elevation(circle_center);v_visibility=calculate_visibility(u_matrix*vec4(circle_center,ele,1.0));if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,ele,1);} else {gl_Position=u_matrix*vec4(circle_center,ele,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:ot("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:ot("uniform highp float u_intensity;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}"),heatmapTexture:ot("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:ot("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,get_elevation(a_pos),1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:ot("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),debug:ot("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,get_elevation(a_pos),1);}"),fill:ot("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_FragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);}"),fillOutline:ot("varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillOutlinePattern:ot("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}"),fillPattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:ot("varying vec4 v_color;void main() {gl_FragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:ot("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;\n#ifdef TERRAIN3D\nattribute vec2 a_centroid;\n#endif\nvarying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:ot("uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;\n#define PI 3.141592653589793\nvoid main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),line:ot("uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nattribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:ot("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:ot("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nattribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}"),raster:ot("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:ot("uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),z,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:ot("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:ot("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\ngl_FragColor=vec4(1.0);\n#endif\n}","const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,ele,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),ele,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,ele,1.0);float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),z,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:ot("uniform sampler2D u_texture;varying vec2 v_texture_pos;void main() {gl_FragColor=texture2D(u_texture,v_texture_pos);}",st),terrainDepth:ot("varying float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {gl_FragColor=pack(v_depth);}",st),terrainCoords:ot("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;varying vec2 v_texture_pos;void main() {vec4 rgba=texture2D(u_texture,v_texture_pos);gl_FragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}",st)};function ot(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,i=t.match(/attribute ([\w]+) ([\w]+)/g),r=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),s=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=s?s.concat(r):r,o={};return{fragmentSource:e=e.replace(n,((e,t,n,i,r)=>(o[r]=!0,"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nvarying ").concat(n," ").concat(i," ").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"\n#ifdef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n")))),vertexSource:t=t.replace(n,((e,t,n,i,r)=>{const s="float"===i?"vec2":"vec4",a=r.match(/color/)?"color":s;return o[r]?"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(n," ").concat(s," a_").concat(r,";\nvarying ").concat(n," ").concat(i," ").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = a_").concat(r,";\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(r," = unpack_mix_").concat(a,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"define"===t?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\nuniform lowp float u_").concat(r,"_t;\nattribute ").concat(n," ").concat(s," a_").concat(r,";\n#else\nuniform ").concat(n," ").concat(i," u_").concat(r,";\n#endif\n"):"vec4"===a?"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = a_").concat(r,";\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n"):"\n#ifndef HAS_UNIFORM_u_".concat(r,"\n    ").concat(n," ").concat(i," ").concat(r," = unpack_mix_").concat(a,"(a_").concat(r,", u_").concat(r,"_t);\n#else\n    ").concat(n," ").concat(i," ").concat(r," = u_").concat(r,";\n#endif\n")})),staticAttributes:i,staticUniforms:a}}class lt{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,i,r,s,a,o,l){this.context=e;let c=this.boundPaintVertexBuffers.length!==i.length;for(let u=0;!c&&u<i.length;u++)this.boundPaintVertexBuffers[u]!==i[u]&&(c=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==r||this.boundVertexOffset!==s||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==o||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,n,i,r,s,a,o,l):(e.bindVertexArray.set(this.vao),a&&a.bind(),r&&r.dynamicDraw&&r.bind(),o&&o.bind(),l&&l.bind())}freshBind(e,t,n,i,r,s,a,o){const l=e.numAttributes,c=this.context,u=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=i,this.boundVertexOffset=r,this.boundDynamicVertexBuffer=s,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=o,t.enableAttributes(u,e);for(const h of n)h.enableAttributes(u,e);s&&s.enableAttributes(u,e),a&&a.enableAttributes(u,e),o&&o.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,r);for(const h of n)h.bind(),h.setVertexAttribPointers(u,e,r);s&&(s.bind(),s.setVertexAttribPointers(u,e,r)),i&&i.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,r)),o&&(o.bind(),o.setVertexAttribPointers(u,e,r)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}function ct(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const i=e[n].split(" ");t.push(i.pop())}return t}class ut{constructor(t,n,i,r,s,a){const o=t.gl;this.program=o.createProgram();const l=ct(n.staticAttributes),c=i?i.getBinderAttributes():[],u=l.concat(c),h=at.prelude.staticUniforms?ct(at.prelude.staticUniforms):[],d=n.staticUniforms?ct(n.staticUniforms):[],p=i?i.getBinderUniforms():[],f=h.concat(d).concat(p),m=[];for(const e of f)m.indexOf(e)<0&&m.push(e);const g=i?i.defines():[];s&&g.push("#define OVERDRAW_INSPECTOR;"),a&&g.push("#define TERRAIN3D;");const y=g.concat(at.prelude.fragmentSource,n.fragmentSource).join("\n"),v=g.concat(at.prelude.vertexSource,n.vertexSource).join("\n"),_=o.createShader(o.FRAGMENT_SHADER);if(o.isContextLost())return void(this.failedToCreate=!0);if(o.shaderSource(_,y),o.compileShader(_),!o.getShaderParameter(_,o.COMPILE_STATUS))throw new Error("Could not compile fragment shader: ".concat(o.getShaderInfoLog(_)));o.attachShader(this.program,_);const b=o.createShader(o.VERTEX_SHADER);if(o.isContextLost())return void(this.failedToCreate=!0);if(o.shaderSource(b,v),o.compileShader(b),!o.getShaderParameter(b,o.COMPILE_STATUS))throw new Error("Could not compile vertex shader: ".concat(o.getShaderInfoLog(b)));o.attachShader(this.program,b),this.attributes={};const x={};this.numAttributes=u.length;for(let e=0;e<this.numAttributes;e++)u[e]&&(o.bindAttribLocation(this.program,e,u[e]),this.attributes[u[e]]=e);if(o.linkProgram(this.program),!o.getProgramParameter(this.program,o.LINK_STATUS))throw new Error("Program failed to link: ".concat(o.getProgramInfoLog(this.program)));o.deleteShader(b),o.deleteShader(_);for(let e=0;e<m.length;e++){const t=m[e];if(t&&!x[t]){const e=o.getUniformLocation(this.program,t);e&&(x[t]=e)}}this.fixedUniforms=r(t,x),this.terrainUniforms=((t,n)=>({u_depth:new e.aL(t,n.u_depth),u_terrain:new e.aL(t,n.u_terrain),u_terrain_dim:new e.aM(t,n.u_terrain_dim),u_terrain_matrix:new e.aN(t,n.u_terrain_matrix),u_terrain_unpack:new e.aO(t,n.u_terrain_unpack),u_terrain_exaggeration:new e.aM(t,n.u_terrain_exaggeration)}))(t,x),this.binderUniforms=i?i.getUniforms(t,x):[]}draw(e,t,n,i,r,s,a,o,l,c,u,h,d,p,f,m,g,y){const v=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(i),e.setColorMode(r),e.setCullFace(s),o){e.activeTexture.set(v.TEXTURE2),v.bindTexture(v.TEXTURE_2D,o.depthTexture),e.activeTexture.set(v.TEXTURE3),v.bindTexture(v.TEXTURE_2D,o.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(o[e])}for(const b in this.fixedUniforms)this.fixedUniforms[b].set(a[b]);f&&f.setUniforms(e,this.binderUniforms,d,{zoom:p});let _=0;switch(t){case v.LINES:_=2;break;case v.TRIANGLES:_=3;break;case v.LINE_STRIP:_=1}for(const b of h.get()){const n=b.vaos||(b.vaos={});(n[l]||(n[l]=new lt)).bind(e,this,c,f?f.getPaintVertexBuffers():[],u,b.vertexOffset,m,g,y),v.drawElements(t,b.primitiveLength*_,v.UNSIGNED_SHORT,b.primitiveOffset*_*2)}}}function ht(e,t,n){const i=1/Ie(n,1,t.transform.tileZoom),r=Math.pow(2,n.tileID.overscaledZ),s=n.tileSize*Math.pow(2,t.transform.tileZoom)/r,a=s*(n.tileID.canonical.x+n.tileID.wrap*r),o=s*n.tileID.canonical.y;return{u_image:0,u_texsize:n.imageAtlasTexture.size,u_scale:[i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[a>>16,o>>16],u_pixel_coord_lower:[65535&a,65535&o]}}const dt=(t,n,i,r)=>{const s=n.style.light,a=s.properties.get("position"),o=[a.x,a.y,a.z],l=function(){var t=new e.A(9);return e.A!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}();"viewport"===s.properties.get("anchor")&&function(e,t){var n=Math.sin(t),i=Math.cos(t);e[0]=i,e[1]=n,e[2]=0,e[3]=-n,e[4]=i,e[5]=0,e[6]=0,e[7]=0,e[8]=1}(l,-n.transform.angle),function(e,t,n){var i=t[0],r=t[1],s=t[2];e[0]=i*n[0]+r*n[3]+s*n[6],e[1]=i*n[1]+r*n[4]+s*n[7],e[2]=i*n[2]+r*n[5]+s*n[8]}(o,o,l);const c=s.properties.get("color");return{u_matrix:t,u_lightpos:o,u_lightintensity:s.properties.get("intensity"),u_lightcolor:[c.r,c.g,c.b],u_vertical_gradient:+i,u_opacity:r}},pt=(t,n,i,r,s,a,o)=>e.e(dt(t,n,i,r),ht(a,n,o),{u_height_factor:-Math.pow(2,s.overscaledZ)/o.tileSize/8}),ft=e=>({u_matrix:e}),mt=(t,n,i,r)=>e.e(ft(t),ht(i,n,r)),gt=(e,t)=>({u_matrix:e,u_world:t}),yt=(t,n,i,r,s)=>e.e(mt(t,n,i,r),{u_world:s}),vt=(e,t,n,i)=>{const r=e.transform;let s,a;if("map"===i.paint.get("circle-pitch-alignment")){const e=Ie(n,1,r.zoom);s=!0,a=[e,e]}else s=!1,a=r.pixelsToGLUnits;return{u_camera_to_center_distance:r.cameraToCenterDistance,u_scale_with_map:+("map"===i.paint.get("circle-pitch-scale")),u_matrix:e.translatePosMatrix(t.posMatrix,n,i.paint.get("circle-translate"),i.paint.get("circle-translate-anchor")),u_pitch_with_map:+s,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:a}},_t=(e,t,n)=>{const i=Ie(n,1,t.zoom),r=Math.pow(2,t.zoom-n.tileID.overscaledZ),s=n.tileID.overscaleFactor();return{u_matrix:e,u_camera_to_center_distance:t.cameraToCenterDistance,u_pixels_to_tile_units:i,u_extrude_scale:[t.pixelsToGLUnits[0]/(i*r),t.pixelsToGLUnits[1]/(i*r)],u_overscale_factor:s}},bt=function(e,t){return{u_matrix:e,u_color:t,u_overlay:0,u_overlay_scale:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1}},xt=e=>({u_matrix:e}),wt=(e,t,n,i)=>({u_matrix:e,u_extrude_scale:Ie(t,1,n),u_intensity:i});function St(t,n){const i=Math.pow(2,n.canonical.z),r=n.canonical.y;return[new e.U(0,r/i).toLngLat().lat,new e.U(0,(r+1)/i).toLngLat().lat]}const Et=(e,t,n,i)=>{const r=e.transform;return{u_matrix:At(e,t,n,i),u_ratio:1/Ie(t,1,r.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/r.pixelsToGLUnits[0],1/r.pixelsToGLUnits[1]]}},Tt=(t,n,i,r,s)=>e.e(Et(t,n,i,s),{u_image:0,u_image_height:r}),It=(e,t,n,i,r)=>{const s=e.transform,a=Ct(t,s);return{u_matrix:At(e,t,n,r),u_texsize:t.imageAtlasTexture.size,u_ratio:1/Ie(t,1,s.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[a,i.fromScale,i.toScale],u_fade:i.t,u_units_to_pixels:[1/s.pixelsToGLUnits[0],1/s.pixelsToGLUnits[1]]}},kt=(t,n,i,r,s,a)=>{const o=t.lineAtlas,l=Ct(n,t.transform),c="round"===i.layout.get("line-cap"),u=o.getDash(r.from,c),h=o.getDash(r.to,c),d=u.width*s.fromScale,p=h.width*s.toScale;return e.e(Et(t,n,i,a),{u_patternscale_a:[l/d,-u.height/2],u_patternscale_b:[l/p,-h.height/2],u_sdfgamma:o.width/(256*Math.min(d,p)*t.pixelRatio)/2,u_image:0,u_tex_y_a:u.y,u_tex_y_b:h.y,u_mix:s.t})};function Ct(e,t){return 1/Ie(e,1,t.tileZoom)}function At(e,t,n,i){return e.translatePosMatrix(i?i.posMatrix:t.tileID.posMatrix,t,n.paint.get("line-translate"),n.paint.get("line-translate-anchor"))}const Pt=(e,t,n,i,r)=>{return{u_matrix:e,u_tl_parent:t,u_scale_parent:n,u_buffer_scale:1,u_fade_t:i.mix,u_opacity:i.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(s=r.paint.get("raster-contrast"),s>0?1/(1-s):1+s),u_spin_weights:Nt(r.paint.get("raster-hue-rotate"))};var s,a};function Nt(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const Mt=(e,t,n,i,r,s,a,o,l,c)=>{const u=r.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:u.cameraToCenterDistance,u_pitch:u.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:u.width/u.height,u_fade_change:r.options.fadeDuration?r.symbolFadeChange:1,u_matrix:s,u_label_plane_matrix:a,u_coord_matrix:o,u_is_text:+l,u_pitch_with_map:+i,u_texsize:c,u_texture:0}},Rt=(t,n,i,r,s,a,o,l,c,u,h)=>{const d=s.transform;return e.e(Mt(t,n,i,r,s,a,o,l,c,u),{u_gamma_scale:r?Math.cos(d._pitch)*d.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:+h})},Ot=(t,n,i,r,s,a,o,l,c,u)=>e.e(Rt(t,n,i,r,s,a,o,l,!0,c,!0),{u_texsize_icon:u,u_texture_icon:1}),Dt=(e,t,n)=>({u_matrix:e,u_opacity:t,u_color:n}),Lt=(t,n,i,r,s,a)=>e.e(function(e,t,n,i){const r=n.imageManager.getPattern(e.from.toString()),s=n.imageManager.getPattern(e.to.toString()),{width:a,height:o}=n.imageManager.getPixelSize(),l=Math.pow(2,i.tileID.overscaledZ),c=i.tileSize*Math.pow(2,n.transform.tileZoom)/l,u=c*(i.tileID.canonical.x+i.tileID.wrap*l),h=c*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:r.tl,u_pattern_br_a:r.br,u_pattern_tl_b:s.tl,u_pattern_br_b:s.br,u_texsize:[a,o],u_mix:t.t,u_pattern_size_a:r.displaySize,u_pattern_size_b:s.displaySize,u_scale_a:t.fromScale,u_scale_b:t.toScale,u_tile_units_to_pixels:1/Ie(i,1,n.transform.tileZoom),u_pixel_coord_upper:[u>>16,h>>16],u_pixel_coord_lower:[65535&u,65535&h]}}(r,a,i,s),{u_matrix:t,u_opacity:n}),zt={fillExtrusion:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_lightpos:new e.aP(t,n.u_lightpos),u_lightintensity:new e.aM(t,n.u_lightintensity),u_lightcolor:new e.aP(t,n.u_lightcolor),u_vertical_gradient:new e.aM(t,n.u_vertical_gradient),u_opacity:new e.aM(t,n.u_opacity)}),fillExtrusionPattern:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_lightpos:new e.aP(t,n.u_lightpos),u_lightintensity:new e.aM(t,n.u_lightintensity),u_lightcolor:new e.aP(t,n.u_lightcolor),u_vertical_gradient:new e.aM(t,n.u_vertical_gradient),u_height_factor:new e.aM(t,n.u_height_factor),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade),u_opacity:new e.aM(t,n.u_opacity)}),fill:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix)}),fillPattern:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}),fillOutline:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world)}),fillOutlinePattern:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world),u_image:new e.aL(t,n.u_image),u_texsize:new e.aQ(t,n.u_texsize),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}),circle:(t,n)=>({u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_scale_with_map:new e.aL(t,n.u_scale_with_map),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_extrude_scale:new e.aQ(t,n.u_extrude_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_matrix:new e.aN(t,n.u_matrix)}),collisionBox:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pixels_to_tile_units:new e.aM(t,n.u_pixels_to_tile_units),u_extrude_scale:new e.aQ(t,n.u_extrude_scale),u_overscale_factor:new e.aM(t,n.u_overscale_factor)}),collisionCircle:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_inv_matrix:new e.aN(t,n.u_inv_matrix),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_viewport_size:new e.aQ(t,n.u_viewport_size)}),debug:(t,n)=>({u_color:new e.aR(t,n.u_color),u_matrix:new e.aN(t,n.u_matrix),u_overlay:new e.aL(t,n.u_overlay),u_overlay_scale:new e.aM(t,n.u_overlay_scale)}),clippingMask:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix)}),heatmap:(t,n)=>({u_extrude_scale:new e.aM(t,n.u_extrude_scale),u_intensity:new e.aM(t,n.u_intensity),u_matrix:new e.aN(t,n.u_matrix)}),heatmapTexture:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_world:new e.aQ(t,n.u_world),u_image:new e.aL(t,n.u_image),u_color_ramp:new e.aL(t,n.u_color_ramp),u_opacity:new e.aM(t,n.u_opacity)}),hillshade:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_latrange:new e.aQ(t,n.u_latrange),u_light:new e.aQ(t,n.u_light),u_shadow:new e.aR(t,n.u_shadow),u_highlight:new e.aR(t,n.u_highlight),u_accent:new e.aR(t,n.u_accent)}),hillshadePrepare:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_image:new e.aL(t,n.u_image),u_dimension:new e.aQ(t,n.u_dimension),u_zoom:new e.aM(t,n.u_zoom),u_unpack:new e.aO(t,n.u_unpack)}),line:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels)}),lineGradient:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_image:new e.aL(t,n.u_image),u_image_height:new e.aM(t,n.u_image_height)}),linePattern:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_texsize:new e.aQ(t,n.u_texsize),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_image:new e.aL(t,n.u_image),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_scale:new e.aP(t,n.u_scale),u_fade:new e.aM(t,n.u_fade)}),lineSDF:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_ratio:new e.aM(t,n.u_ratio),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_units_to_pixels:new e.aQ(t,n.u_units_to_pixels),u_patternscale_a:new e.aQ(t,n.u_patternscale_a),u_patternscale_b:new e.aQ(t,n.u_patternscale_b),u_sdfgamma:new e.aM(t,n.u_sdfgamma),u_image:new e.aL(t,n.u_image),u_tex_y_a:new e.aM(t,n.u_tex_y_a),u_tex_y_b:new e.aM(t,n.u_tex_y_b),u_mix:new e.aM(t,n.u_mix)}),raster:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_tl_parent:new e.aQ(t,n.u_tl_parent),u_scale_parent:new e.aM(t,n.u_scale_parent),u_buffer_scale:new e.aM(t,n.u_buffer_scale),u_fade_t:new e.aM(t,n.u_fade_t),u_opacity:new e.aM(t,n.u_opacity),u_image0:new e.aL(t,n.u_image0),u_image1:new e.aL(t,n.u_image1),u_brightness_low:new e.aM(t,n.u_brightness_low),u_brightness_high:new e.aM(t,n.u_brightness_high),u_saturation_factor:new e.aM(t,n.u_saturation_factor),u_contrast_factor:new e.aM(t,n.u_contrast_factor),u_spin_weights:new e.aP(t,n.u_spin_weights)}),symbolIcon:(t,n)=>({u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texture:new e.aL(t,n.u_texture)}),symbolSDF:(t,n)=>({u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texture:new e.aL(t,n.u_texture),u_gamma_scale:new e.aM(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_is_halo:new e.aL(t,n.u_is_halo)}),symbolTextAndIcon:(t,n)=>({u_is_size_zoom_constant:new e.aL(t,n.u_is_size_zoom_constant),u_is_size_feature_constant:new e.aL(t,n.u_is_size_feature_constant),u_size_t:new e.aM(t,n.u_size_t),u_size:new e.aM(t,n.u_size),u_camera_to_center_distance:new e.aM(t,n.u_camera_to_center_distance),u_pitch:new e.aM(t,n.u_pitch),u_rotate_symbol:new e.aL(t,n.u_rotate_symbol),u_aspect_ratio:new e.aM(t,n.u_aspect_ratio),u_fade_change:new e.aM(t,n.u_fade_change),u_matrix:new e.aN(t,n.u_matrix),u_label_plane_matrix:new e.aN(t,n.u_label_plane_matrix),u_coord_matrix:new e.aN(t,n.u_coord_matrix),u_is_text:new e.aL(t,n.u_is_text),u_pitch_with_map:new e.aL(t,n.u_pitch_with_map),u_texsize:new e.aQ(t,n.u_texsize),u_texsize_icon:new e.aQ(t,n.u_texsize_icon),u_texture:new e.aL(t,n.u_texture),u_texture_icon:new e.aL(t,n.u_texture_icon),u_gamma_scale:new e.aM(t,n.u_gamma_scale),u_device_pixel_ratio:new e.aM(t,n.u_device_pixel_ratio),u_is_halo:new e.aL(t,n.u_is_halo)}),background:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_opacity:new e.aM(t,n.u_opacity),u_color:new e.aR(t,n.u_color)}),backgroundPattern:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_opacity:new e.aM(t,n.u_opacity),u_image:new e.aL(t,n.u_image),u_pattern_tl_a:new e.aQ(t,n.u_pattern_tl_a),u_pattern_br_a:new e.aQ(t,n.u_pattern_br_a),u_pattern_tl_b:new e.aQ(t,n.u_pattern_tl_b),u_pattern_br_b:new e.aQ(t,n.u_pattern_br_b),u_texsize:new e.aQ(t,n.u_texsize),u_mix:new e.aM(t,n.u_mix),u_pattern_size_a:new e.aQ(t,n.u_pattern_size_a),u_pattern_size_b:new e.aQ(t,n.u_pattern_size_b),u_scale_a:new e.aM(t,n.u_scale_a),u_scale_b:new e.aM(t,n.u_scale_b),u_pixel_coord_upper:new e.aQ(t,n.u_pixel_coord_upper),u_pixel_coord_lower:new e.aQ(t,n.u_pixel_coord_lower),u_tile_units_to_pixels:new e.aM(t,n.u_tile_units_to_pixels)}),terrain:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_texture:new e.aL(t,n.u_texture),u_ele_delta:new e.aM(t,n.u_ele_delta)}),terrainDepth:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_ele_delta:new e.aM(t,n.u_ele_delta)}),terrainCoords:(t,n)=>({u_matrix:new e.aN(t,n.u_matrix),u_texture:new e.aL(t,n.u_texture),u_terrain_coords_id:new e.aM(t,n.u_terrain_coords_id),u_ele_delta:new e.aM(t,n.u_ele_delta)})};class jt{constructor(e,t,n){this.context=e;const i=e.gl;this.buffer=i.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),i.bufferData(i.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Ft={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Bt{constructor(e,t,n,i){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=i,this.context=e;const r=e.gl;this.buffer=r.createBuffer(),e.bindVertexBuffer.set(this.buffer),r.bufferData(r.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error("Length of new data is ".concat(e.length,", which doesn't match current length of ").concat(this.length));const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const i=t.attributes[this.attributes[n].name];void 0!==i&&e.enableVertexAttribArray(i)}}setVertexAttribPointers(e,t,n){for(let i=0;i<this.attributes.length;i++){const r=this.attributes[i],s=t.attributes[r.name];void 0!==s&&e.vertexAttribPointer(s,r.components,e[Ft[r.type]],!1,this.itemSize,r.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Vt=new WeakMap;function Ut(e){var t;if(Vt.has(e))return Vt.get(e);{const n=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return Vt.set(e,n),n}}class qt{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ht extends qt{getDefault(){return e.aT.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Gt extends qt{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Wt extends qt{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Kt extends qt{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class Yt extends qt{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Zt extends qt{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Xt extends qt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Qt extends qt{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Jt extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class $t extends qt{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class en extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class tn extends qt{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class nn extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class rn extends qt{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class sn extends qt{getDefault(){return e.aT.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class an extends qt{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class on extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class ln extends qt{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class cn extends qt{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class un extends qt{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class hn extends qt{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class dn extends qt{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class pn extends qt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class fn extends qt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class mn extends qt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class gn extends qt{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class yn extends qt{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class vn extends qt{getDefault(){return null}set(e){var t;if(e===this.current&&!this.dirty)return;const n=this.gl;Ut(n)?n.bindVertexArray(e):null===(t=n.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class _n extends qt{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class bn extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class xn extends qt{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class wn extends qt{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class Sn extends wn{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class En extends wn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Tn extends wn{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class In{constructor(e,t,n,i,r){this.context=e,this.width=t,this.height=n;const s=e.gl,a=this.framebuffer=s.createFramebuffer();if(this.colorAttachment=new Sn(e,a),i)this.depthAttachment=r?new Tn(e,a):new En(e,a);else if(r)throw new Error("Stencil cannot be setted without depth");if(s.checkFramebufferStatus(s.FRAMEBUFFER)!==s.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer is not complete")}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class kn{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}kn.Replace=[1,0],kn.disabled=new kn(kn.Replace,e.aT.transparent,[!1,!1,!1,!1]),kn.unblended=new kn(kn.Replace,e.aT.transparent,[!0,!0,!0,!0]),kn.alphaBlended=new kn([1,771],e.aT.transparent,[!0,!0,!0,!0]);class Cn{constructor(e){var t,n;if(this.gl=e,this.clearColor=new Ht(this),this.clearDepth=new Gt(this),this.clearStencil=new Wt(this),this.colorMask=new Kt(this),this.depthMask=new Yt(this),this.stencilMask=new Zt(this),this.stencilFunc=new Xt(this),this.stencilOp=new Qt(this),this.stencilTest=new Jt(this),this.depthRange=new $t(this),this.depthTest=new en(this),this.depthFunc=new tn(this),this.blend=new nn(this),this.blendFunc=new rn(this),this.blendColor=new sn(this),this.blendEquation=new an(this),this.cullFace=new on(this),this.cullFaceSide=new ln(this),this.frontFace=new cn(this),this.program=new un(this),this.activeTexture=new hn(this),this.viewport=new dn(this),this.bindFramebuffer=new pn(this),this.bindRenderbuffer=new fn(this),this.bindTexture=new mn(this),this.bindVertexBuffer=new gn(this),this.bindElementBuffer=new yn(this),this.bindVertexArray=new vn(this),this.pixelStoreUnpack=new _n(this),this.pixelStoreUnpackPremultiplyAlpha=new bn(this),this.pixelStoreUnpackFlipY=new xn(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),Ut(e)){this.HALF_FLOAT=e.HALF_FLOAT;const i=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(t=e.RGBA16F)&&void 0!==t?t:null==i?void 0:i.RGBA16F_EXT,this.RGB16F=null!==(n=e.RGB16F)&&void 0!==n?n:null==i?void 0:i.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const t=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==t?void 0:t.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new jt(this,e,t)}createVertexBuffer(e,t,n){return new Bt(this,e,t,n)}createRenderbuffer(e,t,n){const i=this.gl,r=i.createRenderbuffer();return this.bindRenderbuffer.set(r),i.renderbufferStorage(i.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),r}createFramebuffer(e,t,n,i){return new In(this,e,t,n,i)}clear(e){let{color:t,depth:n,stencil:i}=e;const r=this.gl;let s=0;t&&(s|=r.COLOR_BUFFER_BIT,this.clearColor.set(t),this.colorMask.set([!0,!0,!0,!0])),void 0!==n&&(s|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(n),this.depthMask.set(!0)),void 0!==i&&(s|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(i),this.stencilMask.set(255)),r.clear(s)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(t){e.aG(t.blendFunction,kn.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(t.blendFunction),this.blendColor.set(t.blendColor)),this.colorMask.set(t.mask)}createVertexArray(){var e;return Ut(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return Ut(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}class An{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}An.ReadOnly=!1,An.ReadWrite=!0,An.disabled=new An(519,An.ReadOnly,[0,1]);const Pn=7680;class Nn{constructor(e,t,n,i,r,s){this.test=e,this.ref=t,this.mask=n,this.fail=i,this.depthFail=r,this.pass=s}}Nn.disabled=new Nn({func:519,mask:0},0,0,Pn,Pn,Pn);class Mn{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}let Rn;function On(t,n,i,r,s,a,o){const l=t.context,c=l.gl,u=t.useProgram("collisionBox"),h=[];let d=0,p=0;for(let b=0;b<r.length;b++){const f=r[b],m=n.getTile(f),g=m.getBucket(i);if(!g)continue;let y=f.posMatrix;0===s[0]&&0===s[1]||(y=t.translatePosMatrix(f.posMatrix,m,s,a));const v=o?g.textCollisionBox:g.iconCollisionBox,_=g.collisionCircleArray;if(_.length>0){const n=e.Z(),i=y;e.aU(n,g.placementInvProjMatrix,t.transform.glCoordMatrix),e.aU(n,n,g.placementViewportMatrix),h.push({circleArray:_,circleOffset:p,transform:i,invTransform:n,coord:f}),d+=_.length/4,p=d}v&&u.draw(l,c.LINES,An.disabled,Nn.disabled,t.colorModeForRenderPass(),Mn.disabled,_t(y,t.transform,m),t.style.map.terrain&&t.style.map.terrain.getTerrainData(f),i.id,v.layoutVertexBuffer,v.indexBuffer,v.segments,null,t.transform.zoom,null,null,v.collisionVertexBuffer)}if(!o||!h.length)return;const f=t.useProgram("collisionCircle"),m=new e.aV;m.resize(4*d),m._trim();let g=0;for(const e of h)for(let t=0;t<e.circleArray.length/4;t++){const n=4*t,i=e.circleArray[n+0],r=e.circleArray[n+1],s=e.circleArray[n+2],a=e.circleArray[n+3];m.emplace(g++,i,r,s,a,0),m.emplace(g++,i,r,s,a,1),m.emplace(g++,i,r,s,a,2),m.emplace(g++,i,r,s,a,3)}(!Rn||Rn.length<2*d)&&(Rn=function(t){const n=2*t,i=new e.aX;i.resize(n),i._trim();for(let e=0;e<n;e++){const t=6*e;i.uint16[t+0]=4*e+0,i.uint16[t+1]=4*e+1,i.uint16[t+2]=4*e+2,i.uint16[t+3]=4*e+2,i.uint16[t+4]=4*e+3,i.uint16[t+5]=4*e+0}return i}(d));const y=l.createIndexBuffer(Rn,!0),v=l.createVertexBuffer(m,e.aW.members,!0);for(const b of h){const n={u_matrix:b.transform,u_inv_matrix:b.invTransform,u_camera_to_center_distance:(_=t.transform).cameraToCenterDistance,u_viewport_size:[_.width,_.height]};f.draw(l,c.TRIANGLES,An.disabled,Nn.disabled,t.colorModeForRenderPass(),Mn.disabled,n,t.style.map.terrain&&t.style.map.terrain.getTerrainData(b.coord),i.id,v,y,e.S.simpleSegment(0,2*b.circleOffset,b.circleArray.length,b.circleArray.length/2),null,t.transform.zoom,null,null,null)}var _;v.destroy(),y.destroy()}Mn.disabled=new Mn(!1,1029,2305),Mn.backCCW=new Mn(!0,1029,2305);const Dn=e.ao(new Float32Array(16));function Ln(t,n,i,r,s,a){const{horizontalAlign:o,verticalAlign:l}=e.au(t);return new e.P((-(o-.5)*n/s+r[0])*a,(-(l-.5)*i/s+r[1])*a)}function zn(t,n,i,r,s,a,o,l,c,u,h){const d=t.text.placedSymbolArray,p=t.text.dynamicLayoutVertexArray,f=t.icon.dynamicLayoutVertexArray,m={};p.clear();for(let g=0;g<d.length;g++){const f=d.get(g),y=f.hidden||!f.crossTileID||t.allowVerticalPlacement&&!f.placedOrientation?null:r[f.crossTileID];if(y){const r=new e.P(f.anchorX,f.anchorY),d=ce(r,i?o:a,h),g=ue(s.cameraToCenterDistance,d.signedDistanceFromCamera);let v=e.aj(t.textSizeData,c,f)*g/e.ap;i&&(v*=t.tilePixelRatio/l);const{width:_,height:b,anchor:x,textOffset:w,textBoxScale:S}=y,E=Ln(x,_,b,w,S,v),T=i?ce(r.add(E),a,h).point:d.point.add(n?E.rotate(-s.angle):E),I=t.allowVerticalPlacement&&f.placedOrientation===e.ai.vertical?Math.PI/2:0;for(let t=0;t<f.numGlyphs;t++)e.ak(p,T,I);u&&f.associatedIconIndex>=0&&(m[f.associatedIconIndex]={shiftedAnchor:T,angle:I})}else we(f.numGlyphs,p)}if(u){f.clear();const n=t.icon.placedSymbolArray;for(let t=0;t<n.length;t++){const i=n.get(t);if(i.hidden)we(i.numGlyphs,f);else{const n=m[t];if(n)for(let t=0;t<i.numGlyphs;t++)e.ak(f,n.shiftedAnchor,n.angle);else we(i.numGlyphs,f)}}t.icon.dynamicLayoutVertexBuffer.updateData(f)}t.text.dynamicLayoutVertexBuffer.updateData(p)}function jn(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function Fn(t,n,i,r,s,a,o,l,c,u,h,d){const p=t.context,f=p.gl,m=t.transform,g="map"===l,y="map"===c,v="viewport"!==l&&"point"!==i.layout.get("symbol-placement"),_=g&&!y&&!v,b=!i.layout.get("symbol-sort-key").isConstant();let x=!1;const w=t.depthModeForSublayer(0,An.ReadOnly),S=i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"),E=[];for(const T of r){const r=n.getTile(T),l=r.getBucket(i);if(!l)continue;const c=s?l.text:l.icon;if(!c||!c.segments.get().length||!c.hasVisibleVertices)continue;const h=c.programConfigurations.get(i.id),d=s||l.sdfIcons,p=s?l.textSizeData:l.iconSizeData,w=y||0!==m.pitch,I=t.useProgram(jn(d,s,l),h),k=e.ah(p,m.zoom),C=t.style.map.terrain&&t.style.map.terrain.getTerrainData(T);let A,P,N,M,R=[0,0],O=null;if(s)P=r.glyphAtlasTexture,N=f.LINEAR,A=r.glyphAtlasTexture.size,l.iconsInText&&(R=r.imageAtlasTexture.size,O=r.imageAtlasTexture,M=w||t.options.rotating||t.options.zooming||"composite"===p.kind||"camera"===p.kind?f.LINEAR:f.NEAREST);else{const e=1!==i.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;P=r.imageAtlasTexture,N=d||t.options.rotating||t.options.zooming||e||w?f.LINEAR:f.NEAREST,A=r.imageAtlasTexture.size}const D=Ie(r,1,t.transform.zoom),L=oe(T.posMatrix,y,g,t.transform,D),z=le(T.posMatrix,y,g,t.transform,D),j=S&&l.hasTextData(),F="none"!==i.layout.get("icon-text-fit")&&j&&l.hasIconData();if(v){const e=t.style.map.terrain?(e,n)=>t.style.map.terrain.getElevation(T,e,n):null,n="map"===i.layout.get("text-rotation-alignment");de(l,T.posMatrix,t,s,L,z,y,u,n,e)}const B=t.translatePosMatrix(T.posMatrix,r,a,o),V=v||s&&S||F?Dn:L,U=t.translatePosMatrix(z,r,a,o,!0),q=d&&0!==i.paint.get(s?"text-halo-width":"icon-halo-width").constantOr(1);let H;H=d?l.iconsInText?Ot(p.kind,k,_,y,t,B,V,U,A,R):Rt(p.kind,k,_,y,t,B,V,U,s,A,!0):Mt(p.kind,k,_,y,t,B,V,U,s,A);const G={program:I,buffers:c,uniformValues:H,atlasTexture:P,atlasTextureIcon:O,atlasInterpolation:N,atlasInterpolationIcon:M,isSDF:d,hasHalo:q};if(b&&l.canOverlap){x=!0;const t=c.segments.get();for(const n of t)E.push({segments:new e.S([n]),sortKey:n.sortKey,state:G,terrainData:C})}else E.push({segments:c.segments,sortKey:0,state:G,terrainData:C})}x&&E.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of E){const n=e.state;if(p.activeTexture.set(f.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,f.CLAMP_TO_EDGE),n.atlasTextureIcon&&(p.activeTexture.set(f.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,f.CLAMP_TO_EDGE)),n.isSDF){const r=n.uniformValues;n.hasHalo&&(r.u_is_halo=1,Bn(n.buffers,e.segments,i,t,n.program,w,h,d,r,e.terrainData)),r.u_is_halo=0}Bn(n.buffers,e.segments,i,t,n.program,w,h,d,n.uniformValues,e.terrainData)}}function Bn(e,t,n,i,r,s,a,o,l,c){const u=i.context;r.draw(u,u.gl.TRIANGLES,s,a,o,Mn.disabled,l,c,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,i.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function Vn(e,t,n,i,r){if(!n||!i||!i.imageAtlas)return;const s=i.imageAtlas.patternPositions;let a=s[n.to.toString()],o=s[n.from.toString()];if(!a||!o){const e=r.getPaintProperty(t);a=s[e],o=s[e]}a&&o&&e.setConstantPatternPositions(a,o)}function Un(e,t,n,i,r,s,a){const o=e.context.gl,l="fill-pattern",c=n.paint.get(l),u=c&&c.constantOr(1),h=n.getCrossfadeParameters();let d,p,f,m,g;a?(p=u&&!n.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",d=o.LINES):(p=u?"fillPattern":"fill",d=o.TRIANGLES);const y=c.constantOr(null);for(const v of i){const i=t.getTile(v);if(u&&!i.patternsLoaded())continue;const c=i.getBucket(n);if(!c)continue;const _=c.programConfigurations.get(n.id),b=e.useProgram(p,_),x=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v);u&&(e.context.activeTexture.set(o.TEXTURE0),i.imageAtlasTexture.bind(o.LINEAR,o.CLAMP_TO_EDGE),_.updatePaintBuffers(h)),Vn(_,l,y,i,n);const w=x?v:null,S=e.translatePosMatrix(w?w.posMatrix:v.posMatrix,i,n.paint.get("fill-translate"),n.paint.get("fill-translate-anchor"));if(a){m=c.indexBuffer2,g=c.segments2;const t=[o.drawingBufferWidth,o.drawingBufferHeight];f="fillOutlinePattern"===p&&u?yt(S,e,h,i,t):gt(S,t)}else m=c.indexBuffer,g=c.segments,f=u?mt(S,e,h,i):ft(S);b.draw(e.context,d,r,e.stencilModeForClipping(v),s,Mn.disabled,f,x,n.id,c.layoutVertexBuffer,m,g,n.paint,e.transform.zoom,_)}}function qn(e,t,n,i,r,s,a){const o=e.context,l=o.gl,c="fill-extrusion-pattern",u=n.paint.get(c),h=u.constantOr(1),d=n.getCrossfadeParameters(),p=n.paint.get("fill-extrusion-opacity"),f=u.constantOr(null);for(const m of i){const i=t.getTile(m),u=i.getBucket(n);if(!u)continue;const g=e.style.map.terrain&&e.style.map.terrain.getTerrainData(m),y=u.programConfigurations.get(n.id),v=e.useProgram(h?"fillExtrusionPattern":"fillExtrusion",y);h&&(e.context.activeTexture.set(l.TEXTURE0),i.imageAtlasTexture.bind(l.LINEAR,l.CLAMP_TO_EDGE),y.updatePaintBuffers(d)),Vn(y,c,f,i,n);const _=e.translatePosMatrix(m.posMatrix,i,n.paint.get("fill-extrusion-translate"),n.paint.get("fill-extrusion-translate-anchor")),b=n.paint.get("fill-extrusion-vertical-gradient"),x=h?pt(_,e,b,p,m,d,i):dt(_,e,b,p);v.draw(o,o.gl.TRIANGLES,r,s,a,Mn.backCCW,x,g,n.id,u.layoutVertexBuffer,u.indexBuffer,u.segments,n.paint,e.transform.zoom,y,e.style.map.terrain&&u.centroidVertexBuffer)}}function Hn(e,t,n,i,r,s,a){const o=e.context,l=o.gl,c=n.fbo;if(!c)return;const u=e.useProgram("hillshade"),h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(t);o.activeTexture.set(l.TEXTURE0),l.bindTexture(l.TEXTURE_2D,c.colorAttachment.get()),u.draw(o,l.TRIANGLES,r,s,a,Mn.disabled,((e,t,n,i)=>{const r=n.paint.get("hillshade-shadow-color"),s=n.paint.get("hillshade-highlight-color"),a=n.paint.get("hillshade-accent-color");let o=n.paint.get("hillshade-illumination-direction")*(Math.PI/180);"viewport"===n.paint.get("hillshade-illumination-anchor")&&(o-=e.transform.angle);const l=!e.options.moving;return{u_matrix:i?i.posMatrix:e.transform.calculatePosMatrix(t.tileID.toUnwrapped(),l),u_image:0,u_latrange:St(0,t.tileID),u_light:[n.paint.get("hillshade-exaggeration"),o],u_shadow:r,u_highlight:s,u_accent:a}})(e,n,i,h?t:null),h,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}function Gn(t,n,i,r,s,a){const o=t.context,l=o.gl,c=n.dem;if(c&&c.data){const u=c.dim,h=c.stride,d=c.getPixels();if(o.activeTexture.set(l.TEXTURE1),o.pixelStoreUnpackPremultiplyAlpha.set(!1),n.demTexture=n.demTexture||t.getTileTexture(h),n.demTexture){const e=n.demTexture;e.update(d,{premultiply:!1}),e.bind(l.NEAREST,l.CLAMP_TO_EDGE)}else n.demTexture=new _(o,d,l.RGBA,{premultiply:!1}),n.demTexture.bind(l.NEAREST,l.CLAMP_TO_EDGE);o.activeTexture.set(l.TEXTURE0);let p=n.fbo;if(!p){const e=new _(o,{width:u,height:u,data:null},l.RGBA);e.bind(l.LINEAR,l.CLAMP_TO_EDGE),p=n.fbo=o.createFramebuffer(u,u,!0,!1),p.colorAttachment.set(e.texture)}o.bindFramebuffer.set(p.framebuffer),o.viewport.set([0,0,u,u]),t.useProgram("hillshadePrepare").draw(o,l.TRIANGLES,r,s,a,Mn.disabled,((t,n)=>{const i=n.stride,r=e.Z();return e.aS(r,0,e.N,-e.N,0,0,1),e.$(r,r,[0,-e.N,0]),{u_matrix:r,u_image:1,u_dimension:[i,i],u_zoom:t.overscaledZ,u_unpack:n.getUnpackVector()}})(n.tileID,c),null,i.id,t.rasterBoundsBuffer,t.quadTriangleIndexBuffer,t.rasterBoundsSegments),n.needsHillshadePrepare=!1}}function Wn(t,n,i,r,s,a){const o=r.paint.get("raster-fade-duration");if(!a&&o>0){const r=e.h.now(),a=(r-t.timeAdded)/o,l=n?(r-n.timeAdded)/o:-1,c=i.getSource(),u=s.coveringZoomLevel({tileSize:c.tileSize,roundZoom:c.roundZoom}),h=!n||Math.abs(n.tileID.overscaledZ-u)>Math.abs(t.tileID.overscaledZ-u),d=h&&t.refreshedUponExpiration?1:e.ad(h?a:1-l,0,1);return t.refreshedUponExpiration&&a>=1&&(t.refreshedUponExpiration=!1),n?{opacity:1,mix:1-d}:{opacity:d,mix:0}}return{opacity:1,mix:0}}const Kn=new e.aT(1,0,0,1),Yn=new e.aT(0,1,0,1),Zn=new e.aT(0,0,1,1),Xn=new e.aT(1,0,1,1),Qn=new e.aT(0,1,1,1);function Jn(e,t,n,i){ei(e,0,t+n/2,e.transform.width,n,i)}function $n(e,t,n,i){ei(e,t-n/2,0,n,e.transform.height,i)}function ei(e,t,n,i,r,s){const a=e.context,o=a.gl;o.enable(o.SCISSOR_TEST),o.scissor(t*e.pixelRatio,n*e.pixelRatio,i*e.pixelRatio,r*e.pixelRatio),a.clear({color:s}),o.disable(o.SCISSOR_TEST)}function ti(t,n,i){const r=t.context,s=r.gl,a=i.posMatrix,o=t.useProgram("debug"),l=An.disabled,c=Nn.disabled,u=t.colorModeForRenderPass(),h="$debug",d=t.style.map.terrain&&t.style.map.terrain.getTerrainData(i);r.activeTexture.set(s.TEXTURE0);const p=n.getTileByID(i.key).latestRawTileData,f=Math.floor((p&&p.byteLength||0)/1024),m=n.getTile(i).tileSize,g=512/Math.min(m,512)*(i.overscaledZ/t.transform.zoom)*.5;let y=i.canonical.toString();i.overscaledZ!==i.canonical.z&&(y+=" => ".concat(i.overscaledZ)),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,i=e.context.gl,r=e.debugOverlayCanvas.getContext("2d");r.clearRect(0,0,n.width,n.height),r.shadowColor="white",r.shadowBlur=2,r.lineWidth=1.5,r.strokeStyle="white",r.textBaseline="top",r.font="bold 36px Open Sans, sans-serif",r.fillText(t,5,5),r.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(i.LINEAR,i.CLAMP_TO_EDGE)}(t,"".concat(y," ").concat(f,"kB")),o.draw(r,s.TRIANGLES,l,c,kn.alphaBlended,Mn.disabled,bt(a,e.aT.transparent,g),null,h,t.debugBuffer,t.quadTriangleIndexBuffer,t.debugSegments),o.draw(r,s.LINE_STRIP,l,c,u,Mn.disabled,bt(a,e.aT.red),d,h,t.debugBuffer,t.tileBorderIndexBuffer,t.debugSegments)}function ni(e,t,n){const i=e.context,r=i.gl,s=e.colorModeForRenderPass(),a=new An(r.LEQUAL,An.ReadWrite,e.depthRangeFor3D),o=e.useProgram("terrain"),l=t.getTerrainMesh();i.bindFramebuffer.set(null),i.viewport.set([0,0,e.width,e.height]);for(const c of n){const n=e.renderToTexture.getTexture(c),u=t.getTerrainData(c.tileID);i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,n.texture);const h={u_matrix:e.transform.calculatePosMatrix(c.tileID.toUnwrapped()),u_texture:0,u_ele_delta:t.getMeshFrameDelta(e.transform.zoom)};o.draw(i,r.TRIANGLES,a,Nn.disabled,s,Mn.backCCW,h,u,"terrain",l.vertexBuffer,l.indexBuffer,l.segments)}}class ii{constructor(t,n){this.context=new Cn(t),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:e.Z(),renderTime:0},this.setup(),this.numSublayers=X.maxUnderzooming+X.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Je}resize(e,t,n){if(this.width=Math.floor(e*n),this.height=Math.floor(t*n),this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const i of this.style._order)this.style._layers[i].resize()}setup(){const t=this.context,n=new e.a_;n.emplaceBack(0,0),n.emplaceBack(e.N,0),n.emplaceBack(0,e.N),n.emplaceBack(e.N,e.N),this.tileExtentBuffer=t.createVertexBuffer(n,rt.members),this.tileExtentSegments=e.S.simpleSegment(0,0,4,2);const i=new e.a_;i.emplaceBack(0,0),i.emplaceBack(e.N,0),i.emplaceBack(0,e.N),i.emplaceBack(e.N,e.N),this.debugBuffer=t.createVertexBuffer(i,rt.members),this.debugSegments=e.S.simpleSegment(0,0,4,5);const r=new e.V;r.emplaceBack(0,0,0,0),r.emplaceBack(e.N,0,e.N,0),r.emplaceBack(0,e.N,0,e.N),r.emplaceBack(e.N,e.N,e.N,e.N),this.rasterBoundsBuffer=t.createVertexBuffer(r,j.members),this.rasterBoundsSegments=e.S.simpleSegment(0,0,4,2);const s=new e.a_;s.emplaceBack(0,0),s.emplaceBack(1,0),s.emplaceBack(0,1),s.emplaceBack(1,1),this.viewportBuffer=t.createVertexBuffer(s,rt.members),this.viewportSegments=e.S.simpleSegment(0,0,4,2);const a=new e.a$;a.emplaceBack(0),a.emplaceBack(1),a.emplaceBack(3),a.emplaceBack(2),a.emplaceBack(0),this.tileBorderIndexBuffer=t.createIndexBuffer(a);const o=new e.b0;o.emplaceBack(0,1,2),o.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=t.createIndexBuffer(o);const l=this.context.gl;this.stencilClearMode=new Nn({func:l.ALWAYS,mask:0},0,255,l.ZERO,l.ZERO,l.ZERO)}clearStencil(){const t=this.context,n=t.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const i=e.Z();e.aS(i,0,this.width,this.height,0,0,1),e.a0(i,i,[n.drawingBufferWidth,n.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(t,n.TRIANGLES,An.disabled,this.stencilClearMode,kn.disabled,Mn.disabled,xt(i),null,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source;const n=this.context,i=n.gl;this.nextStencilID+t.length>256&&this.clearStencil(),n.setColorMode(kn.disabled),n.setDepthMode(An.disabled);const r=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const s of t){const e=this._tileClippingMaskIDs[s.key]=this.nextStencilID++,t=this.style.map.terrain&&this.style.map.terrain.getTerrainData(s);r.draw(n,i.TRIANGLES,An.disabled,new Nn({func:i.ALWAYS,mask:0},e,255,i.KEEP,i.KEEP,i.REPLACE),kn.disabled,Mn.disabled,xt(s.posMatrix),t,"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new Nn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new Nn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}stencilConfigForOverlap(e){const t=this.context.gl,n=e.sort(((e,t)=>t.overscaledZ-e.overscaledZ)),i=n[n.length-1].overscaledZ,r=n[0].overscaledZ-i+1;if(r>1){this.currentStencilSource=void 0,this.nextStencilID+r>256&&this.clearStencil();const e={};for(let n=0;n<r;n++)e[n+i]=new Nn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=r,[e,n]}return[{[i]:Nn.disabled},n]}colorModeForRenderPass(){const t=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new kn([t.CONSTANT_COLOR,t.ONE],new e.aT(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?kn.unblended:kn.alphaBlended}depthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return An.disabled;const i=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new An(n||this.context.gl.LEQUAL,t,[i,i])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(t,n){this.style=t,this.options=n,this.lineAtlas=t.lineAtlas,this.imageManager=t.imageManager,this.glyphManager=t.glyphManager,this.symbolFadeChange=t.placement.symbolFadeChange(e.h.now()),this.imageManager.beginFrame();const i=this.style._order,r=this.style.sourceCaches,s={},a={},o={};for(const e in r){const t=r[e];t.used&&t.prepare(this.context),s[e]=t.getVisibleCoordinates(),a[e]=s[e].slice().reverse(),o[e]=t.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let e=0;e<i.length;e++)if(this.style._layers[i[e]].is3D()){this.opaquePassCutoff=e;break}if(this.renderToTexture){this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0;const t=this.style.map.terrain.sourceCache.tilesAfterTime(this.terrainFacilitator.renderTime);(this.terrainFacilitator.dirty||!e.b1(this.terrainFacilitator.matrix,this.transform.projMatrix)||t.length)&&(e.b2(this.terrainFacilitator.matrix,this.transform.projMatrix),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(t,n){const i=t.context,r=i.gl,s=kn.unblended,a=new An(r.LEQUAL,An.ReadWrite,[0,1]),o=n.getTerrainMesh(),l=n.sourceCache.getRenderableTiles(),c=t.useProgram("terrainDepth");i.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),i.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),i.clear({color:e.aT.transparent,depth:1});for(const e of l){const l=n.getTerrainData(e.tileID),u={u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped()),u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};c.draw(i,r.TRIANGLES,a,Nn.disabled,s,Mn.backCCW,u,l,"terrain",o.vertexBuffer,o.indexBuffer,o.segments)}i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain),function(t,n){const i=t.context,r=i.gl,s=kn.unblended,a=new An(r.LEQUAL,An.ReadWrite,[0,1]),o=n.getTerrainMesh(),l=n.getCoordsTexture(),c=n.sourceCache.getRenderableTiles(),u=t.useProgram("terrainCoords");i.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),i.viewport.set([0,0,t.width/devicePixelRatio,t.height/devicePixelRatio]),i.clear({color:e.aT.transparent,depth:1}),n.coordsIndex=[];for(const e of c){const c=n.getTerrainData(e.tileID);i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture);const h={u_matrix:t.transform.calculatePosMatrix(e.tileID.toUnwrapped()),u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0,u_ele_delta:n.getMeshFrameDelta(t.transform.zoom)};u.draw(i,r.TRIANGLES,a,Nn.disabled,s,Mn.backCCW,h,c,"terrain",o.vertexBuffer,o.indexBuffer,o.segments),n.coordsIndex.push(e.tileID.key)}i.bindFramebuffer.set(null),i.viewport.set([0,0,t.width,t.height])}(this,this.style.map.terrain))}this.renderPass="offscreen";for(const e of i){const t=this.style._layers[e];if(!t.hasOffscreenPass()||t.isHidden(this.transform.zoom))continue;const n=a[t.source];("custom"===t.type||n.length)&&this.renderLayer(this,r[t.source],t,n)}if(this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?e.aT.black:e.aT.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(t._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=i.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[i[this.currentLayer]],t=r[e.source],n=s[e.source];this._renderTileClippingMasks(e,n),this.renderLayer(this,t,e,n)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<i.length;this.currentLayer++){const e=this.style._layers[i[this.currentLayer]],t=r[e.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e))continue;const n=("symbol"===e.type?o:a)[e.source];this._renderTileClippingMasks(e,s[e.source]),this.renderLayer(this,t,e,n)}if(this.options.showTileBoundaries){const e=function(e,t){let n=null;const i=Object.values(e._layers).flatMap((n=>n.source&&!n.isHidden(t)?[e.sourceCaches[n.source]]:[])),r=i.filter((e=>"vector"===e.getSource().type)),s=i.filter((e=>"vector"!==e.getSource().type)),a=e=>{(!n||n.getSource().maxzoom<e.getSource().maxzoom)&&(n=e)};return r.forEach((e=>a(e))),n||s.forEach((e=>a(e))),n}(this.style,this.transform.zoom);e&&function(e,t,n){for(let i=0;i<n.length;i++)ti(e,t,n[i])}(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Jn(e,e.transform.height-(t.top||0),3,Kn),Jn(e,t.bottom||0,3,Yn),$n(e,t.left||0,3,Zn),$n(e,e.transform.width-(t.right||0),3,Xn);const n=e.transform.centerPoint;!function(e,t,n,i){ei(e,t-1,n-10,2,20,i),ei(e,t-10,n-1,20,2,i)}(e,n.x,e.transform.height-n.y,Qn)}(this),this.context.setDefault()}renderLayer(t,n,i,r){if(!i.isHidden(this.transform.zoom)&&("background"===i.type||"custom"===i.type||(r||[]).length))switch(this.id=i.id,i.type){case"symbol":!function(t,n,i,r,s){if("translucent"!==t.renderPass)return;const a=Nn.disabled,o=t.colorModeForRenderPass();(i._unevaluatedLayout.hasValue("text-variable-anchor")||i._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(t,n,i,r,s,a,o){const l=n.transform,c="map"===s,u="map"===a;for(const h of t){const t=r.getTile(h),s=t.getBucket(i);if(!s||!s.text||!s.text.segments.get().length)continue;const a=e.ah(s.textSizeData,l.zoom),d=Ie(t,1,n.transform.zoom),p=oe(h.posMatrix,u,c,n.transform,d),f="none"!==i.layout.get("icon-text-fit")&&s.hasIconData();if(a){const e=Math.pow(2,l.zoom-t.tileID.overscaledZ);zn(s,c,u,o,l,p,h.posMatrix,e,a,f,n.style.map.terrain?(e,t)=>n.style.map.terrain.getElevation(h,e,t):null)}}}(r,t,i,n,i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),s),0!==i.paint.get("icon-opacity").constantOr(1)&&Fn(t,n,i,r,!1,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),i.layout.get("icon-rotation-alignment"),i.layout.get("icon-pitch-alignment"),i.layout.get("icon-keep-upright"),a,o),0!==i.paint.get("text-opacity").constantOr(1)&&Fn(t,n,i,r,!0,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),i.layout.get("text-rotation-alignment"),i.layout.get("text-pitch-alignment"),i.layout.get("text-keep-upright"),a,o),n.map.showCollisionBoxes&&(On(t,n,i,r,i.paint.get("text-translate"),i.paint.get("text-translate-anchor"),!0),On(t,n,i,r,i.paint.get("icon-translate"),i.paint.get("icon-translate-anchor"),!1))}(t,n,i,r,this.style.placement.variableOffsets);break;case"circle":!function(t,n,i,r){if("translucent"!==t.renderPass)return;const s=i.paint.get("circle-opacity"),a=i.paint.get("circle-stroke-width"),o=i.paint.get("circle-stroke-opacity"),l=!i.layout.get("circle-sort-key").isConstant();if(0===s.constantOr(1)&&(0===a.constantOr(1)||0===o.constantOr(1)))return;const c=t.context,u=c.gl,h=t.depthModeForSublayer(0,An.ReadOnly),d=Nn.disabled,p=t.colorModeForRenderPass(),f=[];for(let m=0;m<r.length;m++){const s=r[m],a=n.getTile(s),o=a.getBucket(i);if(!o)continue;const c=o.programConfigurations.get(i.id),u=t.useProgram("circle",c),h=o.layoutVertexBuffer,d=o.indexBuffer,p=t.style.map.terrain&&t.style.map.terrain.getTerrainData(s),g={programConfiguration:c,program:u,layoutVertexBuffer:h,indexBuffer:d,uniformValues:vt(t,s,a,i),terrainData:p};if(l){const t=o.segments.get();for(const n of t)f.push({segments:new e.S([n]),sortKey:n.sortKey,state:g})}else f.push({segments:o.segments,sortKey:0,state:g})}l&&f.sort(((e,t)=>e.sortKey-t.sortKey));for(const e of f){const{programConfiguration:n,program:r,layoutVertexBuffer:s,indexBuffer:a,uniformValues:o,terrainData:l}=e.state;r.draw(c,u.TRIANGLES,h,d,p,Mn.disabled,o,l,i.id,s,a,e.segments,i.paint,t.transform.zoom,n)}}(t,n,i,r);break;case"heatmap":!function(t,n,i,r){if(0!==i.paint.get("heatmap-opacity"))if("offscreen"===t.renderPass){const s=t.context,a=s.gl,o=Nn.disabled,l=new kn([a.ONE,a.ONE],e.aT.transparent,[!0,!0,!0,!0]);!function(e,t,n){const i=e.gl;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,t.width/4,t.height/4]);let r=n.heatmapFbo;if(r)i.bindTexture(i.TEXTURE_2D,r.colorAttachment.get()),e.bindFramebuffer.set(r.framebuffer);else{const s=i.createTexture();i.bindTexture(i.TEXTURE_2D,s),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.LINEAR),r=n.heatmapFbo=e.createFramebuffer(t.width/4,t.height/4,!1,!1),function(e,t,n,i){var r,s;const a=e.gl,o=null!==(r=e.HALF_FLOAT)&&void 0!==r?r:a.UNSIGNED_BYTE,l=null!==(s=e.RGBA16F)&&void 0!==s?s:a.RGBA;a.texImage2D(a.TEXTURE_2D,0,l,t.width/4,t.height/4,0,a.RGBA,o,null),i.colorAttachment.set(n)}(e,t,s,r)}}(s,t,i),s.clear({color:e.aT.transparent});for(let e=0;e<r.length;e++){const c=r[e];if(n.hasRenderableParent(c))continue;const u=n.getTile(c),h=u.getBucket(i);if(!h)continue;const d=h.programConfigurations.get(i.id),p=t.useProgram("heatmap",d),{zoom:f}=t.transform;p.draw(s,a.TRIANGLES,An.disabled,o,l,Mn.disabled,wt(c.posMatrix,u,f,i.paint.get("heatmap-intensity")),null,i.id,h.layoutVertexBuffer,h.indexBuffer,h.segments,i.paint,t.transform.zoom,d)}s.viewport.set([0,0,t.width,t.height])}else"translucent"===t.renderPass&&(t.context.setColorMode(t.colorModeForRenderPass()),function(t,n){const i=t.context,r=i.gl,s=n.heatmapFbo;if(!s)return;i.activeTexture.set(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,s.colorAttachment.get()),i.activeTexture.set(r.TEXTURE1);let a=n.colorRampTexture;a||(a=n.colorRampTexture=new _(i,n.colorRamp,r.RGBA)),a.bind(r.LINEAR,r.CLAMP_TO_EDGE),t.useProgram("heatmapTexture").draw(i,r.TRIANGLES,An.disabled,Nn.disabled,t.colorModeForRenderPass(),Mn.disabled,((t,n,i,r)=>{const s=e.Z();e.aS(s,0,t.width,t.height,0,0,1);const a=t.context.gl;return{u_matrix:s,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:n.paint.get("heatmap-opacity")}})(t,n),null,n.id,t.viewportBuffer,t.quadTriangleIndexBuffer,t.viewportSegments,n.paint,t.transform.zoom)}(t,i))}(t,n,i,r);break;case"line":!function(t,n,i,r){if("translucent"!==t.renderPass)return;const s=i.paint.get("line-opacity"),a=i.paint.get("line-width");if(0===s.constantOr(1)||0===a.constantOr(1))return;const o=t.depthModeForSublayer(0,An.ReadOnly),l=t.colorModeForRenderPass(),c=i.paint.get("line-dasharray"),u=i.paint.get("line-pattern"),h=u.constantOr(1),d=i.paint.get("line-gradient"),p=i.getCrossfadeParameters(),f=h?"linePattern":c?"lineSDF":d?"lineGradient":"line",m=t.context,g=m.gl;let y=!0;for(const v of r){const r=n.getTile(v);if(h&&!r.patternsLoaded())continue;const s=r.getBucket(i);if(!s)continue;const a=s.programConfigurations.get(i.id),b=t.context.program.get(),x=t.useProgram(f,a),w=y||x.program!==b,S=t.style.map.terrain&&t.style.map.terrain.getTerrainData(v),E=u.constantOr(null);if(E&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[E.to.toString()],n=e.patternPositions[E.from.toString()];t&&n&&a.setConstantPatternPositions(t,n)}const T=S?v:null,I=h?It(t,r,i,p,T):c?kt(t,r,i,c,p,T):d?Tt(t,r,i,s.lineClipsArray.length,T):Et(t,r,i,T);if(h)m.activeTexture.set(g.TEXTURE0),r.imageAtlasTexture.bind(g.LINEAR,g.CLAMP_TO_EDGE),a.updatePaintBuffers(p);else if(c&&(w||t.lineAtlas.dirty))m.activeTexture.set(g.TEXTURE0),t.lineAtlas.bind(m);else if(d){const r=s.gradients[i.id];let a=r.texture;if(i.gradientVersion!==r.version){let o=256;if(i.stepInterpolant){const i=n.getSource().maxzoom,r=v.canonical.z===i?Math.ceil(1<<t.transform.maxZoom-v.canonical.z):1;o=e.ad(e.aY(s.maxLineLength/e.N*1024*r),256,m.maxTextureSize)}r.gradient=e.aZ({expression:i.gradientExpression(),evaluationKey:"lineProgress",resolution:o,image:r.gradient||void 0,clips:s.lineClipsArray}),r.texture?r.texture.update(r.gradient):r.texture=new _(m,r.gradient,g.RGBA),r.version=i.gradientVersion,a=r.texture}m.activeTexture.set(g.TEXTURE0),a.bind(i.stepInterpolant?g.NEAREST:g.LINEAR,g.CLAMP_TO_EDGE)}x.draw(m,g.TRIANGLES,o,t.stencilModeForClipping(v),l,Mn.disabled,I,S,i.id,s.layoutVertexBuffer,s.indexBuffer,s.segments,i.paint,t.transform.zoom,a,s.layoutVertexBuffer2),y=!1}}(t,n,i,r);break;case"fill":!function(t,n,i,r){const s=i.paint.get("fill-color"),a=i.paint.get("fill-opacity");if(0===a.constantOr(1))return;const o=t.colorModeForRenderPass(),l=i.paint.get("fill-pattern"),c=t.opaquePassEnabledForLayer()&&!l.constantOr(1)&&1===s.constantOr(e.aT.transparent).a&&1===a.constantOr(0)?"opaque":"translucent";if(t.renderPass===c){const e=t.depthModeForSublayer(1,"opaque"===t.renderPass?An.ReadWrite:An.ReadOnly);Un(t,n,i,r,e,o,!1)}if("translucent"===t.renderPass&&i.paint.get("fill-antialias")){const e=t.depthModeForSublayer(i.getPaintProperty("fill-outline-color")?2:0,An.ReadOnly);Un(t,n,i,r,e,o,!0)}}(t,n,i,r);break;case"fill-extrusion":!function(e,t,n,i){const r=n.paint.get("fill-extrusion-opacity");if(0!==r&&"translucent"===e.renderPass){const s=new An(e.context.gl.LEQUAL,An.ReadWrite,e.depthRangeFor3D);if(1!==r||n.paint.get("fill-extrusion-pattern").constantOr(1))qn(e,t,n,i,s,Nn.disabled,kn.disabled),qn(e,t,n,i,s,e.stencilModeFor3D(),e.colorModeForRenderPass());else{const r=e.colorModeForRenderPass();qn(e,t,n,i,s,Nn.disabled,r)}}}(t,n,i,r);break;case"hillshade":!function(e,t,n,i){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const r=e.context,s=e.depthModeForSublayer(0,An.ReadOnly),a=e.colorModeForRenderPass(),[o,l]="translucent"===e.renderPass?e.stencilConfigForOverlap(i):[{},i];for(const c of l){const i=t.getTile(c);void 0!==i.needsHillshadePrepare&&i.needsHillshadePrepare&&"offscreen"===e.renderPass?Gn(e,i,n,s,Nn.disabled,a):"translucent"===e.renderPass&&Hn(e,c,i,n,s,o[c.overscaledZ],a)}r.viewport.set([0,0,e.width,e.height])}(t,n,i,r);break;case"raster":!function(e,t,n,i){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!i.length)return;const r=e.context,s=r.gl,a=t.getSource(),o=e.useProgram("raster"),l=e.colorModeForRenderPass(),[c,u]=a instanceof F?[{},i]:e.stencilConfigForOverlap(i),h=u[u.length-1].overscaledZ,d=!e.options.moving;for(const p of u){const i=e.depthModeForSublayer(p.overscaledZ-h,1===n.paint.get("raster-opacity")?An.ReadWrite:An.ReadOnly,s.LESS),u=t.getTile(p);u.registerFadeDuration(n.paint.get("raster-fade-duration"));const f=t.findLoadedParent(p,0),m=Wn(u,f,t,n,e.transform,e.style.map.terrain);let g,y;const v="nearest"===n.paint.get("raster-resampling")?s.NEAREST:s.LINEAR;r.activeTexture.set(s.TEXTURE0),u.texture.bind(v,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),r.activeTexture.set(s.TEXTURE1),f?(f.texture.bind(v,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST),g=Math.pow(2,f.tileID.overscaledZ-u.tileID.overscaledZ),y=[u.tileID.canonical.x*g%1,u.tileID.canonical.y*g%1]):u.texture.bind(v,s.CLAMP_TO_EDGE,s.LINEAR_MIPMAP_NEAREST);const _=e.style.map.terrain&&e.style.map.terrain.getTerrainData(p),b=_?p:null,x=b?b.posMatrix:e.transform.calculatePosMatrix(p.toUnwrapped(),d),w=Pt(x,y||[0,0],g||1,m,n);a instanceof F?o.draw(r,s.TRIANGLES,i,Nn.disabled,l,Mn.disabled,w,_,n.id,a.boundsBuffer,e.quadTriangleIndexBuffer,a.boundsSegments):o.draw(r,s.TRIANGLES,i,c[p.overscaledZ],l,Mn.disabled,w,_,n.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments)}}(t,n,i,r);break;case"background":!function(e,t,n,i){const r=n.paint.get("background-color"),s=n.paint.get("background-opacity");if(0===s)return;const a=e.context,o=a.gl,l=e.transform,c=l.tileSize,u=n.paint.get("background-pattern");if(e.isPatternMissing(u))return;const h=!u&&1===r.a&&1===s&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==h)return;const d=Nn.disabled,p=e.depthModeForSublayer(0,"opaque"===h?An.ReadWrite:An.ReadOnly),f=e.colorModeForRenderPass(),m=e.useProgram(u?"backgroundPattern":"background"),g=i||l.coveringTiles({tileSize:c,terrain:e.style.map.terrain});u&&(a.activeTexture.set(o.TEXTURE0),e.imageManager.bind(e.context));const y=n.getCrossfadeParameters();for(const v of g){const t=i?v.posMatrix:e.transform.calculatePosMatrix(v.toUnwrapped()),l=u?Lt(t,s,e,u,{tileID:v,tileSize:c},y):Dt(t,s,r),h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v);m.draw(a,o.TRIANGLES,p,d,f,Mn.disabled,l,h,n.id,e.tileExtentBuffer,e.quadTriangleIndexBuffer,e.tileExtentSegments)}}(t,0,i,r);break;case"custom":!function(e,t,n){const i=e.context,r=n.implementation;if("offscreen"===e.renderPass){const t=r.prerender;t&&(e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),t.call(r,i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),i.setColorMode(e.colorModeForRenderPass()),i.setStencilMode(Nn.disabled);const t="3d"===r.renderingMode?new An(e.context.gl.LEQUAL,An.ReadWrite,e.depthRangeFor3D):e.depthModeForSublayer(0,An.ReadOnly);i.setDepthMode(t),r.render(i.gl,e.transform.customLayerMatrix()),i.setDirty(),e.setBaseState(),i.bindFramebuffer.set(null)}}(t,0,i)}}translatePosMatrix(t,n,i,r,s){if(!i[0]&&!i[1])return t;const a=s?"map"===r?this.transform.angle:0:"viewport"===r?-this.transform.angle:0;if(a){const e=Math.sin(a),t=Math.cos(a);i=[i[0]*t-i[1]*e,i[0]*e+i[1]*t]}const o=[s?i[0]:Ie(n,i[0],this.transform.zoom),s?i[1]:Ie(n,i[1],this.transform.zoom),0],l=new Float32Array(16);return e.$(l,t,o),l}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t){this.cache=this.cache||{};const n=e+(t?t.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"")+(this.style.map.terrain?"/terrain":"");return this.cache[n]||(this.cache[n]=new ut(this.context,at[e],t,zt[e],this._showOverdrawInspector,this.style.map.terrain)),this.cache[n]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new _(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}class ri{constructor(e,t){this.points=e,this.planes=t}static fromInvProjectionMatrix(t,n,i){const r=Math.pow(2,i),s=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map((i=>{const s=1/(i=e.ag([],i,t))[3]/n*r;return e.b3(i,i,[s,s,1/i[3],s])})),a=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map((e=>{const t=function(e,t){var n=t[0],i=t[1],r=t[2],s=n*n+i*i+r*r;return s>0&&(s=1/Math.sqrt(s)),e[0]=t[0]*s,e[1]=t[1]*s,e[2]=t[2]*s,e}([],function(e,t,n){var i=t[0],r=t[1],s=t[2],a=n[0],o=n[1],l=n[2];return e[0]=r*l-s*o,e[1]=s*a-i*l,e[2]=i*o-r*a,e}([],m([],s[e[0]],s[e[1]]),m([],s[e[2]],s[e[1]]))),n=-((i=t)[0]*(r=s[e[1]])[0]+i[1]*r[1]+i[2]*r[2]);var i,r;return t.concat(n)}));return new ri(s,a)}}class si{constructor(e,t){this.min=e,this.max=t,this.center=function(e,t,n){return e[0]=.5*t[0],e[1]=.5*t[1],e[2]=.5*t[2],e}([],function(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}([],this.min,this.max))}quadrant(e){const t=[e%2==0,e<2],n=p(this.min),i=p(this.max);for(let r=0;r<t.length;r++)n[r]=t[r]?this.min[r]:this.center[r],i[r]=t[r]?this.center[r]:this.max[r];return i[2]=this.max[2],new si(n,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersects(t){const n=[[this.min[0],this.min[1],this.min[2],1],[this.max[0],this.min[1],this.min[2],1],[this.max[0],this.max[1],this.min[2],1],[this.min[0],this.max[1],this.min[2],1],[this.min[0],this.min[1],this.max[2],1],[this.max[0],this.min[1],this.max[2],1],[this.max[0],this.max[1],this.max[2],1],[this.min[0],this.max[1],this.max[2],1]];let i=!0;for(let r=0;r<t.planes.length;r++){const s=t.planes[r];let a=0;for(let t=0;t<n.length;t++)e.b4(s,n[t])>=0&&a++;if(0===a)return 0;a!==n.length&&(i=!1)}if(i)return 2;for(let e=0;e<3;e++){let n=Number.MAX_VALUE,i=-Number.MAX_VALUE;for(let r=0;r<t.points.length;r++){const s=t.points[r][e]-this.min[e];n=Math.min(n,s),i=Math.max(i,s)}if(i<0||n>this.max[e]-this.min[e])return 0}return 1}}class ai{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(i)||i<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=i}interpolate(t,n,i){return null!=n.top&&null!=t.top&&(this.top=e.B.number(t.top,n.top,i)),null!=n.bottom&&null!=t.bottom&&(this.bottom=e.B.number(t.bottom,n.bottom,i)),null!=n.left&&null!=t.left&&(this.left=e.B.number(t.left,n.left,i)),null!=n.right&&null!=t.right&&(this.right=e.B.number(t.right,n.right,i)),this}getCenter(t,n){const i=e.ad((this.left+t-this.right)/2,0,t),r=e.ad((this.top+n-this.bottom)/2,0,n);return new e.P(i,r)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new ai(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}class oi{constructor(t,n,i,r,s){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=void 0===s||!!s,this._minZoom=t||0,this._maxZoom=n||22,this._minPitch=null==i?0:i,this._maxPitch=null==r?60:r,this.setMaxBounds(),this.width=0,this.height=0,this._center=new e.L(0,0),this._elevation=0,this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new ai,this._posMatrixCache={},this._alignedPosMatrixCache={},this._minEleveationForCurrentTile=0}clone(){const e=new oi(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return e.apply(this),e}apply(e){this.tileSize=e.tileSize,this.latRange=e.latRange,this.width=e.width,this.height=e.height,this._center=e._center,this._elevation=e._elevation,this._minEleveationForCurrentTile=e._minEleveationForCurrentTile,this.zoom=e.zoom,this.angle=e.angle,this._fov=e._fov,this._pitch=e._pitch,this._unmodified=e._unmodified,this._edgeInsets=e._edgeInsets.clone(),this._calcMatrices()}get minZoom(){return this._minZoom}set minZoom(e){this._minZoom!==e&&(this._minZoom=e,this.zoom=Math.max(this.zoom,e))}get maxZoom(){return this._maxZoom}set maxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.zoom=Math.min(this.zoom,e))}get minPitch(){return this._minPitch}set minPitch(e){this._minPitch!==e&&(this._minPitch=e,this.pitch=Math.max(this.pitch,e))}get maxPitch(){return this._maxPitch}set maxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.pitch=Math.min(this.pitch,e))}get renderWorldCopies(){return this._renderWorldCopies}set renderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get worldSize(){return this.tileSize*this.scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new e.P(this.width,this.height)}get bearing(){return-this.angle/Math.PI*180}set bearing(t){const n=-e.b5(t,-180,180)*Math.PI/180;this.angle!==n&&(this._unmodified=!1,this.angle=n,this._calcMatrices(),this.rotationMatrix=function(){var t=new e.A(4);return e.A!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t}(),function(e,t,n){var i=t[0],r=t[1],s=t[2],a=t[3],o=Math.sin(n),l=Math.cos(n);e[0]=i*l+s*o,e[1]=r*l+a*o,e[2]=i*-o+s*l,e[3]=r*-o+a*l}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(t){const n=e.ad(t,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==n&&(this._unmodified=!1,this._pitch=n,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(e){e=Math.max(.01,Math.min(60,e)),this._fov!==e&&(this._unmodified=!1,this._fov=e/180*Math.PI,this._calcMatrices())}get zoom(){return this._zoom}set zoom(e){const t=Math.min(Math.max(e,this.minZoom),this.maxZoom);this._zoom!==t&&(this._unmodified=!1,this._zoom=t,this.tileZoom=Math.max(0,Math.floor(t)),this.scale=this.zoomScale(t),this._constrain(),this._calcMatrices())}get center(){return this._center}set center(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this._constrain(),this._calcMatrices())}get elevation(){return this._elevation}set elevation(e){e!==this._elevation&&(this._elevation=e,this._constrain(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}set padding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this._constrain(),this._calcMatrices()}coveringZoomLevel(e){const t=(e.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/e.tileSize));return Math.max(0,t)}getVisibleUnwrappedCoordinates(t){const n=[new e.b6(0,t)];if(this._renderWorldCopies){const i=this.pointCoordinate(new e.P(0,0)),r=this.pointCoordinate(new e.P(this.width,0)),s=this.pointCoordinate(new e.P(this.width,this.height)),a=this.pointCoordinate(new e.P(0,this.height)),o=Math.floor(Math.min(i.x,r.x,s.x,a.x)),l=Math.floor(Math.max(i.x,r.x,s.x,a.x)),c=1;for(let u=o-c;u<=l+c;u++)0!==u&&n.push(new e.b6(u,t))}return n}coveringTiles(t){var n,i;let r=this.coveringZoomLevel(t);const s=r;if(void 0!==t.minzoom&&r<t.minzoom)return[];void 0!==t.maxzoom&&r>t.maxzoom&&(r=t.maxzoom);const a=this.pointCoordinate(this.getCameraPoint()),o=e.U.fromLngLat(this.center),l=Math.pow(2,r),c=[l*a.x,l*a.y,0],u=[l*o.x,l*o.y,0],h=ri.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,r);let d=t.minzoom||0;!t.terrain&&this.pitch<=60&&this._edgeInsets.top<.1&&(d=r);const p=t.terrain?2/Math.min(this.tileSize,t.tileSize)*this.tileSize:3,f=e=>({aabb:new si([e*l,0,0],[(e+1)*l,l,0]),zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),m=[],y=[],v=r,_=t.reparseOverscaled?s:r;if(this._renderWorldCopies)for(let e=1;e<=3;e++)m.push(f(-e)),m.push(f(e));for(m.push(f(0));m.length>0;){const r=m.pop(),s=r.x,a=r.y;let o=r.fullyVisible;if(!o){const e=r.aabb.intersects(h);if(0===e)continue;o=2===e}const l=t.terrain?c:u,f=r.aabb.distanceX(l),b=r.aabb.distanceY(l),x=Math.max(Math.abs(f),Math.abs(b));if(r.zoom===v||x>p+(1<<v-r.zoom)-2&&r.zoom>=d){const t=v-r.zoom,n=c[0]-.5-(s<<t),i=c[1]-.5-(a<<t);y.push({tileID:new e.O(r.zoom===v?_:r.zoom,r.wrap,r.zoom,s,a),distanceSq:g([u[0]-.5-s,u[1]-.5-a]),tileDistanceToCamera:Math.sqrt(n*n+i*i)})}else for(let c=0;c<4;c++){const l=(s<<1)+c%2,u=(a<<1)+(c>>1),h=r.zoom+1;let d=r.aabb.quadrant(c);if(t.terrain){const s=new e.O(h,r.wrap,h,l,u),a=t.terrain.getMinMaxElevation(s),o=null!==(n=a.minElevation)&&void 0!==n?n:this.elevation,c=null!==(i=a.maxElevation)&&void 0!==i?i:this.elevation;d=new si([d.min[0],d.min[1],o],[d.max[0],d.max[1],c])}m.push({aabb:d,zoom:h,x:l,y:u,wrap:r.wrap,fullyVisible:o})}}return y.sort(((e,t)=>e.distanceSq-t.distanceSq)).map((e=>e.tileID))}resize(e,t){this.width=e,this.height=t,this.pixelsToGLUnits=[2/e,-2/t],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(e){return Math.pow(2,e)}scaleZoom(e){return Math.log(e)/Math.LN2}project(t){const n=e.ad(t.lat,-this.maxValidLatitude,this.maxValidLatitude);return new e.P(e.G(t.lng)*this.worldSize,e.H(n)*this.worldSize)}unproject(t){return new e.U(t.x/this.worldSize,t.y/this.worldSize).toLngLat()}get point(){return this.project(this.center)}getCameraPosition(){return{lngLat:this.pointLocation(this.getCameraPoint()),altitude:Math.cos(this._pitch)*this.cameraToCenterDistance/this._pixelPerMeter+this.elevation}}recalculateZoom(t){const n=this.pointLocation(this.centerPoint,t),i=t.getElevationForLngLatZoom(n,this.tileZoom);if(!(this.elevation-i))return;const r=this.getCameraPosition(),s=e.U.fromLngLat(r.lngLat,r.altitude),a=e.U.fromLngLat(n,i),o=s.x-a.x,l=s.y-a.y,c=s.z-a.z,u=Math.sqrt(o*o+l*l+c*c),h=this.scaleZoom(this.cameraToCenterDistance/u/this.tileSize);this._elevation=i,this._center=n,this.zoom=h}setLocationAtPoint(t,n){const i=this.pointCoordinate(n),r=this.pointCoordinate(this.centerPoint),s=this.locationCoordinate(t),a=new e.U(s.x-(i.x-r.x),s.y-(i.y-r.y));this.center=this.coordinateLocation(a),this._renderWorldCopies&&(this.center=this.center.wrap())}locationPoint(e,t){return t?this.coordinatePoint(this.locationCoordinate(e),t.getElevationForLngLatZoom(e,this.tileZoom),this.pixelMatrix3D):this.coordinatePoint(this.locationCoordinate(e))}pointLocation(e,t){return this.coordinateLocation(this.pointCoordinate(e,t))}locationCoordinate(t){return e.U.fromLngLat(t)}coordinateLocation(e){return e&&e.toLngLat()}pointCoordinate(t,n){if(n){const e=n.pointCoordinate(t);if(null!=e)return e}const i=[t.x,t.y,0,1],r=[t.x,t.y,1,1];e.ag(i,i,this.pixelMatrixInverse),e.ag(r,r,this.pixelMatrixInverse);const s=i[3],a=r[3],o=i[1]/s,l=r[1]/a,c=i[2]/s,u=r[2]/a,h=c===u?0:(0-c)/(u-c);return new e.U(e.B.number(i[0]/s,r[0]/a,h)/this.worldSize,e.B.number(o,l,h)/this.worldSize)}coordinatePoint(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.pixelMatrix;const r=[t.x*this.worldSize,t.y*this.worldSize,n,1];return e.ag(r,r,i),new e.P(r[0]/r[3],r[1]/r[3])}getBounds(){const t=Math.max(0,this.height/2-this.getHorizon());return(new M).extend(this.pointLocation(new e.P(0,t))).extend(this.pointLocation(new e.P(this.width,t))).extend(this.pointLocation(new e.P(this.width,this.height))).extend(this.pointLocation(new e.P(0,this.height)))}getMaxBounds(){return this.latRange&&2===this.latRange.length&&this.lngRange&&2===this.lngRange.length?new M([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null}getHorizon(){return Math.tan(Math.PI/2-this._pitch)*this.cameraToCenterDistance*.85}setMaxBounds(e){e?(this.lngRange=[e.getWest(),e.getEast()],this.latRange=[e.getSouth(),e.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])}calculatePosMatrix(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=t.key,r=n?this._alignedPosMatrixCache:this._posMatrixCache;if(r[i])return r[i];const s=t.canonical,a=this.worldSize/this.zoomScale(s.z),o=s.x+Math.pow(2,s.z)*t.wrap,l=e.ao(new Float64Array(16));return e.$(l,l,[o*a,s.y*a,0]),e.a0(l,l,[a/e.N,a/e.N,1]),e.a1(l,n?this.alignedProjMatrix:this.projMatrix,l),r[i]=new Float32Array(l),r[i]}customLayerMatrix(){return this.mercatorMatrix.slice()}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;let t,n,i,r,s=-90,a=90,o=-180,l=180;const c=this.size,u=this._unmodified;if(this.latRange){const n=this.latRange;s=e.H(n[1])*this.worldSize,a=e.H(n[0])*this.worldSize,t=a-s<c.y?c.y/(a-s):0}if(this.lngRange){const t=this.lngRange;o=e.b5(e.G(t[0])*this.worldSize,0,this.worldSize),l=e.b5(e.G(t[1])*this.worldSize,0,this.worldSize),l<o&&(l+=this.worldSize),n=l-o<c.x?c.x/(l-o):0}const h=this.point,d=Math.max(n||0,t||0);if(d)return this.center=this.unproject(new e.P(n?(l+o)/2:h.x,t?(a+s)/2:h.y)),this.zoom+=this.scaleZoom(d),this._unmodified=u,void(this._constraining=!1);if(this.latRange){const e=h.y,t=c.y/2;e-t<s&&(r=s+t),e+t>a&&(r=a-t)}if(this.lngRange){const t=(o+l)/2,n=e.b5(h.x,t-this.worldSize/2,t+this.worldSize/2),r=c.x/2;n-r<o&&(i=o+r),n+r>l&&(i=l-r)}void 0===i&&void 0===r||(this.center=this.unproject(new e.P(void 0!==i?i:h.x,void 0!==r?r:h.y)).wrap()),this._unmodified=u,this._constraining=!1}_calcMatrices(){if(!this.height)return;const t=this.centerOffset,n=this.point.x,i=this.point.y;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height,this._pixelPerMeter=e.b7(1,this.center.lat)*this.worldSize;let r=e.ao(new Float64Array(16));e.a0(r,r,[this.width/2,-this.height/2,1]),e.$(r,r,[1,-1,0]),this.labelPlaneMatrix=r,r=e.ao(new Float64Array(16)),e.a0(r,r,[1,-1,1]),e.$(r,r,[-1,-1,0]),e.a0(r,r,[2/this.width,2/this.height,1]),this.glCoordMatrix=r;const s=this.cameraToCenterDistance+this._elevation*this._pixelPerMeter/Math.cos(this._pitch),a=Math.min(this.elevation,this._minEleveationForCurrentTile),o=s-a*this._pixelPerMeter/Math.cos(this._pitch),l=a<0?o:s,c=Math.PI/2+this._pitch,u=this._fov*(.5+t.y/this.height),h=Math.sin(u)*l/Math.sin(e.ad(Math.PI-c-u,.01,Math.PI-.01)),d=this.getHorizon(),p=2*Math.atan(d/this.cameraToCenterDistance)*(.5+t.y/(2*d)),f=Math.sin(p)*l/Math.sin(e.ad(Math.PI-c-p,.01,Math.PI-.01)),m=Math.min(h,f),g=1.01*(Math.cos(Math.PI/2-this._pitch)*m+l),y=this.height/50;r=new Float64Array(16),e.b8(r,this._fov,this.width/this.height,y,g),r[8]=2*-t.x/this.width,r[9]=2*t.y/this.height,e.a0(r,r,[1,-1,1]),e.$(r,r,[0,0,-this.cameraToCenterDistance]),e.b9(r,r,this._pitch),e.ae(r,r,this.angle),e.$(r,r,[-n,-i,0]),this.mercatorMatrix=e.a0([],r,[this.worldSize,this.worldSize,this.worldSize]),e.a0(r,r,[1,1,this._pixelPerMeter]),this.pixelMatrix=e.a1(new Float64Array(16),this.labelPlaneMatrix,r),e.$(r,r,[0,0,-this.elevation]),this.projMatrix=r,this.invProjMatrix=e.as([],r),this.pixelMatrix3D=e.a1(new Float64Array(16),this.labelPlaneMatrix,r);const v=this.width%2/2,_=this.height%2/2,b=Math.cos(this.angle),x=Math.sin(this.angle),w=n-Math.round(n)+b*v+x*_,S=i-Math.round(i)+b*_+x*v,E=new Float64Array(r);if(e.$(E,E,[w>.5?w-1:w,S>.5?S-1:S,0]),this.alignedProjMatrix=E,r=e.as(new Float64Array(16),this.pixelMatrix),!r)throw new Error("failed to invert matrix");this.pixelMatrixInverse=r,this._posMatrixCache={},this._alignedPosMatrixCache={}}maxPitchScaleFactor(){if(!this.pixelMatrixInverse)return 1;const t=this.pointCoordinate(new e.P(0,0)),n=[t.x*this.worldSize,t.y*this.worldSize,0,1];return e.ag(n,n,this.pixelMatrix)[3]/this.cameraToCenterDistance}getCameraPoint(){const t=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new e.P(0,t))}getCameraQueryGeometry(t){const n=this.getCameraPoint();if(1===t.length)return[t[0],n];{let i=n.x,r=n.y,s=n.x,a=n.y;for(const e of t)i=Math.min(i,e.x),r=Math.min(r,e.y),s=Math.max(s,e.x),a=Math.max(a,e.y);return[new e.P(i,r),new e.P(s,r),new e.P(s,a),new e.P(i,a),new e.P(i,r)]}}}function li(e,t){var n=this;let i,r=!1,s=null,a=null;const o=()=>{s=null,r&&(e.apply(a,i),s=setTimeout(o,t),r=!1)};return function(){for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return r=!0,a=n,i=t,s||o(),s}}class ci{constructor(e){this._getCurrentHash=()=>{const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map((e=>e.split("="))).forEach((e=>{e[0]===this._hashName&&(t=e)})),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{const e=this._getCurrentHash();if(e.length>=3&&!e.some((e=>isNaN(e)))){const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0}return!1},this._updateHashUnthrottled=()=>{const e=window.location.href.replace(/(#.+)?$/,this.getHashString());try{window.history.replaceState(window.history.state,null,e)}catch(e){}},this._updateHash=li(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,i=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),r=Math.pow(10,i),s=Math.round(t.lng*r)/r,a=Math.round(t.lat*r)/r,o=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?"/".concat(s,"/").concat(a,"/").concat(n):"".concat(n,"/").concat(a,"/").concat(s),(o||l)&&(c+="/"+Math.round(10*o)/10),l&&(c+="/".concat(Math.round(l))),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map((n=>{const i=n.split("=")[0];return i===e?(t=!0,"".concat(i,"=").concat(c)):n})).filter((e=>e));return t||n.push("".concat(e,"=").concat(c)),"#".concat(n.join("&"))}return"#".concat(c)}}const ui={linearity:.3,easing:e.ba(0,0,.3,1)},hi=e.e({deceleration:2500,maxSpeed:1400},ui),di=e.e({deceleration:20,maxSpeed:1400},ui),pi=e.e({deceleration:1e3,maxSpeed:360},ui),fi=e.e({deceleration:1e3,maxSpeed:90},ui);class mi{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(t){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:e.h.now(),settings:t})}_drainInertiaBuffer(){const t=this._inertiaBuffer,n=e.h.now();for(;t.length>0&&n-t[0].time>160;)t.shift()}_onMoveEnd(t){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,pan:new e.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:e}of this._inertiaBuffer)n.zoom+=e.zoomDelta||0,n.bearing+=e.bearingDelta||0,n.pitch+=e.pitchDelta||0,e.panDelta&&n.pan._add(e.panDelta),e.around&&(n.around=e.around),e.pinchAround&&(n.pinchAround=e.pinchAround);const i=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,r={};if(n.pan.mag()){const s=yi(n.pan.mag(),i,e.e({},hi,t||{}));r.offset=n.pan.mult(s.amount/n.pan.mag()),r.center=this._map.transform.center,gi(r,s)}if(n.zoom){const e=yi(n.zoom,i,di);r.zoom=this._map.transform.zoom+e.amount,gi(r,e)}if(n.bearing){const t=yi(n.bearing,i,pi);r.bearing=this._map.transform.bearing+e.ad(t.amount,-179,179),gi(r,t)}if(n.pitch){const e=yi(n.pitch,i,fi);r.pitch=this._map.transform.pitch+e.amount,gi(r,e)}if(r.zoom||r.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;r.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),e.e(r,{noMoveStart:!0})}}function gi(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function yi(t,n,i){const{maxSpeed:r,linearity:s,deceleration:a}=i,o=e.ad(t*s/(n/1e3),-r,r),l=Math.abs(o)/(a*s);return{easing:i.easing,duration:1e3*l,amount:o*(l/2)}}class vi extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=n.mousePos(i.getCanvasContainer(),r),o=i.unproject(a);super(t,e.e({point:a,lngLat:o,originalEvent:r},s)),this._defaultPrevented=!1,this.target=i}}class _i extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(t,i,r){const s="touchend"===t?r.changedTouches:r.touches,a=n.touchPos(i.getCanvasContainer(),s),o=a.map((e=>i.unproject(e))),l=a.reduce(((e,t,n,i)=>e.add(t.div(i.length))),new e.P(0,0));super(t,{points:a,point:l,lngLats:o,lngLat:i.unproject(l),originalEvent:r}),this._defaultPrevented=!1}}class bi extends e.k{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class xi{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new bi(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new vi(e.type,this._map,e))}mouseup(e){this._map.fire(new vi(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new vi(e.type,this._map,e))}dblclick(e){return this._firePreventable(new vi(e.type,this._map,e))}mouseover(e){this._map.fire(new vi(e.type,this._map,e))}mouseout(e){this._map.fire(new vi(e.type,this._map,e))}touchstart(e){return this._firePreventable(new _i(e.type,this._map,e))}touchmove(e){this._map.fire(new _i(e.type,this._map,e))}touchend(e){this._map.fire(new _i(e.type,this._map,e))}touchcancel(e){this._map.fire(new _i(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class wi{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new vi(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new vi("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new vi(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Si{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(t){return this.transform.pointLocation(e.P.convert(t),this._map.terrain)}}class Ei{constructor(e,t){this._map=e,this._tr=new Si(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(n.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const i=t;if(this._lastPos.equals(i)||!this._box&&i.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=i,this._box||(this._box=n.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const s=Math.min(r.x,i.x),a=Math.max(r.x,i.x),o=Math.min(r.y,i.y),l=Math.max(r.y,i.y);n.setTransform(this._box,"translate(".concat(s,"px,").concat(o,"px)")),this._box.style.width=a-s+"px",this._box.style.height=l-o+"px"}mouseupWindow(t,i){if(!this._active)return;if(0!==t.button)return;const r=this._startPos,s=i;if(this.reset(),n.suppressClick(),r.x!==s.x||r.y!==s.y)return this._map.fire(new e.k("boxzoomend",{originalEvent:t})),{cameraAnimation:e=>e.fitScreenCoordinates(r,s,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",t)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(n.remove(this._box),this._box=null),n.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(t,n){return this._map.fire(new e.k(t,{originalEvent:n}))}}function Ti(e,t){if(e.length!==t.length)throw new Error("The number of touches and points are not equal - touches ".concat(e.length,", points ").concat(t.length));const n={};for(let i=0;i<e.length;i++)n[e[i].identifier]=t[i];return n}class Ii{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(t,n,i){(this.centroid||i.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=t.timeStamp),i.length===this.numTouches&&(this.centroid=function(t){const n=new e.P(0,0);for(const e of t)n._add(e);return n.div(t.length)}(n),this.touches=Ti(i,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const i=Ti(n,t);for(const r in this.touches){const e=i[r];(!e||e.dist(this.touches[r])>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class ki{constructor(e){this.singleTap=new Ii(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const i=this.singleTap.touchend(e,t,n);if(i){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(i)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=i,this.count===this.numTaps)return this.reset(),i}}}class Ci{constructor(e){this._tr=new Si(e),this._zoomIn=new ki({numTouches:1,numTaps:2}),this._zoomOut=new ki({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const i=this._zoomIn.touchend(e,t,n),r=this._zoomOut.touchend(e,t,n),s=this._tr;return i?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:s.zoom+1,around:s.unproject(i)},{originalEvent:e})}):r?(this._active=!0,e.preventDefault(),setTimeout((()=>this.reset()),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:s.zoom-1,around:s.unproject(r)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ai{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(){const e=this._moveFunction(...arguments);if(e.bearingDelta||e.pitchDelta||e.around||e.panDelta)return this._active=!0,e}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=t.length?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,t){if(!this.isEnabled())return;const n=this._lastPoint;if(!n)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const i=t.length?t[0]:t;return!this._moved&&i.dist(n)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=i,this._move(n,i))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&n.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const Pi={0:1,2:2};class Ni{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const t=n.mouseButton(e);this._eventButton=t}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){const n=Pi[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton)}isValidEndEvent(e){return n.mouseButton(e)===this._eventButton}}class Mi{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}const Ri=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=function(e){e.preventDefault()}},Oi=e=>{let{enable:t,clickTolerance:i,bearingDegreesPerPixelMoved:r=.8}=e;const s=new Ni({checkCorrectEvent:e=>0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)});return new Ai({clickTolerance:i,move:(e,t)=>({bearingDelta:(t.x-e.x)*r}),moveStateManager:s,enable:t,assignEvents:Ri})},Di=e=>{let{enable:t,clickTolerance:i,pitchDegreesPerPixelMoved:r=-.5}=e;const s=new Ni({checkCorrectEvent:e=>0===n.mouseButton(e)&&e.ctrlKey||2===n.mouseButton(e)});return new Ai({clickTolerance:i,move:(e,t)=>({pitchDelta:(t.y-e.y)*r}),moveStateManager:s,enable:t,assignEvents:Ri})};class Li{constructor(e,t){this._minTouches=e.cooperativeGestures?2:1,this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new e.P(0,0),setTimeout((()=>{this._cancelCooperativeMessage=!1}),200)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._map._cooperativeGestures&&(2===this._minTouches&&n.length<2&&!this._cancelCooperativeMessage?this._map._onCooperativeGesture(e,!1,n.length):this._cancelCooperativeMessage||(this._cancelCooperativeMessage=!0)),this._active&&!(n.length<this._minTouches))return e.preventDefault(),this._calculateTransform(e,t,n)}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&n.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(t,n,i){i.length>0&&(this._active=!0);const r=Ti(i,n),s=new e.P(0,0),a=new e.P(0,0);let o=0;for(const e in r){const t=r[e],n=this._touches[e];n&&(s._add(t),a._add(t.sub(n)),o++,r[e]=t)}if(this._touches=r,o<this._minTouches||!a.mag())return;const l=a.div(o);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:s.div(o),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class zi{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[i,r]=this._firstTwoTouches,s=ji(n,t,i),a=ji(n,t,r);if(!s||!a)return;const o=this._aroundCenter?null:s.add(a).div(2);return this._move([s,a],o,e)}touchend(e,t,i){if(!this._firstTwoTouches)return;const[r,s]=this._firstTwoTouches,a=ji(i,t,r),o=ji(i,t,s);a&&o||(this._active&&n.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function ji(e,t,n){for(let i=0;i<e.length;i++)if(e[i].identifier===n)return t[i]}function Fi(e,t){return Math.log(e/t)/Math.LN2}class Bi extends zi{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Fi(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Fi(this._distance,n),pinchAround:t}}}function Vi(e,t){return 180*e.angleWith(t)/Math.PI}class Ui extends zi{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t){const n=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Vi(this._vector,n),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=Vi(e,this._startVector);return Math.abs(n)<t}}function qi(e){return Math.abs(e.y)>Math.abs(e.x)}class Hi extends zi{constructor(e){super(),this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,n){super.touchstart(e,t,n),this._currentTouchCount=n.length}_start(e){this._lastPoints=e,qi(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){if(this._map._cooperativeGestures&&this._currentTouchCount<3)return;const i=e[0].sub(this._lastPoints[0]),r=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(i,r,n.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(i.y+r.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const i=e.mag()>=2,r=t.mag()>=2;if(!i&&!r)return;if(!i||!r)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const s=e.y>0==t.y>0;return qi(e)&&qi(t)&&s}}const Gi={panStep:100,bearingStep:15,pitchStep:10};class Wi{constructor(e){this._tr=new Si(e);const t=Gi;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,i=0,r=0,s=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),r=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),r=1);break;case 38:e.shiftKey?i=1:(e.preventDefault(),s=-1);break;case 40:e.shiftKey?i=-1:(e.preventDefault(),s=1);break;default:return}return this._rotationDisabled&&(n=0,i=0),{cameraAnimation:a=>{const o=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:Ki,zoom:t?Math.round(o.zoom)+t*(e.shiftKey?2:1):o.zoom,bearing:o.bearing+n*this._bearingStep,pitch:o.pitch+i*this._pitchStep,offset:[-r*this._panStep,-s*this._panStep],center:o.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Ki(e){return e*(2-e)}const Yi=4.000244140625;class Zi{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},this._map=e,this._tr=new Si(e),this._el=e.getCanvasContainer(),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}wheel(t){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!t[this._map._metaKey])return;t.preventDefault()}let n=t.deltaMode===WheelEvent.DOM_DELTA_LINE?40*t.deltaY:t.deltaY;const i=e.h.now(),r=i-(this._lastWheelEventTime||0);this._lastWheelEventTime=i,0!==n&&n%Yi==0?this._type="wheel":0!==n&&Math.abs(n)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=n,this._timeout=setTimeout(this._onTimeout,40,t)):this._type||(this._type=Math.abs(r*n)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,n+=this._lastValue)),t.shiftKey&&n&&(n/=4),this._type&&(this._lastWheelEvent=t,this._delta-=n,this._active||this._start(t)),t.preventDefault()}_start(t){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const i=n.mousePos(this._el,t),r=this._tr;this._around=e.L.convert(this._aroundCenter?r.center:r.unproject(i)),this._aroundPoint=r.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const t=this._tr.transform;if(0!==this._delta){const e="wheel"===this._type&&Math.abs(this._delta)>Yi?this._wheelZoomRate:this._defaultZoomRate;let n=2/(1+Math.exp(-Math.abs(this._delta*e)));this._delta<0&&0!==n&&(n=1/n);const i="number"==typeof this._targetZoom?t.zoomScale(this._targetZoom):t.scale;this._targetZoom=Math.min(t.maxZoom,Math.max(t.minZoom,t.scaleZoom(i*n))),"wheel"===this._type&&(this._startZoom=t.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"==typeof this._targetZoom?this._targetZoom:t.zoom,i=this._startZoom,r=this._easing;let s,a=!1;if("wheel"===this._type&&i&&r){const t=Math.min((e.h.now()-this._lastWheelEventTime)/200,1),o=r(t);s=e.B.number(i,n,o),t<1?this._frameId||(this._frameId=!0):a=!0}else s=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout((()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout}),200)),{noInertia:!0,needsRenderFrame:!a,zoomDelta:s-t.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(t){let n=e.bb;if(this._prevEase){const t=this._prevEase,i=(e.h.now()-t.start)/t.duration,r=t.easing(i+.01)-t.easing(i),s=.27/Math.sqrt(r*r+1e-4)*.01,a=Math.sqrt(.0729-s*s);n=e.ba(s,a,.25,1)}return this._prevEase={start:e.h.now(),duration:t,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class Xi{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Qi{constructor(e){this._tr=new Si(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Ji{constructor(){this._tap=new ki({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,n){if(!this._swipePoint)if(this._tapTime){const i=t[0],r=e.timeStamp-this._tapTime<500,s=this._tapPoint.dist(i)<30;r&&s?n.length>0&&(this._swipePoint=i,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(e,t,n)}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const i=t[0],r=i.y-this._swipePoint.y;return this._swipePoint=i,e.preventDefault(),this._active=!0,{zoomDelta:r/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{const i=this._tap.touchend(e,t,n);i&&(this._tapTime=e.timeStamp,this._tapPoint=i)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class $i{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class er{constructor(e,t,n){this._pitchWithRotate=e.pitchWithRotate,this._mouseRotate=t,this._mousePitch=n}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class tr{constructor(e,t,n,i){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=i,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const nr=e=>e.zoom||e.drag||e.pitch||e.rotate;class ir extends e.k{}function rr(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta}class sr{constructor(e,t){this.handleWindowEvent=e=>{this.handleEvent(e,"".concat(e.type,"Window"))},this.handleEvent=(e,t)=>{if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const i="renderFrame"===e.type?void 0:e,r={needsRenderFrame:!1},s={},a={},o=e.touches,l=o?this._getMapTouches(o):void 0,c=l?n.touchPos(this._el,l):n.mousePos(this._el,e);for(const{handlerName:n,handler:d,allowed:p}of this._handlers){if(!d.isEnabled())continue;let o;this._blockedByActive(a,p,n)?d.reset():d[t||e.type]&&(o=d[t||e.type](e,c,l),this.mergeHandlerResult(r,s,o,n,i),o&&o.needsRenderFrame&&this._triggerRenderFrame()),(o||d.isActive())&&(a[n]=d)}const u={};for(const n in this._previousActiveHandlers)a[n]||(u[n]=i);this._previousActiveHandlers=a,(Object.keys(u).length||rr(r))&&(this._changes.push([r,s,u]),this._triggerRenderFrame()),(Object.keys(a).length||rr(r))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:h}=r;h&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],h(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new mi(e),this._bearingSnap=t.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(t);const i=this._el;this._listeners=[[i,"touchstart",{passive:!0}],[i,"touchmove",{passive:!1}],[i,"touchend",void 0],[i,"touchcancel",void 0],[i,"mousedown",void 0],[i,"mousemove",void 0],[i,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[i,"mouseover",void 0],[i,"mouseout",void 0],[i,"dblclick",void 0],[i,"click",void 0],[i,"keydown",{capture:!1}],[i,"keyup",void 0],[i,"wheel",{passive:!1}],[i,"contextmenu",void 0],[window,"blur",void 0]];for(const[r,s,a]of this._listeners)n.addEventListener(r,s,r===document?this.handleWindowEvent:this.handleEvent,a)}destroy(){for(const[e,t,i]of this._listeners)n.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,i)}_addDefaultHandlers(e){const t=this._map,i=t.getCanvasContainer();this._add("mapEvent",new xi(t,e));const r=t.boxZoom=new Ei(t,e);this._add("boxZoom",r),e.interactive&&e.boxZoom&&r.enable();const s=new Ci(t),a=new Qi(t);t.doubleClickZoom=new Xi(a,s),this._add("tapZoom",s),this._add("clickZoom",a),e.interactive&&e.doubleClickZoom&&t.doubleClickZoom.enable();const o=new Ji;this._add("tapDragZoom",o);const l=t.touchPitch=new Hi(t);this._add("touchPitch",l),e.interactive&&e.touchPitch&&t.touchPitch.enable(e.touchPitch);const c=Oi(e),u=Di(e);t.dragRotate=new er(e,c,u),this._add("mouseRotate",c,["mousePitch"]),this._add("mousePitch",u,["mouseRotate"]),e.interactive&&e.dragRotate&&t.dragRotate.enable();const h=(e=>{let{enable:t,clickTolerance:i}=e;const r=new Ni({checkCorrectEvent:e=>0===n.mouseButton(e)&&!e.ctrlKey});return new Ai({clickTolerance:i,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:r,enable:t,assignEvents:Ri})})(e),d=new Li(e,t);t.dragPan=new $i(i,h,d),this._add("mousePan",h),this._add("touchPan",d,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&t.dragPan.enable(e.dragPan);const p=new Ui,f=new Bi;t.touchZoomRotate=new tr(i,f,p,o),this._add("touchRotate",p,["touchPan","touchZoom"]),this._add("touchZoom",f,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&t.touchZoomRotate.enable(e.touchZoomRotate);const m=t.scrollZoom=new Zi(t,(()=>this._triggerRenderFrame()));this._add("scrollZoom",m,["mousePan"]),e.interactive&&e.scrollZoom&&t.scrollZoom.enable(e.scrollZoom);const g=t.keyboard=new Wi(t);this._add("keyboard",g),e.interactive&&e.keyboard&&t.keyboard.enable(),this._add("blockableMapEvent",new wi(t))}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(nr(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const i in e)if(i!==n&&(!t||t.indexOf(i)<0))return!0;return!1}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}mergeHandlerResult(t,n,i,r,s){if(!i)return;e.e(t,i);const a={handlerName:r,originalEvent:i.originalEvent||s};void 0!==i.zoomDelta&&(n.zoom=a),void 0!==i.panDelta&&(n.drag=a),void 0!==i.pitchDelta&&(n.pitch=a),void 0!==i.bearingDelta&&(n.rotate=a)}_applyChanges(){const t={},n={},i={};for(const[r,s,a]of this._changes)r.panDelta&&(t.panDelta=(t.panDelta||new e.P(0,0))._add(r.panDelta)),r.zoomDelta&&(t.zoomDelta=(t.zoomDelta||0)+r.zoomDelta),r.bearingDelta&&(t.bearingDelta=(t.bearingDelta||0)+r.bearingDelta),r.pitchDelta&&(t.pitchDelta=(t.pitchDelta||0)+r.pitchDelta),void 0!==r.around&&(t.around=r.around),void 0!==r.pinchAround&&(t.pinchAround=r.pinchAround),r.noInertia&&(t.noInertia=r.noInertia),e.e(n,s),e.e(i,a);this._updateMapTransform(t,n,i),this._changes=[]}_updateMapTransform(e,t,n){const i=this._map,r=i._getTransformForUpdate(),s=i.terrain;if(!(rr(e)||s&&this._terrainMovement))return this._fireEvents(t,n,!0);let{panDelta:a,zoomDelta:o,bearingDelta:l,pitchDelta:c,around:u,pinchAround:h}=e;void 0!==h&&(u=h),i._stop(!0),u=u||i.transform.centerPoint;const d=r.pointLocation(a?u.sub(a):u);l&&(r.bearing+=l),c&&(r.pitch+=c),o&&(r.zoom+=o),s?this._terrainMovement||!t.drag&&!t.zoom?t.drag&&this._terrainMovement?r.center=r.pointLocation(r.centerPoint.sub(a)):r.setLocationAtPoint(d,u):(this._terrainMovement=!0,this._map._elevationFreeze=!0,r.setLocationAtPoint(d,u),this._map.once("moveend",(()=>{this._map._elevationFreeze=!1,this._terrainMovement=!1,r.recalculateZoom(i.terrain)}))):r.setLocationAtPoint(d,u),i._applyUpdatedTransform(r),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_fireEvents(t,n,i){const r=nr(this._eventsInProgress),s=nr(t),a={};for(const e in t){const{originalEvent:n}=t[e];this._eventsInProgress[e]||(a["".concat(e,"start")]=n),this._eventsInProgress[e]=t[e]}!r&&s&&this._fireEvent("movestart",s.originalEvent);for(const e in a)this._fireEvent(e,a[e]);s&&this._fireEvent("move",s.originalEvent);for(const e in t){const{originalEvent:n}=t[e];this._fireEvent(e,n)}const o={};let l;for(const e in this._eventsInProgress){const{handlerName:t,originalEvent:i}=this._eventsInProgress[e];this._handlersById[t].isActive()||(delete this._eventsInProgress[e],l=n[t]||i,o["".concat(e,"end")]=l)}for(const e in o)this._fireEvent(e,o[e]);const c=nr(this._eventsInProgress);if(i&&(r||s)&&!c){this._updatingCamera=!0;const t=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;!t||!t.essential&&e.h.prefersReducedMotion?(this._map.fire(new e.k("moveend",{originalEvent:l})),n(this._map.getBearing())&&this._map.resetNorth()):(n(t.bearing||this._map.getBearing())&&(t.bearing=0),t.freezeElevation=!0,this._map.easeTo(t,{originalEvent:l})),this._updatingCamera=!1}}_fireEvent(t,n){this._map.fire(new e.k(t,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add((e=>{delete this._frameId,this.handleEvent(new ir("renderFrame",{timeStamp:e})),this._applyChanges()}))}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class ar extends e.E{constructor(t,n){super(),this._renderFrameCallback=()=>{const t=Math.min((e.h.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(t)),t<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=t,this._bearingSnap=n.bearingSnap,this.on("moveend",(()=>{delete this._requestedCameraState}))}getCenter(){return new e.L(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}panBy(t,n,i){return t=e.P.convert(t).mult(-1),this.panTo(this.transform.center,e.e({offset:t},n),i)}panTo(t,n,i){return this.easeTo(e.e({center:t},n),i)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(t,n,i){return this.easeTo(e.e({zoom:t},n),i)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(t,n,i){return this.easeTo(e.e({bearing:t},n),i)}resetNorth(t,n){return this.rotateTo(0,e.e({duration:1e3},t),n),this}resetNorthPitch(t,n){return this.easeTo(e.e({bearing:0,pitch:0,duration:1e3},t),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}cameraForBounds(e,t){e=M.convert(e);const n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}_cameraForBoxAndBearing(t,n,i,r){const s={top:0,bottom:0,right:0,left:0};if("number"==typeof(r=e.e({padding:s,offset:[0,0],maxZoom:this.transform.maxZoom},r)).padding){const e=r.padding;r.padding={top:e,bottom:e,right:e,left:e}}r.padding=e.e(s,r.padding);const a=this.transform,o=a.padding,l=a.project(e.L.convert(t)),c=a.project(e.L.convert(n)),u=l.rotate(-i*Math.PI/180),h=c.rotate(-i*Math.PI/180),d=new e.P(Math.max(u.x,h.x),Math.max(u.y,h.y)),p=new e.P(Math.min(u.x,h.x),Math.min(u.y,h.y)),f=d.sub(p),m=(a.width-(o.left+o.right+r.padding.left+r.padding.right))/f.x,g=(a.height-(o.top+o.bottom+r.padding.top+r.padding.bottom))/f.y;if(g<0||m<0)return void e.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const y=Math.min(a.scaleZoom(a.scale*Math.min(m,g)),r.maxZoom),v=e.P.convert(r.offset),_=new e.P((r.padding.left-r.padding.right)/2,(r.padding.top-r.padding.bottom)/2).rotate(i*Math.PI/180),b=v.add(_).mult(a.scale/a.zoomScale(y));return{center:a.unproject(l.add(c).div(2).sub(b)),zoom:y,bearing:i}}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(t,n,i,r,s){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(e.P.convert(t)),this.transform.pointLocation(e.P.convert(n)),i,r),r,s)}_fitInternal(t,n,i){return t?(delete(n=e.e(t,n)).padding,n.linear?this.easeTo(n,i):this.flyTo(n,i)):this}jumpTo(t,n){this.stop();const i=this._getTransformForUpdate();let r=!1,s=!1,a=!1;return"zoom"in t&&i.zoom!==+t.zoom&&(r=!0,i.zoom=+t.zoom),void 0!==t.center&&(i.center=e.L.convert(t.center)),"bearing"in t&&i.bearing!==+t.bearing&&(s=!0,i.bearing=+t.bearing),"pitch"in t&&i.pitch!==+t.pitch&&(a=!0,i.pitch=+t.pitch),null==t.padding||i.isPaddingEqual(t.padding)||(i.padding=t.padding),this._applyUpdatedTransform(i),this.fire(new e.k("movestart",n)).fire(new e.k("move",n)),r&&this.fire(new e.k("zoomstart",n)).fire(new e.k("zoom",n)).fire(new e.k("zoomend",n)),s&&this.fire(new e.k("rotatestart",n)).fire(new e.k("rotate",n)).fire(new e.k("rotateend",n)),a&&this.fire(new e.k("pitchstart",n)).fire(new e.k("pitch",n)).fire(new e.k("pitchend",n)),this.fire(new e.k("moveend",n))}calculateCameraOptionsFromTo(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=e.U.fromLngLat(t,n),a=e.U.fromLngLat(i,r),o=a.x-s.x,l=a.y-s.y,c=a.z-s.z,u=Math.hypot(o,l,c);if(0===u)throw new Error("Can't calculate camera options with same From and To");const h=Math.hypot(o,l),d=this.transform.scaleZoom(this.transform.cameraToCenterDistance/u/this.transform.tileSize),p=180*Math.atan2(o,-l)/Math.PI;let f=180*Math.acos(h/u)/Math.PI;return f=c<0?90-f:90+f,{center:a.toLngLat(),zoom:d,pitch:f,bearing:p}}easeTo(t,n){this._stop(!1,t.easeId),(!1===(t=e.e({offset:[0,0],duration:500,easing:e.bb},t)).animate||!t.essential&&e.h.prefersReducedMotion)&&(t.duration=0);const i=this._getTransformForUpdate(),r=this.getZoom(),s=this.getBearing(),a=this.getPitch(),o=this.getPadding(),l="zoom"in t?+t.zoom:r,c="bearing"in t?this._normalizeBearing(t.bearing,s):s,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=e.P.convert(t.offset);let p=i.centerPoint.add(d);const f=i.pointLocation(p),m=e.L.convert(t.center||f);this._normalizeCenter(m);const g=i.project(f),y=i.project(m).sub(g),v=i.zoomScale(l-r);let _,b;t.around&&(_=e.L.convert(t.around),b=i.locationPoint(_));const x={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||l!==r,this._rotating=this._rotating||s!==c,this._pitching=this._pitching||u!==a,this._padding=!i.isPaddingEqual(h),this._easeId=t.easeId,this._prepareEase(n,t.noMoveStart,x),this.terrain&&this._prepareElevation(m),this._ease((f=>{if(this._zooming&&(i.zoom=e.B.number(r,l,f)),this._rotating&&(i.bearing=e.B.number(s,c,f)),this._pitching&&(i.pitch=e.B.number(a,u,f)),this._padding&&(i.interpolatePadding(o,h,f),p=i.centerPoint.add(d)),this.terrain&&!t.freezeElevation&&this._updateElevation(f),_)i.setLocationAtPoint(_,b);else{const e=i.zoomScale(i.zoom-r),t=l>r?Math.min(2,v):Math.max(.5,v),n=Math.pow(t,1-f),s=i.unproject(g.add(y.mult(f*n)).mult(e));i.setLocationAtPoint(i.renderWorldCopies?s.wrap():s,p)}this._applyUpdatedTransform(i),this._fireMoveEvents(n)}),(e=>{this.terrain&&this._finalizeElevation(),this._afterEase(n,e)}),t),this}_prepareEase(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this._moving=!0,n||i.moving||this.fire(new e.k("movestart",t)),this._zooming&&!i.zooming&&this.fire(new e.k("zoomstart",t)),this._rotating&&!i.rotating&&this.fire(new e.k("rotatestart",t)),this._pitching&&!i.pitching&&this.fire(new e.k("pitchstart",t))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(t){this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(t<1&&n!==this._elevationTarget){const e=this._elevationTarget-this._elevationStart;this._elevationStart+=t*(e-(n-(e*t+this._elevationStart))/(1-t)),this._elevationTarget=n}this.transform.elevation=e.B.number(this._elevationStart,this._elevationTarget,t)}_finalizeElevation(){this._elevationFreeze=!1,this.transform.recalculateZoom(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_applyUpdatedTransform(e){if(!this.transformCameraUpdate)return;const t=e.clone(),{center:n,zoom:i,pitch:r,bearing:s,elevation:a}=this.transformCameraUpdate(t);n&&(t.center=n),void 0!==i&&(t.zoom=i),void 0!==r&&(t.pitch=r),void 0!==s&&(t.bearing=s),void 0!==a&&(t.elevation=a),this.transform.apply(t)}_fireMoveEvents(t){this.fire(new e.k("move",t)),this._zooming&&this.fire(new e.k("zoom",t)),this._rotating&&this.fire(new e.k("rotate",t)),this._pitching&&this.fire(new e.k("pitch",t))}_afterEase(t,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const i=this._zooming,r=this._rotating,s=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,i&&this.fire(new e.k("zoomend",t)),r&&this.fire(new e.k("rotateend",t)),s&&this.fire(new e.k("pitchend",t)),this.fire(new e.k("moveend",t))}flyTo(t,n){if(!t.essential&&e.h.prefersReducedMotion){const i=e.F(t,["center","zoom","bearing","pitch","around"]);return this.jumpTo(i,n)}this.stop(),t=e.e({offset:[0,0],speed:1.2,curve:1.42,easing:e.bb},t);const i=this._getTransformForUpdate(),r=this.getZoom(),s=this.getBearing(),a=this.getPitch(),o=this.getPadding(),l="zoom"in t?e.ad(+t.zoom,i.minZoom,i.maxZoom):r,c="bearing"in t?this._normalizeBearing(t.bearing,s):s,u="pitch"in t?+t.pitch:a,h="padding"in t?t.padding:i.padding,d=i.zoomScale(l-r),p=e.P.convert(t.offset);let f=i.centerPoint.add(p);const m=i.pointLocation(f),g=e.L.convert(t.center||m);this._normalizeCenter(g);const y=i.project(m),v=i.project(g).sub(y);let _=t.curve;const b=Math.max(i.width,i.height),x=b/d,w=v.mag();if("minZoom"in t){const n=e.ad(Math.min(t.minZoom,r,l),i.minZoom,i.maxZoom),s=b/i.zoomScale(n-r);_=Math.sqrt(s/w*2)}const S=_*_;function E(e){const t=(x*x-b*b+(e?-1:1)*S*S*w*w)/(2*(e?x:b)*S*w);return Math.log(Math.sqrt(t*t+1)-t)}function T(e){return(Math.exp(e)-Math.exp(-e))/2}function I(e){return(Math.exp(e)+Math.exp(-e))/2}const k=E(!1);let C=function(e){return I(k)/I(k+_*e)},A=function(e){return b*((I(k)*(T(t=k+_*e)/I(t))-T(k))/S)/w;var t},P=(E(!0)-k)/_;if(Math.abs(w)<1e-6||!isFinite(P)){if(Math.abs(b-x)<1e-6)return this.easeTo(t,n);const e=x<b?-1:1;P=Math.abs(Math.log(x/b))/_,A=function(){return 0},C=function(t){return Math.exp(e*_*t)}}return t.duration="duration"in t?+t.duration:1e3*P/("screenSpeed"in t?+t.screenSpeed/_:+t.speed),t.maxDuration&&t.duration>t.maxDuration&&(t.duration=0),this._zooming=!0,this._rotating=s!==c,this._pitching=u!==a,this._padding=!i.isPaddingEqual(h),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(g),this._ease((d=>{const m=d*P,_=1/C(m);i.zoom=1===d?l:r+i.scaleZoom(_),this._rotating&&(i.bearing=e.B.number(s,c,d)),this._pitching&&(i.pitch=e.B.number(a,u,d)),this._padding&&(i.interpolatePadding(o,h,d),f=i.centerPoint.add(p)),this.terrain&&!t.freezeElevation&&this._updateElevation(d);const b=1===d?g:i.unproject(y.add(v.mult(A(m))).mult(_));i.setLocationAtPoint(i.renderWorldCopies?b.wrap():b,f),this._applyUpdatedTransform(i),this._fireMoveEvents(n)}),(()=>{this.terrain&&this._finalizeElevation(),this._afterEase(n)}),t),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}if(!e){const e=this.handlers;e&&e.stop(!1)}return this}_ease(t,n,i){!1===i.animate||0===i.duration?(t(1),n()):(this._easeStart=e.h.now(),this._easeOptions=i,this._onEaseFrame=t,this._onEaseEnd=n,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(t,n){t=e.b5(t,-180,180);const i=Math.abs(t-n);return Math.abs(t-360-n)<i&&(t-=360),Math.abs(t+360-n)<i&&(t+=360),t}_normalizeCenter(e){const t=this.transform;if(!t.renderWorldCopies||t.lngRange)return;const n=e.lng-t.center.lng;e.lng+=n>180?-360:n<-180?360:0}queryTerrainElevation(t){return this.terrain?this.terrain.getElevationForLngLatZoom(e.L.convert(t),this.transform.tileZoom)-this.transform.elevation:null}}class or{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e=>{!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options&&this.options.compact,this._container=n.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=n.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=n.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){n.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString("AttributionControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map((e=>"string"!=typeof e?"":e))):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.sourceCaches;for(const i in t){const n=t[i];if(n.used||n.usedForTerrain){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter((e=>String(e).trim())),e.sort(((e,t)=>e.length-t.length)),e=e.filter(((t,n)=>{for(let i=n+1;i<e.length;i++)if(e[i].indexOf(t)>=0)return!1;return!0}));const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=n,this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class lr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._updateCompact=()=>{const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact"):t.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=n.create("div","maplibregl-ctrl");const t=n.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){n.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class cr{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const i of n)if(i.id===e)return void(i.cancelled=!0)}run(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}const ur={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","TerrainControl.enableTerrain":"Enable terrain","TerrainControl.disableTerrain":"Disable terrain"};var hr=e.Q([{name:"a_pos3d",type:"Int16",components:3}]);class dr extends e.E{constructor(e){super(),this.sourceCache=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.deltaZoom=1,e.usedForTerrain=!0,e.tileSize=this.tileSize*2**this.deltaZoom}destruct(){this.sourceCache.usedForTerrain=!1,this.sourceCache.tileSize=null}update(t,n){this.sourceCache.update(t,n),this._renderableTilesKeys=[];const i={};for(const r of t.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n}))i[r.key]=!0,this._renderableTilesKeys.push(r.key),this._tiles[r.key]||(r.posMatrix=new Float64Array(16),e.aS(r.posMatrix,0,e.N,0,e.N,0,1),this._tiles[r.key]=new K(r,this.tileSize));for(const e in this._tiles)i[e]||delete this._tiles[e]}freeRtt(e){for(const t in this._tiles){const n=this._tiles[t];(!e||n.tileID.equals(e)||n.tileID.isChildOf(e)||e.isChildOf(n.tileID))&&(n.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map((e=>this.getTileByID(e)))}getTileByID(e){return this._tiles[e]}getTerrainCoords(t){const n={};for(const i of this._renderableTilesKeys){const r=this._tiles[i].tileID;if(r.canonical.equals(t.canonical)){const r=t.clone();r.posMatrix=new Float64Array(16),e.aS(r.posMatrix,0,e.N,0,e.N,0,1),n[i]=r}else if(r.canonical.isChildOf(t.canonical)){const s=t.clone();s.posMatrix=new Float64Array(16);const a=r.canonical.z-t.canonical.z,o=r.canonical.x-(r.canonical.x>>a<<a),l=r.canonical.y-(r.canonical.y>>a<<a),c=e.N>>a;e.aS(s.posMatrix,0,c,0,c,0,1),e.$(s.posMatrix,s.posMatrix,[-o*c,-l*c,0]),n[i]=s}else if(t.canonical.isChildOf(r.canonical)){const s=t.clone();s.posMatrix=new Float64Array(16);const a=t.canonical.z-r.canonical.z,o=t.canonical.x-(t.canonical.x>>a<<a),l=t.canonical.y-(t.canonical.y>>a<<a),c=e.N>>a;e.aS(s.posMatrix,0,e.N,0,e.N,0,1),e.$(s.posMatrix,s.posMatrix,[o*c,l*c,0]),e.a0(s.posMatrix,s.posMatrix,[1/2**a,1/2**a,0]),n[i]=s}}return n}getSourceTile(e,t){const n=this.sourceCache._source;let i=e.overscaledZ-this.deltaZoom;if(i>n.maxzoom&&(i=n.maxzoom),i<n.minzoom)return null;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(i).key);let r=this.sourceCache.getTileByID(this._sourceTileCache[e.key]);if((!r||!r.dem)&&t)for(;i>=n.minzoom&&(!r||!r.dem);)r=this.sourceCache.getTileByID(e.scaledTo(i--).key);return r}tilesAfterTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now();return Object.values(this._tiles).filter((t=>t.timeAdded>=e))}}class pr{constructor(e,t,n){this.painter=e,this.sourceCache=new dr(t),this.options=n,this.exaggeration="number"==typeof n.exaggeration?n.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.N;var s;if(!(n>=0&&n<r&&i>=0&&i<r))return 0;const a=this.getTerrainData(t),o=null===(s=a.tile)||void 0===s?void 0:s.dem;if(!o)return 0;const l=function(e,t,n){var i=t[0],r=t[1];return e[0]=n[0]*i+n[4]*r+n[12],e[1]=n[1]*i+n[5]*r+n[13],e}([],[n/r*e.N,i/r*e.N],a.u_terrain_matrix),c=[l[0]*o.dim,l[1]*o.dim],u=Math.floor(c[0]),h=Math.floor(c[1]),d=c[0]-u,p=c[1]-h;return o.get(u,h)*(1-d)*(1-p)+o.get(u+1,h)*d*(1-p)+o.get(u,h+1)*(1-d)*p+o.get(u+1,h+1)*d*p}getElevationForLngLatZoom(t,n){const{tileID:i,mercatorX:r,mercatorY:s}=this._getOverscaledTileIDFromLngLatZoom(t,n);return this.getElevation(i,r%e.N,s%e.N,e.N)}getElevation(t,n,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.N;return this.getDEMElevation(t,n,i,r)*this.exaggeration}getTerrainData(t){if(!this._emptyDemTexture){const t=this.painter.context,n=new e.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new _(t,n,t.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new _(t,new e.R({width:1,height:1}),t.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=e.ao([])}const n=this.sourceCache.getSourceTile(t,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const e=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new _(e,n.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),n.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const i=n&&n+n.tileID.key+t.key;if(i&&!this._demMatrixCache[i]){const i=this.sourceCache.sourceCache._source.maxzoom;let r=t.canonical.z-n.tileID.canonical.z;t.overscaledZ>t.canonical.z&&(t.canonical.z>=i?r=t.canonical.z-i:e.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const s=t.canonical.x-(t.canonical.x>>r<<r),a=t.canonical.y-(t.canonical.y>>r<<r),o=e.bc(new Float64Array(16),[1/(e.N<<r),1/(e.N<<r),0]);e.$(o,o,[s*e.N,a*e.N,0]),this._demMatrixCache[t.key]={matrix:o,coord:t}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:i?this._demMatrixCache[t.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(e){const t=this.painter,n=t.width/devicePixelRatio,i=t.height/devicePixelRatio;return!this._fbo||this._fbo.width===n&&this._fbo.height===i||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new _(t.context,{width:n,height:i,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new _(t.context,{width:n,height:i,data:null},t.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(t.context.gl.NEAREST,t.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=t.context.createFramebuffer(n,i,!0,!1),this._fbo.depthAttachment.set(t.context.createRenderbuffer(t.context.gl.DEPTH_COMPONENT16,n,i))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const t=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let e=0,s=0;e<this._coordsTextureSize;e++)for(let t=0;t<this._coordsTextureSize;t++,s+=4)n[s+0]=255&t,n[s+1]=255&e,n[s+2]=t>>8<<4|e>>8,n[s+3]=0;const i=new e.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),r=new _(t,i,t.gl.RGBA,{premultiply:!1});return r.bind(t.gl.NEAREST,t.gl.CLAMP_TO_EDGE),this._coordsTexture=r,r}pointCoordinate(t){const n=new Uint8Array(4),i=this.painter.context,r=i.gl;i.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),r.readPixels(t.x,this.painter.height/devicePixelRatio-t.y-1,1,1,r.RGBA,r.UNSIGNED_BYTE,n),i.bindFramebuffer.set(null);const s=n[0]+(n[2]>>4<<8),a=n[1]+((15&n[2])<<8),o=this.coordsIndex[255-n[3]],l=o&&this.sourceCache.getTileByID(o);if(!l)return null;const c=this._coordsTextureSize,u=(1<<l.tileID.canonical.z)*c;return new e.U((l.tileID.canonical.x*c+s)/u,(l.tileID.canonical.y*c+a)/u,this.getElevation(l.tileID,s,a,c))}getTerrainMesh(){if(this._mesh)return this._mesh;const t=this.painter.context,n=new e.bd,i=new e.b0,r=this.meshSize,s=e.N/r,a=r*r;for(let e=0;e<=r;e++)for(let t=0;t<=r;t++)n.emplaceBack(t*s,e*s,0);for(let e=0;e<a;e+=r+1)for(let t=0;t<r;t++)i.emplaceBack(t+e,r+t+e+1,r+t+e+2),i.emplaceBack(t+e,r+t+e+2,t+e+1);const o=n.length,l=o+2*(r+1);for(const h of[0,1])for(let t=0;t<=r;t++)for(const i of[0,1])n.emplaceBack(t*s,h*e.N,i);for(let e=0;e<2*r;e+=2)i.emplaceBack(l+e,l+e+1,l+e+3),i.emplaceBack(l+e,l+e+3,l+e+2),i.emplaceBack(o+e,o+e+3,o+e+1),i.emplaceBack(o+e,o+e+2,o+e+3);const c=n.length,u=c+2*(r+1);for(const h of[0,1])for(let t=0;t<=r;t++)for(const i of[0,1])n.emplaceBack(h*e.N,t*s,i);for(let e=0;e<2*r;e+=2)i.emplaceBack(c+e,c+e+1,c+e+3),i.emplaceBack(c+e,c+e+3,c+e+2),i.emplaceBack(u+e,u+e+3,u+e+1),i.emplaceBack(u+e,u+e+2,u+e+3);return this._mesh={indexBuffer:t.createIndexBuffer(i),vertexBuffer:t.createVertexBuffer(n,hr.members),segments:e.S.simpleSegment(0,0,n.length,i.length)},this._mesh}getMeshFrameDelta(t){return 2*Math.PI*e.be/Math.pow(2,t)/5}getMinTileElevationForLngLatZoom(e,t){var n;const{tileID:i}=this._getOverscaledTileIDFromLngLatZoom(e,t);return null!==(n=this.getMinMaxElevation(i).minElevation)&&void 0!==n?n:0}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,n={minElevation:null,maxElevation:null};return t&&t.dem&&(n.minElevation=t.dem.min*this.exaggeration,n.maxElevation=t.dem.max*this.exaggeration),n}_getOverscaledTileIDFromLngLatZoom(t,n){const i=e.U.fromLngLat(t.wrap()),r=(1<<n)*e.N,s=i.x*r,a=i.y*r,o=Math.floor(s/e.N),l=Math.floor(a/e.N);return{tileID:new e.O(n,0,n,o,l),mercatorX:s,mercatorY:a}}}class fr{constructor(e,t,n){this._context=e,this._size=t,this._tileSize=n,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const t=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),n=new _(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return n.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),t.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),t.colorAttachment.set(n.texture),{id:e,fbo:t,texture:n,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter((t=>e.id!==t)),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const t of this._recentlyUsed)if(!this._objects[t].inUse)return this._objects[t];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some((e=>!e.inUse))}}const mr={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0};class gr{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new fr(e.context,30,t.sourceCache.tileSize*t.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.sourceCache.getRenderableTiles(),this._renderableLayerIds=e._order.filter((n=>!e._layers[n].isHidden(t))),this._coordsDescendingInv={};for(const n in e.sourceCaches){this._coordsDescendingInv[n]={};const t=e.sourceCaches[n].getVisibleCoordinates();for(const e of t){const t=this.terrain.sourceCache.getTerrainCoords(e);for(const e in t)this._coordsDescendingInv[n][e]||(this._coordsDescendingInv[n][e]=[]),this._coordsDescendingInv[n][e].push(t[e])}}this._coordsDescendingInvStr={};for(const n of e._order){const t=e._layers[n],i=t.source;if(mr[t.type]&&!this._coordsDescendingInvStr[i]){this._coordsDescendingInvStr[i]={};for(const e in this._coordsDescendingInv[i])this._coordsDescendingInvStr[i][e]=this._coordsDescendingInv[i][e].map((e=>e.key)).sort().join()}}for(const n of this._renderableTiles)for(const e in this._coordsDescendingInvStr){const t=this._coordsDescendingInvStr[e][n.tileID.key];t&&t!==n.rttCoords[e]&&(n.rtt=[])}}renderLayer(t){if(t.isHidden(this.painter.transform.zoom))return!1;const n=t.type,i=this.painter,r=this._renderableLayerIds[this._renderableLayerIds.length-1]===t.id;if(mr[n]&&(this._prevType&&mr[this._prevType]||this._stacks.push([]),this._prevType=n,this._stacks[this._stacks.length-1].push(t.id),!r))return!0;if(mr[this._prevType]||mr[n]&&r){this._prevType=n;const t=this._stacks.length-1,r=this._stacks[t]||[];for(const n of this._renderableTiles){if(this.pool.isFull()&&(ni(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(n),n.rtt[t]){const e=this.pool.getObjectForId(n.rtt[t].id);if(e.stamp===n.rtt[t].stamp){this.pool.useObject(e);continue}}const s=this.pool.getOrCreateFreeObject();this.pool.useObject(s),this.pool.stampObject(s),n.rtt[t]={id:s.id,stamp:s.stamp},i.context.bindFramebuffer.set(s.fbo.framebuffer),i.context.clear({color:e.aT.transparent,stencil:0}),i.currentStencilSource=void 0;for(let e=0;e<r.length;e++){const t=i.style._layers[r[e]],a=t.source?this._coordsDescendingInv[t.source][n.tileID.key]:[n.tileID];i.context.viewport.set([0,0,s.fbo.width,s.fbo.height]),i._renderTileClippingMasks(t,a),i.renderLayer(i,i.style.sourceCaches[t.source],t,a),t.source&&(n.rttCoords[t.source]=this._coordsDescendingInvStr[t.source][n.tileID.key])}}return ni(this.painter,this.terrain,this._rttTiles),this._rttTiles=[],this.pool.freeAllObjects(),mr[n]}return!1}}const yr=t,vr={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:void 0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,maplibreLogo:!1,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:e.c.MAX_TILE_CACHE_ZOOM_LEVELS,localIdeographFontFamily:"sans-serif",transformRequest:null,transformCameraUpdate:null,fadeDuration:300,crossSourceCollisions:!0,validateStyle:!0,maxCanvasSize:[4096,4096]},_r=e=>{e.touchstart=e.dragStart,e.touchmoveWindow=e.dragMove,e.touchend=e.dragEnd},br={showCompass:!0,showZoom:!0,visualizePitch:!1};class xr{constructor(t,i){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.mousedown=t=>{this.startMouse(e.e({},t,{ctrlKey:!0,preventDefault:()=>t.preventDefault()}),n.mousePos(this.element,t)),n.addEventListener(window,"mousemove",this.mousemove),n.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=e=>{this.moveMouse(e,n.mousePos(this.element,e))},this.mouseup=e=>{this.mouseRotate.dragEnd(e),this.mousePitch&&this.mousePitch.dragEnd(e),this.offTemp()},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.startTouch(e,this._startPos),n.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.addEventListener(window,"touchend",this.touchend))},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=n.touchPos(this.element,e.targetTouches)[0],this.moveTouch(e,this._lastPos))},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),this.touchRotate.reset(),this.touchPitch&&this.touchPitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10;const s=t.dragRotate._mouseRotate.getClickTolerance(),a=t.dragRotate._mousePitch.getClickTolerance();this.element=i,this.mouseRotate=Oi({clickTolerance:s,enable:!0}),this.touchRotate=(e=>{let{enable:t,clickTolerance:n,bearingDegreesPerPixelMoved:i=.8}=e;const r=new Mi;return new Ai({clickTolerance:n,move:(e,t)=>({bearingDelta:(t.x-e.x)*i}),moveStateManager:r,enable:t,assignEvents:_r})})({clickTolerance:s,enable:!0}),this.map=t,r&&(this.mousePitch=Di({clickTolerance:a,enable:!0}),this.touchPitch=(e=>{let{enable:t,clickTolerance:n,pitchDegreesPerPixelMoved:i=-.5}=e;const r=new Mi;return new Ai({clickTolerance:n,move:(e,t)=>({pitchDelta:(t.y-e.y)*i}),moveStateManager:r,enable:t,assignEvents:_r})})({clickTolerance:a,enable:!0})),n.addEventListener(i,"mousedown",this.mousedown),n.addEventListener(i,"touchstart",this.touchstart,{passive:!1}),n.addEventListener(i,"touchcancel",this.reset)}startMouse(e,t){this.mouseRotate.dragStart(e,t),this.mousePitch&&this.mousePitch.dragStart(e,t),n.disableDrag()}startTouch(e,t){this.touchRotate.dragStart(e,t),this.touchPitch&&this.touchPitch.dragStart(e,t),n.disableDrag()}moveMouse(e,t){const n=this.map,{bearingDelta:i}=this.mouseRotate.dragMove(e,t)||{};if(i&&n.setBearing(n.getBearing()+i),this.mousePitch){const{pitchDelta:i}=this.mousePitch.dragMove(e,t)||{};i&&n.setPitch(n.getPitch()+i)}}moveTouch(e,t){const n=this.map,{bearingDelta:i}=this.touchRotate.dragMove(e,t)||{};if(i&&n.setBearing(n.getBearing()+i),this.touchPitch){const{pitchDelta:i}=this.touchPitch.dragMove(e,t)||{};i&&n.setPitch(n.getPitch()+i)}}off(){const e=this.element;n.removeEventListener(e,"mousedown",this.mousedown),n.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend),n.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){n.enableDrag(),n.removeEventListener(window,"mousemove",this.mousemove),n.removeEventListener(window,"mouseup",this.mouseup),n.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),n.removeEventListener(window,"touchend",this.touchend)}}let wr;function Sr(t,n,i){if(t=new e.L(t.lng,t.lat),n){const r=new e.L(t.lng-360,t.lat),s=new e.L(t.lng+360,t.lat),a=i.locationPoint(t).distSqr(n);i.locationPoint(r).distSqr(n)<a?t=r:i.locationPoint(s).distSqr(n)<a&&(t=s)}for(;Math.abs(t.lng-i.center.lng)>180;){const e=i.locationPoint(t);if(e.x>=0&&e.y>=0&&e.x<=i.width&&e.y<=i.height)break;t.lng>i.center.lng?t.lng-=360:t.lng+=360}return t}const Er={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Tr(e,t,n){const i=e.classList;for(const r in Er)i.remove("maplibregl-".concat(n,"-anchor-").concat(r));i.add("maplibregl-".concat(n,"-anchor-").concat(t))}class Ir extends e.E{constructor(t){if(super(),this._onKeyPress=e=>{const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},this._onMapClick=e=>{const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},this._update=e=>{if(!this._map)return;const t=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==e?void 0:e.type)||"render"===(null==e?void 0:e.type)&&!t)&&this._map.once("render",this._update),this._map.transform.renderWorldCopies&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);let i="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?i="rotateZ(".concat(this._rotation,"deg)"):"map"===this._rotationAlignment&&(i="rotateZ(".concat(this._rotation-this._map.getBearing(),"deg)"));let r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r="rotateX(".concat(this._map.getPitch(),"deg)")),e&&"moveend"!==e.type||(this._pos=this._pos.round()),n.setTransform(this._element,"".concat(Er[this._anchor]," translate(").concat(this._pos.x,"px, ").concat(this._pos.y,"px) ").concat(r," ").concat(i)),this._map.terrain&&!this._opacityTimeout&&(this._opacityTimeout=setTimeout((()=>{const e=this._map.unproject(this._pos),t=40075016.686*Math.abs(Math.cos(this._lngLat.lat*Math.PI/180))/Math.pow(2,this._map.transform.tileZoom+8);this._element.style.opacity=e.distanceTo(this._lngLat)>20*t?"0.2":"1.0",this._opacityTimeout=null}),100))},this._onMove=t=>{if(!this._isDragging){const e=this._clickTolerance||this._map._clickTolerance;this._isDragging=t.point.dist(this._pointerdownPos)>=e}this._isDragging&&(this._pos=t.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new e.k("dragstart"))),this.fire(new e.k("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new e.k("dragend")),this._state="inactive"},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=t&&t.anchor||"center",this._color=t&&t.color||"#3FB1CE",this._scale=t&&t.scale||1,this._draggable=t&&t.draggable||!1,this._clickTolerance=t&&t.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=t&&t.rotation||0,this._rotationAlignment=t&&t.rotationAlignment||"auto",this._pitchAlignment=t&&t.pitchAlignment&&"auto"!==t.pitchAlignment?t.pitchAlignment:this._rotationAlignment,t&&t.element)this._element=t.element,this._offset=e.P.convert(t&&t.offset||[0,0]);else{this._defaultMarker=!0,this._element=n.create("div"),this._element.setAttribute("aria-label","Map marker");const i=n.createNS("http://www.w3.org/2000/svg","svg"),r=41,s=27;i.setAttributeNS(null,"display","block"),i.setAttributeNS(null,"height","".concat(r,"px")),i.setAttributeNS(null,"width","".concat(s,"px")),i.setAttributeNS(null,"viewBox","0 0 ".concat(s," ").concat(r));const a=n.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"stroke","none"),a.setAttributeNS(null,"stroke-width","1"),a.setAttributeNS(null,"fill","none"),a.setAttributeNS(null,"fill-rule","evenodd");const o=n.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"fill-rule","nonzero");const l=n.createNS("http://www.w3.org/2000/svg","g");l.setAttributeNS(null,"transform","translate(3.0, 29.0)"),l.setAttributeNS(null,"fill","#000000");const c=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of c){const t=n.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),l.appendChild(t)}const u=n.createNS("http://www.w3.org/2000/svg","g");u.setAttributeNS(null,"fill",this._color);const h=n.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),u.appendChild(h);const d=n.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const p=n.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(p);const f=n.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=n.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=n.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=n.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),o.appendChild(l),o.appendChild(u),o.appendChild(d),o.appendChild(f),o.appendChild(m),i.appendChild(o),i.setAttributeNS(null,"height",r*this._scale+"px"),i.setAttributeNS(null,"width",s*this._scale+"px"),this._element.appendChild(i),this._offset=e.P.convert(t&&t.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",(e=>{e.preventDefault()})),this._element.addEventListener("mousedown",(e=>{e.preventDefault()})),Tr(this._element,this._anchor,"marker"),t&&t.className)for(const e of t.className.split(" "))this._element.classList.add(e);this._popup=null}addTo(e){return this.remove(),this._map=e,e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),n.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.L.convert(t),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,i=Math.abs(n)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[i,-1*(t-n+i)],"bottom-right":[-i,-1*(t-n+i)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return e?(e.isOpen()?e.remove():e.addTo(this._map),this):this}getOffset(){return this._offset}setOffset(t){return this._offset=e.P.convert(t),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}const kr={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let Cr=0,Ar=!1;const Pr={maxWidth:100,unit:"metric"};function Nr(e,t,n){const i=n&&n.maxWidth||100,r=e._container.clientHeight/2,s=e.unproject([0,r]),a=e.unproject([i,r]),o=s.distanceTo(a);if(n&&"imperial"===n.unit){const n=3.2808*o;n>5280?Mr(t,i,n/5280,e._getUIString("ScaleControl.Miles")):Mr(t,i,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?Mr(t,i,o/1852,e._getUIString("ScaleControl.NauticalMiles")):o>=1e3?Mr(t,i,o/1e3,e._getUIString("ScaleControl.Kilometers")):Mr(t,i,o,e._getUIString("ScaleControl.Meters"))}function Mr(e,t,n,i){const r=function(e){const t=Math.pow(10,"".concat(Math.floor(e)).length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(r/n)+"px",e.innerHTML="".concat(r,"&nbsp;").concat(i)}const Rr={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Or=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Dr(t){if(t){if("number"==typeof t){const n=Math.round(Math.abs(t)/Math.SQRT2);return{center:new e.P(0,0),top:new e.P(0,t),"top-left":new e.P(n,n),"top-right":new e.P(-n,n),bottom:new e.P(0,-t),"bottom-left":new e.P(n,-n),"bottom-right":new e.P(-n,-n),left:new e.P(t,0),right:new e.P(-t,0)}}if(t instanceof e.P||Array.isArray(t)){const n=e.P.convert(t);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:e.P.convert(t.center||[0,0]),top:e.P.convert(t.top||[0,0]),"top-left":e.P.convert(t["top-left"]||[0,0]),"top-right":e.P.convert(t["top-right"]||[0,0]),bottom:e.P.convert(t.bottom||[0,0]),"bottom-left":e.P.convert(t["bottom-left"]||[0,0]),"bottom-right":e.P.convert(t["bottom-right"]||[0,0]),left:e.P.convert(t.left||[0,0]),right:e.P.convert(t.right||[0,0])}}return Dr(new e.P(0,0))}const Lr={extend:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return e.e(t,...i)},run(e){e()},logToElement(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"log";const i=window.document.getElementById(n);i&&(t&&(i.innerHTML=""),i.innerHTML+="<br>".concat(e))}},zr=t;class jr{static get version(){return zr}static get workerCount(){return ee.workerCount}static set workerCount(e){ee.workerCount=e}static get maxParallelImageRequests(){return e.c.MAX_PARALLEL_IMAGE_REQUESTS}static set maxParallelImageRequests(t){e.c.MAX_PARALLEL_IMAGE_REQUESTS=t}static get workerUrl(){return e.c.WORKER_URL}static set workerUrl(t){e.c.WORKER_URL=t}static addProtocol(t,n){e.c.REGISTERED_PROTOCOLS[t]=n}static removeProtocol(t){delete e.c.REGISTERED_PROTOCOLS[t]}}return jr.Map=class extends ar{constructor(t){if(e.bf.mark(e.bg.create),null!=(t=e.e({},vr,t)).minZoom&&null!=t.maxZoom&&t.minZoom>t.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=t.minPitch&&null!=t.maxPitch&&t.minPitch>t.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=t.minPitch&&t.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=t.maxPitch&&t.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(super(new oi(t.minZoom,t.maxZoom,t.minPitch,t.maxPitch,t.renderWorldCopies),{bearingSnap:t.bearingSnap}),this._cooperativeGesturesOnWheel=e=>{this._onCooperativeGesture(e,e[this._metaKey],1)},this._contextLost=t=>{t.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new e.k("webglcontextlost",{originalEvent:t}))},this._contextRestored=t=>{this._setupPainter(),this.resize(),this._update(),this.fire(new e.k("webglcontextrestored",{originalEvent:t}))},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=t.interactive,this._cooperativeGestures=t.cooperativeGestures,this._metaKey=0===navigator.platform.indexOf("Mac")?"metaKey":"ctrlKey",this._maxTileCacheSize=t.maxTileCacheSize,this._maxTileCacheZoomLevels=t.maxTileCacheZoomLevels,this._failIfMajorPerformanceCaveat=t.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=t.preserveDrawingBuffer,this._antialias=t.antialias,this._trackResize=t.trackResize,this._bearingSnap=t.bearingSnap,this._refreshExpiredTiles=t.refreshExpiredTiles,this._fadeDuration=t.fadeDuration,this._crossSourceCollisions=t.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=t.collectResourceTiming,this._renderTaskQueue=new cr,this._controls=[],this._mapId=e.a2(),this._locale=e.e({},ur,t.locale),this._clickTolerance=t.clickTolerance,this._overridePixelRatio=t.pixelRatio,this._maxCanvasSize=t.maxCanvasSize,this.transformCameraUpdate=t.transformCameraUpdate,this._imageQueueHandle=c.addThrottleControl((()=>this.isMoving())),this._requestManager=new h(t.transformRequest),"string"==typeof t.container){if(this._container=document.getElementById(t.container),!this._container)throw new Error("Container '".concat(t.container,"' not found."))}else{if(!(t.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=t.container}if(t.maxBounds&&this.setMaxBounds(t.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",(()=>this._update(!1))),this.on("moveend",(()=>this._update(!1))),this.on("zoom",(()=>this._update(!0))),this.on("terrain",(()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)})),this.once("idle",(()=>{this._idleTriggered=!0})),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let e=!1;const t=li((e=>{this._trackResize&&!this._removed&&this.resize(e)._update()}),50);this._resizeObserver=new ResizeObserver((n=>{e?t(n):e=!0})),this._resizeObserver.observe(this._container)}this.handlers=new sr(this,t),this._cooperativeGestures&&this._setupCooperativeGestures(),this._hash=t.hash&&new ci("string"==typeof t.hash&&t.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:t.center,zoom:t.zoom,bearing:t.bearing,pitch:t.pitch}),t.bounds&&(this.resize(),this.fitBounds(t.bounds,e.e({},t.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=t.localIdeographFontFamily,this._validateStyle=t.validateStyle,t.style&&this.setStyle(t.style,{localIdeographFontFamily:t.localIdeographFontFamily}),t.attributionControl&&this.addControl(new or({customAttribution:t.customAttribution})),t.maplibreLogo&&this.addControl(new lr,t.logoPosition),this.on("style.load",(()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)})),this.on("data",(t=>{this._update("style"===t.dataType),this.fire(new e.k("".concat(t.dataType,"data"),t))})),this.on("dataloading",(t=>{this.fire(new e.k("".concat(t.dataType,"dataloading"),t))})),this.on("dataabort",(t=>{this.fire(new e.k("sourcedataabort",t))}))}_getMapId(){return this._mapId}addControl(t,n){if(void 0===n&&(n=t.getDefaultPosition?t.getDefaultPosition():"top-right"),!t||!t.onAdd)return this.fire(new e.j(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const i=t.onAdd(this);this._controls.push(t);const r=this._controlPositions[n];return-1!==n.indexOf("bottom")?r.insertBefore(i,r.firstChild):r.appendChild(i),this}removeControl(t){if(!t||!t.onRemove)return this.fire(new e.j(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(t);return n>-1&&this._controls.splice(n,1),t.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}calculateCameraOptionsFromTo(e,t,n,i){return null==i&&this.terrain&&(i=this.terrain.getElevationForLngLatZoom(n,this.transform.tileZoom)),super.calculateCameraOptionsFromTo(e,t,n,i)}resize(t){var n;const i=this._containerDimensions(),r=i[0],s=i[1],a=this._getClampedPixelRatio(r,s);if(this._resizeCanvas(r,s,a),this.painter.resize(r,s,a),this.painter.overLimit()){const e=this.painter.context.gl;this._maxCanvasSize=[e.drawingBufferWidth,e.drawingBufferHeight];const t=this._getClampedPixelRatio(r,s);this._resizeCanvas(r,s,t),this.painter.resize(r,s,t)}this.transform.resize(r,s),null===(n=this._requestedCameraState)||void 0===n||n.resize(r,s);const o=!this._moving;return o&&(this.stop(),this.fire(new e.k("movestart",t)).fire(new e.k("move",t))),this.fire(new e.k("resize",t)),o&&this.fire(new e.k("moveend",t)),this}_getClampedPixelRatio(e,t){const{0:n,1:i}=this._maxCanvasSize,r=this.getPixelRatio(),s=e*r,a=t*r;return Math.min(s>n?n/s:1,a>i?i/a:1)*r}getPixelRatio(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds(M.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom)return this.transform.minZoom=e,this._update(),this.getZoom()<e&&this.setZoom(e),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom)return this.transform.maxZoom=e,this._update(),this.getZoom()>e&&this.setZoom(e),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.minPitch=e,this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>85)throw new Error("maxPitch must be less than or equal to 85");if(e>=this.transform.minPitch)return this.transform.maxPitch=e,this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.renderWorldCopies=e,this._update()}getCooperativeGestures(){return this._cooperativeGestures}setCooperativeGestures(e){return this._cooperativeGestures=e,this._cooperativeGestures?this._setupCooperativeGestures():this._destroyCooperativeGestures(),this}project(t){return this.transform.locationPoint(e.L.convert(t),this.style&&this.terrain)}unproject(t){return this.transform.pointLocation(e.P.convert(t),this.terrain)}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let i=!1;const r=r=>{const s=this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[];s.length?i||(i=!0,n.call(this,new vi(e,this,r.originalEvent,{features:s}))):i=!1};return{layer:t,listener:n,delegates:{mousemove:r,mouseout:()=>{i=!1}}}}if("mouseleave"===e||"mouseout"===e){let i=!1;const r=r=>{(this.getLayer(t)?this.queryRenderedFeatures(r.point,{layers:[t]}):[]).length?i=!0:i&&(i=!1,n.call(this,new vi(e,this,r.originalEvent)))},s=t=>{i&&(i=!1,n.call(this,new vi(e,this,t.originalEvent)))};return{layer:t,listener:n,delegates:{mousemove:r,mouseout:s}}}{const i=e=>{const i=this.getLayer(t)?this.queryRenderedFeatures(e.point,{layers:[t]}):[];i.length&&(e.features=i,n.call(this,e),delete e.features)};return{layer:t,listener:n,delegates:{[e]:i}}}}on(e,t,n){if(void 0===n)return super.on(e,t);const i=this._createDelegatedListener(e,t,n);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(i);for(const r in i.delegates)this.on(r,i.delegates[r]);return this}once(e,t,n){if(void 0===n)return super.once(e,t);const i=this._createDelegatedListener(e,t,n);for(const r in i.delegates)this.once(r,i.delegates[r]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._delegatedListeners&&this._delegatedListeners[e]&&(i=>{const r=this._delegatedListeners[e];for(let e=0;e<r.length;e++){const i=r[e];if(i.layer===t&&i.listener===n){for(const e in i.delegates)this.off(e,i.delegates[e]);return r.splice(e,1),this}}})(),this)}queryRenderedFeatures(t,n){if(!this.style)return[];let i;const r=t instanceof e.P||Array.isArray(t),s=r?t:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(r?{}:t)||{},s instanceof e.P||"number"==typeof s[0])i=[e.P.convert(s)];else{const t=e.P.convert(s[0]),n=e.P.convert(s[1]);i=[t,new e.P(n.x,t.y),n,new e.P(t.x,n.y),t]}return this.style.queryRenderedFeatures(i,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(t,n){return!1!==(n=e.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&t?(this._diffStyle(t,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(t,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error("Missing UI string '".concat(e,"'"));return t}_updateStyle(e,t){if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",(()=>this._updateStyle(e,t)));const n=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new it(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,n):this.style.loadJSON(e,t,n),this):(delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new it(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(t,n){if("string"==typeof t){const i=this._requestManager.transformRequest(t,u.Style);e.f(i,((t,i)=>{t?this.fire(new e.j(t)):i&&this._updateDiff(i,n)}))}else"object"==typeof t&&this._updateDiff(t,n)}_updateDiff(t,n){try{this.style.setState(t,n)&&this._update(!0)}catch(i){e.w("Unable to perform style diff: ".concat(i.message||i.error||i,".  Rebuilding the style from scratch.")),this._updateStyle(t,n)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():e.w("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(t){const n=this.style&&this.style.sourceCaches[t];if(void 0!==n)return n.loaded();this.fire(new e.j(new Error("There is no source with ID '".concat(t,"'"))))}setTerrain(t){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),t){const n=this.style.sourceCaches[t.source];if(!n)throw new Error("cannot load terrain, because there exists no source with ID: ".concat(t.source));for(const i in this.style._layers){const n=this.style._layers[i];"hillshade"===n.type&&n.source===t.source&&e.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new pr(this.painter,n,t),this.painter.renderToTexture=new gr(this.painter,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._terrainDataCallback=e=>{"style"===e.dataType?this.terrain.sourceCache.freeRtt():"source"===e.dataType&&e.tile&&(e.sourceId!==t.source||this._elevationFreeze||(this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.terrain.sourceCache.freeRtt(e.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.sourceCache.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0;return this.fire(new e.k("terrain",{terrain:t})),this}getTerrain(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}areTilesLoaded(){const e=this.style&&this.style.sourceCaches;for(const t in e){const n=e[t]._tiles;for(const e in n){const t=n[e];if("loaded"!==t.state&&"errored"!==t.state)return!1}}return!0}addSourceType(e,t,n){return this._lazyInitEmptyStyle(),this.style.addSourceType(e,t,n)}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}addImage(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{pixelRatio:r=1,sdf:s=!1,stretchX:a,stretchY:o,content:l}=i;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||e.a(n))){if(void 0===n.width||void 0===n.height)return this.fire(new e.j(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:i,height:c,data:u}=n,h=n;return this.style.addImage(t,{data:new e.R({width:i,height:c},new Uint8Array(u)),pixelRatio:r,stretchX:a,stretchY:o,content:l,sdf:s,version:0,userImage:h}),h.onAdd&&h.onAdd(this,t),this}}{const{width:i,height:c,data:u}=e.h.getImageData(n);this.style.addImage(t,{data:new e.R({width:i,height:c},u),pixelRatio:r,stretchX:a,stretchY:o,content:l,sdf:s,version:0})}}updateImage(t,n){const i=this.style.getImage(t);if(!i)return this.fire(new e.j(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const r=n instanceof HTMLImageElement||e.a(n)?e.h.getImageData(n):n,{width:s,height:a,data:o}=r;if(void 0===s||void 0===a)return this.fire(new e.j(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(s!==i.data.width||a!==i.data.height)return this.fire(new e.j(new Error("The width and height of the updated image must be that same as the previous version of the image")));const l=!(n instanceof HTMLImageElement||e.a(n));return i.data.replace(o,l),this.style.updateImage(t,i),this}getImage(e){return this.style.getImage(e)}hasImage(t){return t?!!this.style.getImage(t):(this.fire(new e.j(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e,t){c.getImage(this._requestManager.transformRequest(e,u.Image),t)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setPaintProperty(e,t,n,i),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.style.setLayoutProperty(e,t,n,i),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,n,(e=>{e||this._update(!0)})),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,(e=>{e||this._update(!0)})),this}setLight(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map");const t=this._canvasContainer=n.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=n.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");const i=this._containerDimensions(),r=this._getClampedPixelRatio(i[0],i[1]);this._resizeCanvas(i[0],i[1],r);const s=this._controlContainer=n.create("div","maplibregl-control-container",e),a=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach((e=>{a[e]=n.create("div","maplibregl-ctrl-".concat(e," "),s)})),this._container.addEventListener("scroll",this._onMapScroll,!1)}_setupCooperativeGestures(){this._cooperativeGesturesScreen=n.create("div","maplibregl-cooperative-gesture-screen",this._container);let e="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.windowsHelpText?this._cooperativeGestures.windowsHelpText:"Use Ctrl + scroll to zoom the map";0===navigator.platform.indexOf("Mac")&&(e="boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.macHelpText?this._cooperativeGestures.macHelpText:"Use \u2318 + scroll to zoom the map"),this._cooperativeGesturesScreen.innerHTML='\n            <div class="maplibregl-desktop-message">'.concat(e,'</div>\n            <div class="maplibregl-mobile-message">').concat("boolean"!=typeof this._cooperativeGestures&&this._cooperativeGestures.mobileHelpText?this._cooperativeGestures.mobileHelpText:"Use two fingers to move the map","</div>\n        "),this._cooperativeGesturesScreen.setAttribute("aria-hidden","true"),this._canvasContainer.addEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.add("maplibregl-cooperative-gestures")}_destroyCooperativeGestures(){n.remove(this._cooperativeGesturesScreen),this._canvasContainer.removeEventListener("wheel",this._cooperativeGesturesOnWheel,!1),this._canvasContainer.classList.remove("maplibregl-cooperative-gestures")}_resizeCanvas(e,t,n){this._canvas.width=Math.floor(n*e),this._canvas.height=Math.floor(n*t),this._canvas.style.width="".concat(e,"px"),this._canvas.style.height="".concat(t,"px")}_setupPainter(){const e={alpha:!0,stencil:!0,depth:!0,failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1};let t=null;this._canvas.addEventListener("webglcontextcreationerror",(n=>{t={requestedAttributes:e},n&&(t.statusMessage=n.statusMessage,t.type=n.type)}),{once:!0});const n=this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e);if(!n){const e="Failed to initialize WebGL";throw t?(t.message=e,new Error(JSON.stringify(t))):new Error(e)}this.painter=new ii(n,this.transform),i.testSupport(n)}_onCooperativeGesture(e,t,n){return!t&&n<2&&(this._cooperativeGesturesScreen.classList.add("maplibregl-show"),setTimeout((()=>{this._cooperativeGesturesScreen.classList.remove("maplibregl-show")}),100)),!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(t){const n=this._idleTriggered?this._fadeDuration:0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(t),this._removed)return;let i=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const t=this.transform.zoom,r=e.h.now();this.style.zoomHistory.update(t,r);const s=new e.a8(t,{now:r,fadeDuration:n,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),a=s.crossFadingFactor();1===a&&a===this._crossFadingFactor||(i=!0,this._crossFadingFactor=a),this.style.update(s)}this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.sourceCache.update(this.transform,this.terrain),this.transform._minEleveationForCurrentTile=this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom),this._elevationFreeze||(this.transform.elevation=this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform._minEleveationForCurrentTile=0,this.transform.elevation=0),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,n,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:n,showPadding:this.showPadding}),this.fire(new e.k("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,e.bf.mark(e.bg.load),this.fire(new e.k("load"))),this.style&&(this.style.hasTransitions()||i)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const r=this._sourcesDirty||this._styleDirty||this._placementDirty;return r||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new e.k("idle")),!this._loaded||this._fullyLoaded||r||(this._fullyLoaded=!0,e.bf.mark(e.bg.fullLoad)),this}redraw(){return this.style&&(this._frame&&(this._frame.cancel(),this._frame=null),this._render(0)),this}remove(){var t;this._hash&&this._hash.remove();for(const e of this._controls)e.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),c.removeThrottleControl(this._imageQueueHandle),null===(t=this._resizeObserver)||void 0===t||t.disconnect();const i=this.painter.context.gl.getExtension("WEBGL_lose_context");i&&i.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),n.remove(this._canvasContainer),n.remove(this._controlContainer),this._cooperativeGestures&&this._destroyCooperativeGestures(),this._container.classList.remove("maplibregl-map"),e.bf.clearMetrics(),this._removed=!0,this.fire(new e.k("remove"))}triggerRepaint(){this.style&&!this._frame&&(this._frame=e.h.frame((t=>{e.bf.frame(t),this._frame=null,this._render(t)})))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get version(){return yr}getCameraTargetElevation(){return this.transform.elevation}},jr.NavigationControl=class{constructor(t){this._updateZoomButtons=()=>{const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},this._rotateCompassArrow=()=>{const e=this.options.visualizePitch?"scale(".concat(1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5),") rotateX(").concat(this._map.transform.pitch,"deg) rotateZ(").concat(this._map.transform.angle*(180/Math.PI),"deg)"):"rotate(".concat(this._map.transform.angle*(180/Math.PI),"deg)");this._compassIcon.style.transform=e},this._setButtonTitle=(e,t)=>{const n=this._map._getUIString("NavigationControl.".concat(t));e.title=n,e.setAttribute("aria-label",n)},this.options=e.e({},br,t),this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",(e=>this._map.zoomIn({},{originalEvent:e}))),n.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",(e=>this._map.zoomOut({},{originalEvent:e}))),n.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",(e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})})),this._compassIcon=n.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new xr(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){n.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const i=n.create("button",e,this._container);return i.type="button",i.addEventListener("click",t),i}},jr.GeolocateControl=class extends e.E{constructor(t){super(),this._onSuccess=t=>{if(this._map){if(this._isOutOfMapMaxBounds(t))return this._setErrorState(),this.fire(new e.k("outofmaxbounds",t)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=t,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(t),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(t),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new e.k("geolocate",t)),this._finish()}},this._updateCamera=t=>{const n=new e.L(t.coords.longitude,t.coords.latitude),i=t.coords.accuracy,r=this._map.getBearing(),s=e.e({bearing:r},this.options.fitBoundsOptions),a=M.fromLngLat(n,i);this._map.fitBounds(a,s,{geolocateSource:!0})},this._updateMarker=t=>{if(t){const n=new e.L(t.coords.longitude,t.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=t.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onZoom=()=>{this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},this._onError=t=>{if(this._map){if(this.options.trackUserLocation)if(1===t.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===t.code&&Ar)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new e.k("error",t)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=t=>{if(this._map){if(this._container.addEventListener("contextmenu",(e=>e.preventDefault())),this._geolocateButton=n.create("button","maplibregl-ctrl-geolocate",this._container),n.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",!1===t){e.w("Geolocation support is not available so the GeolocateControl will be disabled.");const t=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=t,this._geolocateButton.setAttribute("aria-label",t)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=n.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new Ir({element:this._dotElement}),this._circleElement=n.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new Ir({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",(t=>{t.geolocateSource||"ACTIVE_LOCK"!==this._watchState||t.originalEvent&&"resize"===t.originalEvent.type||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new e.k("trackuserlocationend")))}))}},this.options=e.e({},kr,t)}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),function(e){void 0===wr||arguments.length>1&&void 0!==arguments[1]&&arguments[1]?void 0!==window.navigator.permissions?window.navigator.permissions.query({name:"geolocation"}).then((t=>{wr="denied"!==t.state,e(wr)})).catch((()=>{wr=!!window.navigator.geolocation,e(wr)})):(wr=!!window.navigator.geolocation,e(wr)):e(wr)}(this._setupUI),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),n.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,Cr=0,Ar=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}}_updateCircleRadius(){const e=this._map.getBounds(),t=e.getSouthEast(),n=e.getNorthEast(),i=t.distanceTo(n),r=Math.ceil(this._accuracy/(i/this._map._container.clientHeight)*2);this._circleElement.style.width="".concat(r,"px"),this._circleElement.style.height="".concat(r,"px")}trigger(){if(!this._setup)return e.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new e.k("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Cr--,Ar=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new e.k("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new e.k("trackuserlocationstart"));break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error("Unexpected watchState ".concat(this._watchState))}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Cr++,Cr>1?(e={maximumAge:6e5,timeout:0},Ar=!0):(e=this.options.positionOptions,Ar=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},jr.AttributionControl=or,jr.LogoControl=lr,jr.ScaleControl=class{constructor(t){this._onMove=()=>{Nr(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,Nr(this._map,this._container,this.options)},this.options=e.e({},Pr,t)}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){n.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},jr.FullscreenControl=class extends e.E{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this._onFullscreenChange=()=>{(window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement)===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,t&&t.container&&(t.container instanceof HTMLElement?this._container=t.container:e.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){n.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const e=this._fullscreenButton=n.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);n.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new e.k("fullscreenstart")),this._map._cooperativeGestures&&(this._prevCooperativeGestures=this._map._cooperativeGestures,this._map.setCooperativeGestures())):(this.fire(new e.k("fullscreenend")),this._prevCooperativeGestures&&(this._map.setCooperativeGestures(this._prevCooperativeGestures),delete this._prevCooperativeGestures))}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},jr.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.disableTerrain")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.enableTerrain"))},this.options=e}onAdd(e){return this._map=e,this._container=n.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=n.create("button","maplibregl-ctrl-terrain",this._container),n.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){n.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},jr.Popup=class extends e.E{constructor(t){super(),this.remove=()=>(this._content&&n.remove(this._content),this._container&&(n.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new e.k("close")),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=n.create("div","maplibregl-popup",this._map.getContainer()),this._tip=n.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e of this.options.className.split(" "))this._container.classList.add(e);this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Sr(this._lngLat,this._pos,this._map.transform)),this._trackPointer&&!e)return;const t=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);let i=this.options.anchor;const r=Dr(this.options.offset);if(!i){const e=this._container.offsetWidth,n=this._container.offsetHeight;let s;s=t.y+r.bottom.y<n?["top"]:t.y>this._map.transform.height-n?["bottom"]:[],t.x<e/2?s.push("left"):t.x>this._map.transform.width-e/2&&s.push("right"),i=0===s.length?"bottom":s.join("-")}const s=t.add(r[i]).round();n.setTransform(this._container,"".concat(Er[i]," translate(").concat(s.x,"px,").concat(s.y,"px)")),Tr(this._container,i,"popup")},this._onClose=()=>{this.remove()},this.options=e.e(Object.create(Rr),t)}addTo(t){return this._map&&this.remove(),this._map=t,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new e.k("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(t){return this._lngLat=e.L.convert(t),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let i;for(n.innerHTML=e;i=n.firstChild,i;)t.appendChild(i);return this.setDOMContent(t)}getMaxWidth(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=n.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){this._container&&this._container.classList.add(e)}removeClassName(e){this._container&&this._container.classList.remove(e)}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}_createCloseButton(){this.options.closeButton&&(this._closeButton=n.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(Or);e&&e.focus()}},jr.Marker=Ir,jr.Style=it,jr.LngLat=e.L,jr.LngLatBounds=M,jr.Point=e.P,jr.MercatorCoordinate=e.U,jr.Evented=e.E,jr.AJAXError=e.bh,jr.config=e.c,jr.CanvasSource=V,jr.GeoJSONSource=z,jr.ImageSource=F,jr.RasterDEMTileSource=L,jr.RasterTileSource=D,jr.VectorTileSource=O,jr.VideoSource=B,jr.setRTLTextPlugin=e.bi,jr.getRTLTextPluginStatus=e.bj,jr.prewarm=function(){ie().acquire($)},jr.clearPrewarmedResources=function(){const e=ne;e&&(e.isPreloaded()&&1===e.numActive()?(e.release($),ne=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},Lr.extend(jr,{isSafari:e.ac,getPerformanceMetrics:e.bf.getPerformanceMetrics}),jr})),n}()}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&i;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>i[e]));return a.default=()=>i,n.d(s,a),s}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/ewnetaweyzeroo/",(()=>{"use strict";var e,t=n(791),i=n.t(t,2),r=n(250),s=n(164),a=n.t(s,2);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function h(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,i){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function m(t,n,i,r){void 0===r&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,f=e.Pop,m=null,g=y();function y(){return(u.state||{idx:null}).idx}function v(){f=e.Pop;let t=y(),n=null==t?null:t-g;g=t,m&&m({action:f,location:b.location,delta:n})}function _(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let b={get action(){return f},get location(){return t(s,u)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),m=e,()=>{s.removeEventListener(l,v),m=null}},createHref:e=>n(s,e),createURL:_,encodeLocation(e){let t=_(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){f=e.Push;let r=d(b.location,t,n);i&&i(r,t),g=y()+1;let o=h(r,g),l=b.createHref(r);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&m&&m({action:f,location:b.location,delta:1})},replace:function(t,n){f=e.Replace;let r=d(b.location,t,n);i&&i(r,t),g=y();let s=h(r,g),o=b.createHref(r);u.replaceState(s,"",o),a&&m&&m({action:f,location:b.location,delta:0})},go:e=>u.go(e)};return b}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let i=N(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let r=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a)s=C(r[a],P(i));return s}function v(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let r=(e,r,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(i),'Absolute route path "'+a.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(i.length));let o=L([i,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),v(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:k(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of _(e.path))r(e,t,i);else r(e,t)})),t}function _(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===i.length)return r?[s,""]:[s];let a=_(i.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),r&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:\w+$/,x=3,w=2,S=1,E=10,T=-2,I=e=>"*"===e;function k(e,t){let n=e.split("/"),i=n.length;return n.some(I)&&(i+=T),t&&(i+=w),n.filter((e=>!I(e))).reduce(((e,t)=>e+(b.test(t)?x:""===t?S:E)),i)}function C(e,t){let{routesMeta:n}=e,i={},r="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===r?t:t.slice(r.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(i,c.params);let u=e.route;s.push({params:i,pathname:L([r,c.pathname]),pathnameBase:z(L([r,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(r=L([r,c.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,i]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:r}=t;if("*"===i){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[i]=r&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return u(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",i),e}),{});return{params:l,pathname:s,pathnameBase:a,pattern:e}}function P(e){try{return decodeURI(e)}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function M(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e){return R(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function D(e,t,n,i){let r;void 0===i&&(i=!1),"string"===typeof e?r=f(e):(r=o({},e),c(!r.pathname||!r.pathname.includes("?"),M("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),M("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),M("#","search","hash",r)));let s,a=""===e||""===r.pathname,l=a?"/":r.pathname;if(null==l)s=n;else if(i){let e=t[t.length-1].replace(/^\//,"").split("/");if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e.pop();r.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:r=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(i),hash:F(r)}}(r,s),h=l&&"/"!==l&&l.endsWith("/"),d=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",F=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],U=(new Set(V),["get",...V]);new Set(U),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function q(){return q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},q.apply(this,arguments)}const H=t.createContext(null);const G=t.createContext(null);const W=t.createContext(null);const K=t.createContext(null);const Y=t.createContext({outlet:null,matches:[],isDataRoute:!1});const Z=t.createContext(null);function X(){return null!=t.useContext(K)}function Q(){return X()||c(!1),t.useContext(K).location}function J(e){t.useContext(W).static||t.useLayoutEffect(e)}function $(){let{isDataRoute:e}=t.useContext(Y);return e?function(){let{router:e}=ce(oe.UseNavigateStable),n=he(le.UseNavigateStable),i=t.useRef(!1);J((()=>{i.current=!0}));let r=t.useCallback((function(t,r){void 0===r&&(r={}),i.current&&("number"===typeof t?e.navigate(t):e.navigate(t,q({fromRouteId:n},r)))}),[e,n]);return r}():function(){X()||c(!1);let e=t.useContext(H),{basename:n,navigator:i}=t.useContext(W),{matches:r}=t.useContext(Y),{pathname:s}=Q(),a=JSON.stringify(O(r)),o=t.useRef(!1);J((()=>{o.current=!0}));let l=t.useCallback((function(t,r){if(void 0===r&&(r={}),!o.current)return;if("number"===typeof t)return void i.go(t);let l=D(t,JSON.parse(a),s,"path"===r.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:L([n,l.pathname])),(r.replace?i.replace:i.push)(l,r.state,r)}),[n,i,a,s,e]);return l}()}function ee(e,n){let{relative:i}=void 0===n?{}:n,{matches:r}=t.useContext(Y),{pathname:s}=Q(),a=JSON.stringify(O(r));return t.useMemo((()=>D(e,JSON.parse(a),s,"path"===i)),[e,a,s,i])}function te(n,i,r){X()||c(!1);let{navigator:s}=t.useContext(W),{matches:a}=t.useContext(Y),o=a[a.length-1],l=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,d=Q();if(i){var p;let e="string"===typeof i?f(i):i;"/"===u||(null==(p=e.pathname)?void 0:p.startsWith(u))||c(!1),h=e}else h=d;let m=h.pathname||"/",g=y(n,{pathname:"/"===u?m:m.slice(u.length)||"/"});let v=ae(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:L([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:L([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r);return i&&v?t.createElement(K.Provider,{value:{location:q({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:e.Pop}},v):v}function ne(){let e=function(){var e;let n=t.useContext(Z),i=ue(le.UseRouteError),r=he(le.UseRouteError);if(n)return n;return null==(e=i.errors)?void 0:e[r]}(),n=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),i?t.createElement("pre",{style:s},i):null,null)}const ie=t.createElement(ne,null);class re extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?t.createElement(Y.Provider,{value:this.props.routeContext},t.createElement(Z.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:n,match:i,children:r}=e,s=t.useContext(H);return s&&s.static&&s.staticContext&&(i.route.errorElement||i.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=i.route.id),t.createElement(Y.Provider,{value:n},r)}function ae(e,n,i){var r;if(void 0===n&&(n=[]),void 0===i&&(i=null),null==e){var s;if(null==(s=i)||!s.errors)return null;e=i.matches}let a=e,o=null==(r=i)?void 0:r.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||c(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,r,s)=>{let l=r.route.id?null==o?void 0:o[r.route.id]:null,c=null;i&&(c=r.route.errorElement||ie);let u=n.concat(a.slice(0,s+1)),h=()=>{let n;return n=l?c:r.route.Component?t.createElement(r.route.Component,null):r.route.element?r.route.element:e,t.createElement(se,{match:r,routeContext:{outlet:e,matches:u,isDataRoute:null!=i},children:n})};return i&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?t.createElement(re,{location:i.location,revalidation:i.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var oe=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oe||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let n=t.useContext(H);return n||c(!1),n}function ue(e){let n=t.useContext(G);return n||c(!1),n}function he(e){let n=function(e){let n=t.useContext(Y);return n||c(!1),n}(),i=n.matches[n.matches.length-1];return i.route.id||c(!1),i.route.id}i.startTransition;function de(e){c(!1)}function pe(n){let{basename:i="/",children:r=null,location:s,navigationType:a=e.Pop,navigator:o,static:l=!1}=n;X()&&c(!1);let u=i.replace(/^\/*/,"/"),h=t.useMemo((()=>({basename:u,navigator:o,static:l})),[u,o,l]);"string"===typeof s&&(s=f(s));let{pathname:d="/",search:p="",hash:m="",state:g=null,key:y="default"}=s,v=t.useMemo((()=>{let e=N(d,u);return null==e?null:{location:{pathname:e,search:p,hash:m,state:g,key:y},navigationType:a}}),[u,d,p,m,g,y,a]);return null==v?null:t.createElement(W.Provider,{value:h},t.createElement(K.Provider,{children:r,value:v}))}function fe(e){let{children:t,location:n}=e;return te(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let i=[];return t.Children.forEach(e,((e,r)=>{if(!t.isValidElement(e))return;let s=[...n,r];if(e.type===t.Fragment)return void i.push.apply(i,me(e.props.children,s));e.type!==de&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=me(e.props.children,s)),i.push(a)})),i}function ge(){return ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ge.apply(this,arguments)}function ye(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const ve=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const _e=i.startTransition;a.flushSync;function be(e){let{basename:n,children:i,future:r,window:s}=e,a=t.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),m((function(e,t){let{pathname:n,search:i,hash:r}=e.location;return d("",{pathname:n,search:i,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,e)}({window:s,v5Compat:!0}));let o=a.current,[l,c]=t.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=t.useCallback((e=>{u&&_e?_e((()=>c(e))):c(e)}),[c,u]);return t.useLayoutEffect((()=>o.listen(h)),[o,h]),t.createElement(pe,{basename:n,children:i,location:l.location,navigationType:l.action,navigator:o})}const xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,we=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Se=t.forwardRef((function(e,n){let i,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=ye(e,ve),{basename:g}=t.useContext(W),y=!1;if("string"===typeof h&&we.test(h)&&(i=h,xe))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=N(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:y=!0}catch(b){}let v=function(e,n){let{relative:i}=void 0===n?{}:n;X()||c(!1);let{basename:r,navigator:s}=t.useContext(W),{hash:a,pathname:o,search:l}=ee(e,{relative:i}),u=o;return"/"!==r&&(u="/"===o?r:L([r,o])),s.createHref({pathname:u,search:l,hash:a})}(h,{relative:s}),_=function(e,n){let{target:i,replace:r,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===n?{}:n,c=$(),u=Q(),h=ee(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();let n=void 0!==r?r:p(u)===p(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,h,r,s,i,e,a,o,l])}(h,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,unstable_viewTransition:f});return t.createElement("a",ge({},m,{href:i||v,onClick:y||a?r:function(e){r&&r(e),e.defaultPrevented||_(e)},ref:n,target:u}))}));var Ee,Te;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ee||(Ee={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Te||(Te={}));var Ie={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ke=t.createContext&&t.createContext(Ie),Ce=function(){return Ce=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ce.apply(this,arguments)},Ae=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n};function Pe(e){return e&&e.map((function(e,n){return t.createElement(e.tag,Ce({key:n},e.attr),Pe(e.child))}))}function Ne(e){return function(n){return t.createElement(Me,Ce({attr:Ce({},e.attr)},n),Pe(e.child))}}function Me(e){var n=function(n){var i,r=e.attr,s=e.size,a=e.title,o=Ae(e,["attr","size","title"]),l=s||n.size||"1em";return n.className&&(i=n.className),e.className&&(i=(i?i+" ":"")+e.className),t.createElement("svg",Ce({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:i,style:Ce(Ce({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),e.children)};return void 0!==ke?t.createElement(ke.Consumer,null,(function(e){return n(e)})):n(Ie)}function Re(e){return Ne({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function Oe(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"}}]})(e)}function De(e){return Ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"}}]})(e)}function Le(e){return Ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M97.12 362.63c-8.69-8.69-4.16-6.24-25.12-11.85-9.51-2.55-17.87-7.45-25.43-13.32L1.2 448.7c-4.39 10.77 3.81 22.47 15.43 22.03l52.69-2.01L105.56 507c8 8.44 22.04 5.81 26.43-4.96l52.05-127.62c-10.84 6.04-22.87 9.58-35.31 9.58-19.5 0-37.82-7.59-51.61-21.37zM382.8 448.7l-45.37-111.24c-7.56 5.88-15.92 10.77-25.43 13.32-21.07 5.64-16.45 3.18-25.12 11.85-13.79 13.78-32.12 21.37-51.62 21.37-12.44 0-24.47-3.55-35.31-9.58L252 502.04c4.39 10.77 18.44 13.4 26.43 4.96l36.25-38.28 52.69 2.01c11.62.44 19.82-11.27 15.43-22.03zM263 340c15.28-15.55 17.03-14.21 38.79-20.14 13.89-3.79 24.75-14.84 28.47-28.98 7.48-28.4 5.54-24.97 25.95-45.75 10.17-10.35 14.14-25.44 10.42-39.58-7.47-28.38-7.48-24.42 0-52.83 3.72-14.14-.25-29.23-10.42-39.58-20.41-20.78-18.47-17.36-25.95-45.75-3.72-14.14-14.58-25.19-28.47-28.98-27.88-7.61-24.52-5.62-44.95-26.41-10.17-10.35-25-14.4-38.89-10.61-27.87 7.6-23.98 7.61-51.9 0-13.89-3.79-28.72.25-38.89 10.61-20.41 20.78-17.05 18.8-44.94 26.41-13.89 3.79-24.75 14.84-28.47 28.98-7.47 28.39-5.54 24.97-25.95 45.75-10.17 10.35-14.15 25.44-10.42 39.58 7.47 28.36 7.48 24.4 0 52.82-3.72 14.14.25 29.23 10.42 39.59 20.41 20.78 18.47 17.35 25.95 45.75 3.72 14.14 14.58 25.19 28.47 28.98C104.6 325.96 106.27 325 121 340c13.23 13.47 33.84 15.88 49.74 5.82a39.676 39.676 0 0 1 42.53 0c15.89 10.06 36.5 7.65 49.73-5.82zM97.66 175.96c0-53.03 42.24-96.02 94.34-96.02s94.34 42.99 94.34 96.02-42.24 96.02-94.34 96.02-94.34-42.99-94.34-96.02z"}}]})(e)}function ze(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"}}]})(e)}function je(e){return Ne({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"}}]})(e)}function Fe(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.39 361.8l-112-48a24 24 0 0 0-28 6.9l-49.6 60.6A370.66 370.66 0 0 1 130.6 204.11l60.6-49.6a23.94 23.94 0 0 0 6.9-28l-48-112A24.16 24.16 0 0 0 122.6.61l-104 24A24 24 0 0 0 0 48c0 256.5 207.9 464 464 464a24 24 0 0 0 23.4-18.6l24-104a24.29 24.29 0 0 0-14.01-27.6z"}}]})(e)}function Be(e){return Ne({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Ve(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 5-8-5h16zm0 12H4V8l8 5 8-5v10z"}}]})(e)}function Ue(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5H7z"}}]})(e)}const qe=n.p+"static/media/images-removebg-preview.84584f11142a6eca0ef7.png";function He(e){return Ne({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 4H21V6H3V4ZM9 11H21V13H9V11ZM3 18H21V20H3V18Z"}}]})(e)}var Ge=n(184);const We=()=>{const[e,n]=(0,t.useState)("home"),[i,r]=(0,t.useState)(!0),s=(document.querySelector(".liNav"),()=>{if(window.innerWidth<="912"){document.querySelector(".ulNav").style="display:none;",r(!0)}});return(0,Ge.jsxs)("div",{className:"NavBar",children:[(0,Ge.jsx)("div",{className:"header",children:(0,Ge.jsxs)("div",{className:"headerall",children:[(0,Ge.jsxs)("div",{className:"phoneLocation",children:[(0,Ge.jsx)("div",{className:"phone",children:(0,Ge.jsxs)("a",{href:"tel:+251930104785",children:[(0,Ge.jsx)(Fe,{className:"icon"})," +251930104785 "]})}),(0,Ge.jsxs)("div",{className:"location",children:[(0,Ge.jsx)(je,{className:"icon"}),(0,Ge.jsx)("h3",{children:"Around Ajip, Jimma"})]})]}),(0,Ge.jsxs)("div",{className:"emailIcon",children:[(0,Ge.jsx)("div",{className:"email",children:(0,Ge.jsxs)("a",{href:"mailto: abelahabtamu1@gmail.com",children:[" ",(0,Ge.jsx)(Ve,{className:"iconMsg"}),"  abelahabtamu1@gmail.com "]})}),(0,Ge.jsx)("hr",{}),(0,Ge.jsxs)("div",{className:"icons",children:[(0,Ge.jsx)(Re,{className:"iconss"}),(0,Ge.jsx)(De,{className:"iconss"}),(0,Ge.jsx)(Oe,{className:"iconss"})]})]})]})}),(0,Ge.jsx)("div",{className:"headerDiv",children:(0,Ge.jsx)("div",{className:"headerDivNav",children:(0,Ge.jsxs)("div",{className:"headerallNav",children:[(0,Ge.jsxs)("div",{className:"title",children:[(0,Ge.jsx)("div",{className:"cicle",children:(0,Ge.jsx)("img",{src:qe,className:"imgNav"})}),(0,Ge.jsx)("h2",{children:"Ewneta Weyzero"})]}),(0,Ge.jsx)(He,{className:"icon_menu",onClick:()=>{if(1==i){const e=document.querySelector(".ulNav");document.querySelector(".listNav").style="display:flex;   ",e.style="display:flex; flex-direction: column; align-items: center;justify-content: center;  ",r(!1)}else if(0==i){const e=document.querySelector(".ulNav");document.querySelector(".listNav").style="display:none;",e.style="display:none;",r(!0)}}}),(0,Ge.jsx)("div",{className:"listNav",children:(0,Ge.jsxs)("ul",{className:"ulNav",children:[(0,Ge.jsx)("li",{onClick:s,className:"liNav",children:(0,Ge.jsxs)(Se,{onClick:()=>n("home"),className:"home"==e?"active":"noactive",to:"",children:["   HOME ","home"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})}),(0,Ge.jsx)("li",{onClick:s,className:"liNav",children:(0,Ge.jsxs)(Se,{onClick:()=>n("service"),className:"service"==e?"active":"noactive",to:"/serv",children:["  SERVICE ","service"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})}),(0,Ge.jsx)("li",{onClick:s,className:"liNav",children:(0,Ge.jsxs)(Se,{onClick:()=>n("employees"),className:"employees"==e?"active":"noactive",to:"/employe",children:["EMPLOYEES ","employees"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})}),(0,Ge.jsx)("li",{onClick:s,className:"liNav",children:(0,Ge.jsxs)(Se,{onClick:()=>n("contact"),className:"contact"==e?"active":"noactive",to:"/contact",children:["CONTACT ","contact"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})}),(0,Ge.jsx)("li",{onClick:s,className:"liNav",children:(0,Ge.jsxs)(Se,{onClick:()=>n("register"),className:"register"==e?"active":"noactive",to:"/register",children:["REGISTER ","register"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})}),(0,Ge.jsx)("li",{onClick:s,className:"liNav liNavLast",children:(0,Ge.jsxs)(Se,{onClick:()=>n("login"),className:"login"==e?"active":"noactive",to:"/login",children:["LOGIN ","login"==e?(0,Ge.jsx)("hr",{}):(0,Ge.jsx)(Ge.Fragment,{})]})})]})})]})})})]})};function Ke(e){return Ne({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"}}]})(e)}function Ye(e){return Ne({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M312 24V34.5c6.4 1.2 12.6 2.7 18.2 4.2c12.8 3.4 20.4 16.6 17 29.4s-16.6 20.4-29.4 17c-10.9-2.9-21.1-4.9-30.2-5c-7.3-.1-14.7 1.7-19.4 4.4c-2.1 1.3-3.1 2.4-3.5 3c-.3 .5-.7 1.2-.7 2.8c0 .3 0 .5 0 .6c.2 .2 .9 1.2 3.3 2.6c5.8 3.5 14.4 6.2 27.4 10.1l.9 .3c11.1 3.3 25.9 7.8 37.9 15.3c13.7 8.6 26.1 22.9 26.4 44.9c.3 22.5-11.4 38.9-26.7 48.5c-6.7 4.1-13.9 7-21.3 8.8V232c0 13.3-10.7 24-24 24s-24-10.7-24-24V220.6c-9.5-2.3-18.2-5.3-25.6-7.8c-2.1-.7-4.1-1.4-6-2c-12.6-4.2-19.4-17.8-15.2-30.4s17.8-19.4 30.4-15.2c2.6 .9 5 1.7 7.3 2.5c13.6 4.6 23.4 7.9 33.9 8.3c8 .3 15.1-1.6 19.2-4.1c1.9-1.2 2.8-2.2 3.2-2.9c.4-.6 .9-1.8 .8-4.1l0-.2c0-1 0-2.1-4-4.6c-5.7-3.6-14.3-6.4-27.1-10.3l-1.9-.6c-10.8-3.2-25-7.5-36.4-14.4c-13.5-8.1-26.5-22-26.6-44.1c-.1-22.9 12.9-38.6 27.7-47.4c6.4-3.8 13.3-6.4 20.2-8.2V24c0-13.3 10.7-24 24-24s24 10.7 24 24zM568.2 336.3c13.1 17.8 9.3 42.8-8.5 55.9L433.1 485.5c-23.4 17.2-51.6 26.5-80.7 26.5H192 32c-17.7 0-32-14.3-32-32V416c0-17.7 14.3-32 32-32H68.8l44.9-36c22.7-18.2 50.9-28 80-28H272h16 64c17.7 0 32 14.3 32 32s-14.3 32-32 32H288 272c-8.8 0-16 7.2-16 16s7.2 16 16 16H392.6l119.7-88.2c17.8-13.1 42.8-9.3 55.9 8.5zM193.6 384l0 0-.9 0c.3 0 .6 0 .9 0z"}}]})(e)}function Ze(e){return Ne({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"}}]})(e)}const Xe=()=>(0,Ge.jsxs)("div",{className:"footdiv",children:[(0,Ge.jsxs)("div",{className:"footer",children:[(0,Ge.jsxs)("div",{className:"foot footone",children:[(0,Ge.jsxs)("div",{className:"imgText",children:[(0,Ge.jsx)("div",{className:"cicle",children:(0,Ge.jsx)("img",{src:qe,className:"imgNav"})}),(0,Ge.jsx)("p",{className:"footTitle",children:"Ewneta Weyzero"})]}),(0,Ge.jsx)("div",{className:"textonly",children:(0,Ge.jsx)("p",{className:"footDesc",children:"Weyzero is a webapp that gather as much information as possible about potential maids, adult care, female tutors, housekeepers, Waitress and Private nurses including personal information, education, experience and work history, so that Employers can make an educated and informed hiring decision."})})]}),(0,Ge.jsxs)("div",{className:"foot foottwo",children:[(0,Ge.jsx)("h3",{children:"Quick Link"}),(0,Ge.jsxs)("ul",{className:"ulfoot",children:[(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"}),"  ",(0,Ge.jsx)("a",{href:"",children:"Home"}),"  "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"})," ",(0,Ge.jsx)("a",{href:"",children:"Service"}),"   "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"})," ",(0,Ge.jsx)("a",{href:"",children:"Employees"}),"   "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"})," ",(0,Ge.jsx)("a",{href:"",children:"Contact"}),"  "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"})," ",(0,Ge.jsx)("a",{href:"",children:"Register"}),"  "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"}),"  ",(0,Ge.jsx)("a",{href:"",children:"Login"}),"   "]})]})]}),(0,Ge.jsxs)("div",{className:"foot footthree ",children:[(0,Ge.jsx)("h3",{children:"Legals"}),(0,Ge.jsxs)("ul",{className:"ulfoot",children:[(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"}),"  ",(0,Ge.jsx)("a",{href:"",children:"Terms and Conditions"}),"  "]}),(0,Ge.jsxs)("li",{className:"lifoot",children:[" ",(0,Ge.jsx)(Ke,{className:"iconfoot"})," ",(0,Ge.jsx)("a",{href:"",children:"Privacy Policy"}),"   "]})]})]}),(0,Ge.jsxs)("div",{className:"foot footfour",children:[(0,Ge.jsx)("h3",{children:"Contact Us"}),(0,Ge.jsxs)("div",{className:"iconall",children:[(0,Ge.jsx)("div",{className:"emailfoot",children:(0,Ge.jsxs)("a",{href:"mailto: abelahabtamu1@gmail.com",children:[" ",(0,Ge.jsx)(Ve,{className:"iconMsgfoot"}),"  abelahabtamu1@gmail.com "]})}),(0,Ge.jsx)("div",{className:"phonefoot",children:(0,Ge.jsxs)("a",{href:"tel:+251930104785",children:[(0,Ge.jsx)(Fe,{className:"iconfoot iconfootphone"})," +251930104785 "]})}),(0,Ge.jsxs)("div",{className:"locationfoot",children:[(0,Ge.jsx)(Ze,{className:"iconfoot"}),(0,Ge.jsx)("p",{children:"Around Ajip, Jimma"})]}),(0,Ge.jsxs)("div",{className:"iconsfoot",children:[(0,Ge.jsx)(Re,{className:"iconssfoot"}),(0,Ge.jsx)(De,{className:"iconssfoot"}),(0,Ge.jsx)(Oe,{className:"iconssfoot"})]})]})]})]}),(0,Ge.jsx)("hr",{}),(0,Ge.jsxs)("div",{className:"copy",children:[(0,Ge.jsx)("p",{children:"2023 \xa9 Copyright Ewneta. All Rights Reserved."}),(0,Ge.jsx)("p",{children:"Powered By Ewneta Technologies PLC."})]})]}),Qe=n.p+"static/media/img1.2feb3beac45e787464e2.png";function Je(e){return Ne({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM694.5 340.7L481.9 633.4a16.1 16.1 0 0 1-26 0l-126.4-174c-3.8-5.3 0-12.7 6.5-12.7h55.2c5.1 0 10 2.5 13 6.6l64.7 89 150.9-207.8c3-4.1 7.8-6.6 13-6.6H688c6.5.1 10.3 7.5 6.5 12.8z"}}]})(e)}const $e=n.p+"static/media/nurse.6ed21632c492ce854650.png",et=n.p+"static/media/old-people_3689125-removebg-preview.2fac7a781f6679357407.png",tt=n.p+"static/media/changer_2219870-removebg-preview.d8200b1734089db0c2cd.png",nt=n.p+"static/media/house keeper.693f7f365dbe5344a0f6.png",it=n.p+"static/media/teacher_10618283-removebg-preview.fca35bbbbc5b16e392ac.png",rt=n.p+"static/media/cleaner_1886856-removebg-preview.afd096bc2939e2566f68.png",st=n.p+"static/media/waiter_6103215-removebg-preview.c35d0325bfeea0a6e3d4.png",at=n.p+"static/media/cooker.fb22e9dacadd1f6fc8fe.png",ot=n.p+"static/media/worker1.9c3f9eded11db5d6175b.jpg",lt=n.p+"static/media/worker2.7e7c97d80c98ccd9dae1.jpg",ct=n.p+"static/media/worker3.60e0994c793190adf7c0.jpg",ut=n.p+"static/media/worker4.604bb631c1c7da8f6f63.jpg",ht=n.p+"static/media/worker5.bf226ba613f8c10f6053.jpg",dt=n.p+"static/media/worker6.4a1e91f337f776a50ac5.jpg",pt=n.p+"static/media/worker7.d4225eaad1cfc24c68ae.png",ft=n.p+"static/media/worker8.b00c9d8139877ec9a501.jpeg",mt=n.p+"static/media/avatar-removebg-preview.71674b08468cb7f28e26.png";function gt(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function yt(e,t){void 0===e&&(e={}),void 0===t&&(t={}),Object.keys(t).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:gt(t[n])&&gt(e[n])&&Object.keys(t[n]).length>0&&yt(e[n],t[n])}))}const vt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function _t(){const e="undefined"!==typeof document?document:{};return yt(e,vt),e}const bt={document:vt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function xt(){const e="undefined"!==typeof window?window:{};return yt(e,bt),e}function wt(e,t){return void 0===t&&(t=0),setTimeout(e,t)}function St(){return Date.now()}function Et(e,t){void 0===t&&(t="x");const n=xt();let i,r,s;const a=function(e){const t=xt();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}(e);return n.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map((e=>e.replace(",","."))).join(", ")),s=new n.WebKitCSSMatrix("none"===r?"":r)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),"x"===t&&(r=n.WebKitCSSMatrix?s.m41:16===i.length?parseFloat(i[12]):parseFloat(i[4])),"y"===t&&(r=n.WebKitCSSMatrix?s.m42:16===i.length?parseFloat(i[13]):parseFloat(i[5])),r||0}function Tt(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function It(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function kt(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const i=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==i&&null!==i&&!It(i)){const n=Object.keys(Object(i)).filter((e=>t.indexOf(e)<0));for(let t=0,r=n.length;t<r;t+=1){const r=n[t],s=Object.getOwnPropertyDescriptor(i,r);void 0!==s&&s.enumerable&&(Tt(e[r])&&Tt(i[r])?i[r].__swiper__?e[r]=i[r]:kt(e[r],i[r]):!Tt(e[r])&&Tt(i[r])?(e[r]={},i[r].__swiper__?e[r]=i[r]:kt(e[r],i[r])):e[r]=i[r])}}}return e}function Ct(e,t,n){e.style.setProperty(t,n)}function At(e){let{swiper:t,targetPosition:n,side:i}=e;const r=xt(),s=-t.translate;let a,o=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const c=n>s?"next":"prev",u=(e,t)=>"next"===c&&e>=t||"prev"===c&&e<=t,h=()=>{a=(new Date).getTime(),null===o&&(o=a);const e=Math.max(Math.min((a-o)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let d=s+c*(n-s);if(u(d,n)&&(d=n),t.wrapperEl.scrollTo({[i]:d}),u(d,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[i]:d})})),void r.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=r.requestAnimationFrame(h)};h()}function Pt(e,t){return void 0===t&&(t=""),[...e.children].filter((e=>e.matches(t)))}function Nt(e){try{return void console.warn(e)}catch(t){}}function Mt(e,t){void 0===t&&(t=[]);const n=document.createElement(e);return n.classList.add(...Array.isArray(t)?t:function(e){return void 0===e&&(e=""),e.trim().split(" ").filter((e=>!!e.trim()))}(t)),n}function Rt(e,t){return xt().getComputedStyle(e,null).getPropertyValue(t)}function Ot(e){let t,n=e;if(n){for(t=0;null!==(n=n.previousSibling);)1===n.nodeType&&(t+=1);return t}}function Dt(e,t,n){const i=xt();return n?e["width"===t?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(e,null).getPropertyValue("width"===t?"margin-left":"margin-bottom")):e.offsetWidth}let Lt,zt,jt;function Ft(){return Lt||(Lt=function(){const e=xt(),t=_t();return{smoothScroll:t.documentElement&&t.documentElement.style&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch)}}()),Lt}function Bt(e){return void 0===e&&(e={}),zt||(zt=function(e){let{userAgent:t}=void 0===e?{}:e;const n=Ft(),i=xt(),r=i.navigator.platform,s=t||i.navigator.userAgent,a={ios:!1,android:!1},o=i.screen.width,l=i.screen.height,c=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const h=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),p="Win32"===r;let f="MacIntel"===r;return!u&&f&&n.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf("".concat(o,"x").concat(l))>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),c&&!p&&(a.os="android",a.android=!0),(u||d||h)&&(a.os="ios",a.ios=!0),a}(e)),zt}function Vt(){return jt||(jt=function(){const e=xt();let t=!1;function n(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}if(n()){const n=String(e.navigator.userAgent);if(n.includes("Version/")){const[e,i]=n.split("Version/")[1].split(" ")[0].split(".").map((e=>Number(e)));t=e<16||16===e&&i<2}}return{isSafari:t||n(),needPerspectiveFix:t,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),jt}var Ut={on(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!==typeof t)return i;const r=n?"unshift":"push";return e.split(" ").forEach((e=>{i.eventsListeners[e]||(i.eventsListeners[e]=[]),i.eventsListeners[e][r](t)})),i},once(e,t,n){const i=this;if(!i.eventsListeners||i.destroyed)return i;if("function"!==typeof t)return i;function r(){i.off(e,r),r.__emitterProxy&&delete r.__emitterProxy;for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];t.apply(i,s)}return r.__emitterProxy=t,i.on(e,r,n)},onAny(e,t){const n=this;if(!n.eventsListeners||n.destroyed)return n;if("function"!==typeof e)return n;const i=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[i](e),n},offAny(e){const t=this;if(!t.eventsListeners||t.destroyed)return t;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return!n.eventsListeners||n.destroyed?n:n.eventsListeners?(e.split(" ").forEach((e=>{"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((i,r)=>{(i===t||i.__emitterProxy&&i.__emitterProxy===t)&&n.eventsListeners[e].splice(r,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners||e.destroyed)return e;if(!e.eventsListeners)return e;let t,n,i;for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];"string"===typeof s[0]||Array.isArray(s[0])?(t=s[0],n=s.slice(1,s.length),i=e):(t=s[0].events,n=s[0].data,i=s[0].context||e),n.unshift(i);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(i,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(i,n)}))})),e}};const qt=(e,t)=>{if(!e||e.destroyed||!e.params)return;const n=t.closest(e.isElement?"swiper-slide":".".concat(e.params.slideClass));if(n){let t=n.querySelector(".".concat(e.params.lazyPreloaderClass));!t&&e.isElement&&(n.shadowRoot?t=n.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)):requestAnimationFrame((()=>{n.shadowRoot&&(t=n.shadowRoot.querySelector(".".concat(e.params.lazyPreloaderClass)),t&&t.remove())}))),t&&t.remove()}},Ht=(e,t)=>{if(!e.slides[t])return;const n=e.slides[t].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Gt=e=>{if(!e||e.destroyed||!e.params)return;let t=e.params.lazyPreloadPrevNext;const n=e.slides.length;if(!n||!t||t<0)return;t=Math.min(t,n);const i="auto"===e.params.slidesPerView?e.slidesPerViewDynamic():Math.ceil(e.params.slidesPerView),r=e.activeIndex;if(e.params.grid&&e.params.grid.rows>1){const n=r,s=[n-t];return s.push(...Array.from({length:t}).map(((e,t)=>n+i+t))),void e.slides.forEach(((t,n)=>{s.includes(t.column)&&Ht(e,n)}))}const s=r+i-1;if(e.params.rewind||e.params.loop)for(let a=r-t;a<=s+t;a+=1){const t=(a%n+n)%n;(t<r||t>s)&&Ht(e,t)}else for(let a=Math.max(r-t,0);a<=Math.min(s+t,n-1);a+=1)a!==r&&(a>s||a<r)&&Ht(e,a)};var Wt={updateSize:function(){const e=this;let t,n;const i=e.el;t="undefined"!==typeof e.params.width&&null!==e.params.width?e.params.width:i.clientWidth,n="undefined"!==typeof e.params.height&&null!==e.params.height?e.params.height:i.clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(Rt(i,"padding-left")||0,10)-parseInt(Rt(i,"padding-right")||0,10),n=n-parseInt(Rt(i,"padding-top")||0,10)-parseInt(Rt(i,"padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t,n){return parseFloat(t.getPropertyValue(e.getDirectionLabel(n))||0)}const n=e.params,{wrapperEl:i,slidesEl:r,size:s,rtlTranslate:a,wrongRTL:o}=e,l=e.virtual&&n.virtual.enabled,c=l?e.virtual.slides.length:e.slides.length,u=Pt(r,".".concat(e.params.slideClass,", swiper-slide")),h=l?e.virtual.slides.length:u.length;let d=[];const p=[],f=[];let m=n.slidesOffsetBefore;"function"===typeof m&&(m=n.slidesOffsetBefore.call(e));let g=n.slidesOffsetAfter;"function"===typeof g&&(g=n.slidesOffsetAfter.call(e));const y=e.snapGrid.length,v=e.slidesGrid.length;let _=n.spaceBetween,b=-m,x=0,w=0;if("undefined"===typeof s)return;"string"===typeof _&&_.indexOf("%")>=0?_=parseFloat(_.replace("%",""))/100*s:"string"===typeof _&&(_=parseFloat(_)),e.virtualSize=-_,u.forEach((e=>{a?e.style.marginLeft="":e.style.marginRight="",e.style.marginBottom="",e.style.marginTop=""})),n.centeredSlides&&n.cssMode&&(Ct(i,"--swiper-centered-offset-before",""),Ct(i,"--swiper-centered-offset-after",""));const S=n.grid&&n.grid.rows>1&&e.grid;let E;S?e.grid.initSlides(u):e.grid&&e.grid.unsetSlides();const T="auto"===n.slidesPerView&&n.breakpoints&&Object.keys(n.breakpoints).filter((e=>"undefined"!==typeof n.breakpoints[e].slidesPerView)).length>0;for(let I=0;I<h;I+=1){let i;if(E=0,u[I]&&(i=u[I]),S&&e.grid.updateSlide(I,i,u),!u[I]||"none"!==Rt(i,"display")){if("auto"===n.slidesPerView){T&&(u[I].style[e.getDirectionLabel("width")]="");const r=getComputedStyle(i),s=i.style.transform,a=i.style.webkitTransform;if(s&&(i.style.transform="none"),a&&(i.style.webkitTransform="none"),n.roundLengths)E=e.isHorizontal()?Dt(i,"width",!0):Dt(i,"height",!0);else{const e=t(r,"width"),n=t(r,"padding-left"),s=t(r,"padding-right"),a=t(r,"margin-left"),o=t(r,"margin-right"),l=r.getPropertyValue("box-sizing");if(l&&"border-box"===l)E=e+a+o;else{const{clientWidth:t,offsetWidth:r}=i;E=e+n+s+a+o+(r-t)}}s&&(i.style.transform=s),a&&(i.style.webkitTransform=a),n.roundLengths&&(E=Math.floor(E))}else E=(s-(n.slidesPerView-1)*_)/n.slidesPerView,n.roundLengths&&(E=Math.floor(E)),u[I]&&(u[I].style[e.getDirectionLabel("width")]="".concat(E,"px"));u[I]&&(u[I].swiperSlideSize=E),f.push(E),n.centeredSlides?(b=b+E/2+x/2+_,0===x&&0!==I&&(b=b-s/2-_),0===I&&(b=b-s/2-_),Math.abs(b)<.001&&(b=0),n.roundLengths&&(b=Math.floor(b)),w%n.slidesPerGroup===0&&d.push(b),p.push(b)):(n.roundLengths&&(b=Math.floor(b)),(w-Math.min(e.params.slidesPerGroupSkip,w))%e.params.slidesPerGroup===0&&d.push(b),p.push(b),b=b+E+_),e.virtualSize+=E+_,x=E,w+=1}}if(e.virtualSize=Math.max(e.virtualSize,s)+g,a&&o&&("slide"===n.effect||"coverflow"===n.effect)&&(i.style.width="".concat(e.virtualSize+_,"px")),n.setWrapperSize&&(i.style[e.getDirectionLabel("width")]="".concat(e.virtualSize+_,"px")),S&&e.grid.updateWrapperSize(E,d),!n.centeredSlides){const t=[];for(let i=0;i<d.length;i+=1){let r=d[i];n.roundLengths&&(r=Math.floor(r)),d[i]<=e.virtualSize-s&&t.push(r)}d=t,Math.floor(e.virtualSize-s)-Math.floor(d[d.length-1])>1&&d.push(e.virtualSize-s)}if(l&&n.loop){const t=f[0]+_;if(n.slidesPerGroup>1){const i=Math.ceil((e.virtual.slidesBefore+e.virtual.slidesAfter)/n.slidesPerGroup),r=t*n.slidesPerGroup;for(let e=0;e<i;e+=1)d.push(d[d.length-1]+r)}for(let i=0;i<e.virtual.slidesBefore+e.virtual.slidesAfter;i+=1)1===n.slidesPerGroup&&d.push(d[d.length-1]+t),p.push(p[p.length-1]+t),e.virtualSize+=t}if(0===d.length&&(d=[0]),0!==_){const t=e.isHorizontal()&&a?"marginLeft":e.getDirectionLabel("marginRight");u.filter(((e,t)=>!(n.cssMode&&!n.loop)||t!==u.length-1)).forEach((e=>{e.style[t]="".concat(_,"px")}))}if(n.centeredSlides&&n.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(_||0)})),e-=_;const t=e-s;d=d.map((e=>e<=0?-m:e>t?t+g:e))}if(n.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(_||0)})),e-=_,e<s){const t=(s-e)/2;d.forEach(((e,n)=>{d[n]=e-t})),p.forEach(((e,n)=>{p[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:d,slidesGrid:p,slidesSizesGrid:f}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ct(i,"--swiper-centered-offset-before","".concat(-d[0],"px")),Ct(i,"--swiper-centered-offset-after","".concat(e.size/2-f[f.length-1]/2,"px"));const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}if(h!==c&&e.emit("slidesLengthChange"),d.length!==y&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),p.length!==v&&e.emit("slidesGridLengthChange"),n.watchSlidesProgress&&e.updateSlidesOffset(),e.emit("slidesUpdated"),!l&&!n.cssMode&&("slide"===n.effect||"fade"===n.effect)){const t="".concat(n.containerModifierClass,"backface-hidden"),i=e.el.classList.contains(t);h<=n.maxBackfaceHiddenSlides?i||e.el.classList.add(t):i&&e.el.classList.remove(t)}},updateAutoHeight:function(e){const t=this,n=[],i=t.virtual&&t.params.virtual.enabled;let r,s=0;"number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const a=e=>i?t.slides[t.getSlideIndexByData(e)]:t.slides[e];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)(t.visibleSlides||[]).forEach((e=>{n.push(e)}));else for(r=0;r<Math.ceil(t.params.slidesPerView);r+=1){const e=t.activeIndex+r;if(e>t.slides.length&&!i)break;n.push(a(e))}else n.push(a(t.activeIndex));for(r=0;r<n.length;r+=1)if("undefined"!==typeof n[r]){const e=n[r].offsetHeight;s=e>s?e:s}(s||0===s)&&(t.wrapperEl.style.height="".concat(s,"px"))},updateSlidesOffset:function(){const e=this,t=e.slides,n=e.isElement?e.isHorizontal()?e.wrapperEl.offsetLeft:e.wrapperEl.offsetTop:0;for(let i=0;i<t.length;i+=1)t[i].swiperSlideOffset=(e.isHorizontal()?t[i].offsetLeft:t[i].offsetTop)-n-e.cssOverflowAdjustment()},updateSlidesProgress:function(e){void 0===e&&(e=this&&this.translate||0);const t=this,n=t.params,{slides:i,rtlTranslate:r,snapGrid:s}=t;if(0===i.length)return;"undefined"===typeof i[0].swiperSlideOffset&&t.updateSlidesOffset();let a=-e;r&&(a=e),i.forEach((e=>{e.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass)})),t.visibleSlidesIndexes=[],t.visibleSlides=[];let o=n.spaceBetween;"string"===typeof o&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*t.size:"string"===typeof o&&(o=parseFloat(o));for(let l=0;l<i.length;l+=1){const e=i[l];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=i[0].swiperSlideOffset);const u=(a+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),h=(a-s[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+o),d=-(a-c),p=d+t.slidesSizesGrid[l],f=d>=0&&d<=t.size-t.slidesSizesGrid[l];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(l),i[l].classList.add(n.slideVisibleClass)),f&&i[l].classList.add(n.slideFullyVisibleClass),e.progress=r?-u:u,e.originalProgress=r?-h:h}},updateProgress:function(e){const t=this;if("undefined"===typeof e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,i=t.maxTranslate()-t.minTranslate();let{progress:r,isBeginning:s,isEnd:a,progressLoop:o}=t;const l=s,c=a;if(0===i)r=0,s=!0,a=!0;else{r=(e-t.minTranslate())/i;const n=Math.abs(e-t.minTranslate())<1,o=Math.abs(e-t.maxTranslate())<1;s=n||r<=0,a=o||r>=1,n&&(r=0),o&&(r=1)}if(n.loop){const n=t.getSlideIndexByData(0),i=t.getSlideIndexByData(t.slides.length-1),r=t.slidesGrid[n],s=t.slidesGrid[i],a=t.slidesGrid[t.slidesGrid.length-1],l=Math.abs(e);o=l>=r?(l-r)/a:(l+a-s)/a,o>1&&(o-=1)}Object.assign(t,{progress:r,progressLoop:o,isBeginning:s,isEnd:a}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),s&&!l&&t.emit("reachBeginning toEdge"),a&&!c&&t.emit("reachEnd toEdge"),(l&&!s||c&&!a)&&t.emit("fromEdge"),t.emit("progress",r)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,slidesEl:i,activeIndex:r}=e,s=e.virtual&&n.virtual.enabled,a=e.grid&&n.grid&&n.grid.rows>1,o=e=>Pt(i,".".concat(n.slideClass).concat(e,", swiper-slide").concat(e))[0];let l,c,u;if(t.forEach((e=>{e.classList.remove(n.slideActiveClass,n.slideNextClass,n.slidePrevClass)})),s)if(n.loop){let t=r-e.virtual.slidesBefore;t<0&&(t=e.virtual.slides.length+t),t>=e.virtual.slides.length&&(t-=e.virtual.slides.length),l=o('[data-swiper-slide-index="'.concat(t,'"]'))}else l=o('[data-swiper-slide-index="'.concat(r,'"]'));else a?(l=t.filter((e=>e.column===r))[0],u=t.filter((e=>e.column===r+1))[0],c=t.filter((e=>e.column===r-1))[0]):l=t[r];l&&(l.classList.add(n.slideActiveClass),a?(u&&u.classList.add(n.slideNextClass),c&&c.classList.add(n.slidePrevClass)):(u=function(e,t){const n=[];for(;e.nextElementSibling;){const i=e.nextElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&!u&&(u=t[0]),u&&u.classList.add(n.slideNextClass),c=function(e,t){const n=[];for(;e.previousElementSibling;){const i=e.previousElementSibling;t?i.matches(t)&&n.push(i):n.push(i),e=i}return n}(l,".".concat(n.slideClass,", swiper-slide"))[0],n.loop&&0===!c&&(c=t[t.length-1]),c&&c.classList.add(n.slidePrevClass))),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{snapGrid:i,params:r,activeIndex:s,realIndex:a,snapIndex:o}=t;let l,c=e;const u=e=>{let n=e-t.virtual.slidesBefore;return n<0&&(n=t.virtual.slides.length+n),n>=t.virtual.slides.length&&(n-=t.virtual.slides.length),n};if("undefined"===typeof c&&(c=function(e){const{slidesGrid:t,params:n}=e,i=e.rtlTranslate?e.translate:-e.translate;let r;for(let s=0;s<t.length;s+=1)"undefined"!==typeof t[s+1]?i>=t[s]&&i<t[s+1]-(t[s+1]-t[s])/2?r=s:i>=t[s]&&i<t[s+1]&&(r=s+1):i>=t[s]&&(r=s);return n.normalizeSlideIndex&&(r<0||"undefined"===typeof r)&&(r=0),r}(t)),i.indexOf(n)>=0)l=i.indexOf(n);else{const e=Math.min(r.slidesPerGroupSkip,c);l=e+Math.floor((c-e)/r.slidesPerGroup)}if(l>=i.length&&(l=i.length-1),c===s&&!t.params.loop)return void(l!==o&&(t.snapIndex=l,t.emit("snapIndexChange")));if(c===s&&t.params.loop&&t.virtual&&t.params.virtual.enabled)return void(t.realIndex=u(c));const h=t.grid&&r.grid&&r.grid.rows>1;let d;if(t.virtual&&r.virtual.enabled&&r.loop)d=u(c);else if(h){const e=t.slides.filter((e=>e.column===c))[0];let n=parseInt(e.getAttribute("data-swiper-slide-index"),10);Number.isNaN(n)&&(n=Math.max(t.slides.indexOf(e),0)),d=Math.floor(n/r.grid.rows)}else if(t.slides[c]){const e=t.slides[c].getAttribute("data-swiper-slide-index");d=e?parseInt(e,10):c}else d=c;Object.assign(t,{previousSnapIndex:o,snapIndex:l,previousRealIndex:a,realIndex:d,previousIndex:s,activeIndex:c}),t.initialized&&Gt(t),t.emit("activeIndexChange"),t.emit("snapIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&(a!==d&&t.emit("realIndexChange"),t.emit("slideChange"))},updateClickedSlide:function(e,t){const n=this,i=n.params;let r=e.closest(".".concat(i.slideClass,", swiper-slide"));!r&&n.isElement&&t&&t.length>1&&t.includes(e)&&[...t.slice(t.indexOf(e)+1,t.length)].forEach((e=>{!r&&e.matches&&e.matches(".".concat(i.slideClass,", swiper-slide"))&&(r=e)}));let s,a=!1;if(r)for(let o=0;o<n.slides.length;o+=1)if(n.slides[o]===r){a=!0,s=o;break}if(!r||!a)return n.clickedSlide=void 0,void(n.clickedIndex=void 0);n.clickedSlide=r,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=s,i.slideToClickedSlide&&void 0!==n.clickedIndex&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}};var Kt={getTranslate:function(e){void 0===e&&(e=this.isHorizontal()?"x":"y");const{params:t,rtlTranslate:n,translate:i,wrapperEl:r}=this;if(t.virtualTranslate)return n?-i:i;if(t.cssMode)return i;let s=Et(r,e);return s+=this.cssOverflowAdjustment(),n&&(s=-s),s||0},setTranslate:function(e,t){const n=this,{rtlTranslate:i,params:r,wrapperEl:s,progress:a}=n;let o,l=0,c=0;n.isHorizontal()?l=i?-e:e:c=e,r.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c,r.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:r.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform="translate3d(".concat(l,"px, ").concat(c,"px, ").concat(0,"px)"));const u=n.maxTranslate()-n.minTranslate();o=0===u?0:(e-n.minTranslate())/u,o!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(e,t,n,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),void 0===i&&(i=!0);const s=this,{params:a,wrapperEl:o}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const l=s.minTranslate(),c=s.maxTranslate();let u;if(u=i&&e>l?l:i&&e<c?c:e,s.updateProgress(u),a.cssMode){const e=s.isHorizontal();if(0===t)o[e?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return At({swiper:s,targetPosition:-u,side:e?"left":"top"}),!0;o.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionEnd"))):(s.setTransition(t),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",t,r),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}};function Yt(e){let{swiper:t,runCallbacks:n,direction:i,step:r}=e;const{activeIndex:s,previousIndex:a}=t;let o=i;if(o||(o=s>a?"next":s<a?"prev":"reset"),t.emit("transition".concat(r)),n&&s!==a){if("reset"===o)return void t.emit("slideResetTransition".concat(r));t.emit("slideChangeTransition".concat(r)),"next"===o?t.emit("slideNextTransition".concat(r)):t.emit("slidePrevTransition".concat(r))}}var Zt={setTransition:function(e,t){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration="".concat(e,"ms"),n.wrapperEl.style.transitionDelay=0===e?"0ms":""),n.emit("setTransition",e,t)},transitionStart:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;i.cssMode||(i.autoHeight&&n.updateAutoHeight(),Yt({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(e,t){void 0===e&&(e=!0);const n=this,{params:i}=n;n.animating=!1,i.cssMode||(n.setTransition(0),Yt({swiper:n,runCallbacks:e,direction:t,step:"End"}))}};var Xt={slideTo:function(e,t,n,i,r){void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e&&(e=parseInt(e,10));const s=this;let a=e;a<0&&(a=0);const{params:o,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:d,wrapperEl:p,enabled:f}=s;if(s.animating&&o.preventInteractionOnTransition||!f&&!i&&!r)return!1;const m=Math.min(s.params.slidesPerGroupSkip,a);let g=m+Math.floor((a-m)/s.params.slidesPerGroup);g>=l.length&&(g=l.length-1);const y=-l[g];if(o.normalizeSlideIndex)for(let _=0;_<c.length;_+=1){const e=-Math.floor(100*y),t=Math.floor(100*c[_]),n=Math.floor(100*c[_+1]);"undefined"!==typeof c[_+1]?e>=t&&e<n-(n-t)/2?a=_:e>=t&&e<n&&(a=_+1):e>=t&&(a=_)}if(s.initialized&&a!==h){if(!s.allowSlideNext&&(d?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate()))return!1;if(!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(h||0)!==a)return!1}let v;if(a!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(y),v=a>h?"next":a<h?"prev":"reset",d&&-y===s.translate||!d&&y===s.translate)return s.updateActiveIndex(a),o.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),"slide"!==o.effect&&s.setTranslate(y),"reset"!==v&&(s.transitionStart(n,v),s.transitionEnd(n,v)),!1;if(o.cssMode){const e=s.isHorizontal(),n=d?y:-y;if(0===t){const t=s.virtual&&s.params.virtual.enabled;t&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),t&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame((()=>{p[e?"scrollLeft":"scrollTop"]=n}))):p[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1}))}else{if(!s.support.smoothScroll)return At({swiper:s,targetPosition:n,side:e?"left":"top"}),!0;p.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return s.setTransition(t),s.setTranslate(y),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",t,i),s.transitionStart(n,v),0===t?s.transitionEnd(n,v):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(e){s&&!s.destroyed&&e.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,v))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(e,t,n,i){if(void 0===e&&(e=0),void 0===t&&(t=this.params.speed),void 0===n&&(n=!0),"string"===typeof e){e=parseInt(e,10)}const r=this,s=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=e;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a+=r.virtual.slidesBefore;else{let e;if(s){const t=a*r.params.grid.rows;e=r.slides.filter((e=>1*e.getAttribute("data-swiper-slide-index")===t))[0].column}else e=r.getSlideIndexByData(a);const t=s?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:n}=r.params;let i=r.params.slidesPerView;"auto"===i?i=r.slidesPerViewDynamic():(i=Math.ceil(parseFloat(r.params.slidesPerView,10)),n&&i%2===0&&(i+=1));let o=t-e<i;if(n&&(o=o||e<Math.ceil(i/2)),o){const i=n?e<r.activeIndex?"prev":"next":e-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:i,slideTo:!0,activeSlideIndex:"next"===i?e+1:e-t+1,slideRealIndex:"next"===i?r.realIndex:void 0})}if(s){const e=a*r.params.grid.rows;a=r.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0].column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame((()=>{r.slideTo(a,t,n,i)})),r},slideNext:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{enabled:r,params:s,animating:a}=i;if(!r)return i;let o=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(o=Math.max(i.slidesPerViewDynamic("current",!0),1));const l=i.activeIndex<s.slidesPerGroupSkip?1:o,c=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!c&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame((()=>{i.slideTo(i.activeIndex+l,e,t,n)})),!0}return s.rewind&&i.isEnd?i.slideTo(0,e,t,n):i.slideTo(i.activeIndex+l,e,t,n)},slidePrev:function(e,t,n){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0);const i=this,{params:r,snapGrid:s,slidesGrid:a,rtlTranslate:o,enabled:l,animating:c}=i;if(!l)return i;const u=i.virtual&&r.virtual.enabled;if(r.loop){if(c&&!u&&r.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}function h(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const d=h(o?i.translate:-i.translate),p=s.map((e=>h(e)));let f=s[p.indexOf(d)-1];if("undefined"===typeof f&&r.cssMode){let e;s.forEach(((t,n)=>{d>=t&&(e=n)})),"undefined"!==typeof e&&(f=s[e>0?e-1:e])}let m=0;if("undefined"!==typeof f&&(m=a.indexOf(f),m<0&&(m=i.activeIndex-1),"auto"===r.slidesPerView&&1===r.slidesPerGroup&&r.slidesPerGroupAuto&&(m=m-i.slidesPerViewDynamic("previous",!0)+1,m=Math.max(m,0))),r.rewind&&i.isBeginning){const r=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(r,e,t,n)}return r.loop&&0===i.activeIndex&&r.cssMode?(requestAnimationFrame((()=>{i.slideTo(m,e,t,n)})),!0):i.slideTo(m,e,t,n)},slideReset:function(e,t,n){return void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),this.slideTo(this.activeIndex,e,t,n)},slideToClosest:function(e,t,n,i){void 0===e&&(e=this.params.speed),void 0===t&&(t=!0),void 0===i&&(i=.5);const r=this;let s=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,s),o=a+Math.floor((s-a)/r.params.slidesPerGroup),l=r.rtlTranslate?r.translate:-r.translate;if(l>=r.snapGrid[o]){const e=r.snapGrid[o];l-e>(r.snapGrid[o+1]-e)*i&&(s+=r.params.slidesPerGroup)}else{const e=r.snapGrid[o-1];l-e<=(r.snapGrid[o]-e)*i&&(s-=r.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,r.slidesGrid.length-1),r.slideTo(s,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,slidesEl:n}=e,i="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let r,s=e.clickedIndex;const a=e.isElement?"swiper-slide":".".concat(t.slideClass);if(t.loop){if(e.animating)return;r=parseInt(e.clickedSlide.getAttribute("data-swiper-slide-index"),10),t.centeredSlides?s<e.loopedSlides-i/2||s>e.slides.length-e.loopedSlides+i/2?(e.loopFix(),s=e.getSlideIndex(Pt(n,"".concat(a,'[data-swiper-slide-index="').concat(r,'"]'))[0]),wt((()=>{e.slideTo(s)}))):e.slideTo(s):s>e.slides.length-i?(e.loopFix(),s=e.getSlideIndex(Pt(n,"".concat(a,'[data-swiper-slide-index="').concat(r,'"]'))[0]),wt((()=>{e.slideTo(s)}))):e.slideTo(s)}else e.slideTo(s)}};var Qt={loopCreate:function(e){const t=this,{params:n,slidesEl:i}=t;if(!n.loop||t.virtual&&t.params.virtual.enabled)return;const r=()=>{Pt(i,".".concat(n.slideClass,", swiper-slide")).forEach(((e,t)=>{e.setAttribute("data-swiper-slide-index",t)}))},s=t.grid&&n.grid&&n.grid.rows>1,a=n.slidesPerGroup*(s?n.grid.rows:1),o=t.slides.length%a!==0,l=s&&t.slides.length%n.grid.rows!==0,c=e=>{for(let i=0;i<e;i+=1){const e=t.isElement?Mt("swiper-slide",[n.slideBlankClass]):Mt("div",[n.slideClass,n.slideBlankClass]);t.slidesEl.append(e)}};if(o){if(n.loopAddBlankSlides){c(a-t.slides.length%a),t.recalcSlides(),t.updateSlides()}else Nt("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else if(l){if(n.loopAddBlankSlides){c(n.grid.rows-t.slides.length%n.grid.rows),t.recalcSlides(),t.updateSlides()}else Nt("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");r()}else r();t.loopFix({slideRealIndex:e,direction:n.centeredSlides?void 0:"next"})},loopFix:function(e){let{slideRealIndex:t,slideTo:n=!0,direction:i,setTranslate:r,activeSlideIndex:s,byController:a,byMousewheel:o}=void 0===e?{}:e;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:h,slidesEl:d,params:p}=l,{centeredSlides:f}=p;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&p.virtual.enabled)return n&&(p.centeredSlides||0!==l.snapIndex?p.centeredSlides&&l.snapIndex<p.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0):l.slideTo(l.virtual.slides.length,0,!1,!0)),l.allowSlidePrev=u,l.allowSlideNext=h,void l.emit("loopFix");let m=p.slidesPerView;"auto"===m?m=l.slidesPerViewDynamic():(m=Math.ceil(parseFloat(p.slidesPerView,10)),f&&m%2===0&&(m+=1));const g=p.slidesPerGroupAuto?m:p.slidesPerGroup;let y=g;y%g!==0&&(y+=g-y%g),y+=p.loopAdditionalSlides,l.loopedSlides=y;const v=l.grid&&p.grid&&p.grid.rows>1;c.length<m+y?Nt("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):v&&"row"===p.grid.fill&&Nt("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const _=[],b=[];let x=l.activeIndex;"undefined"===typeof s?s=l.getSlideIndex(c.filter((e=>e.classList.contains(p.slideActiveClass)))[0]):x=s;const w="next"===i||!i,S="prev"===i||!i;let E=0,T=0;const I=v?Math.ceil(c.length/p.grid.rows):c.length,k=(v?c[s].column:s)+(f&&"undefined"===typeof r?-m/2+.5:0);if(k<y){E=Math.max(y-k,g);for(let e=0;e<y-k;e+=1){const t=e-Math.floor(e/I)*I;if(v){const e=I-t-1;for(let t=c.length-1;t>=0;t-=1)c[t].column===e&&_.push(t)}else _.push(I-t-1)}}else if(k+m>I-y){T=Math.max(k-(I-2*y),g);for(let e=0;e<T;e+=1){const t=e-Math.floor(e/I)*I;v?c.forEach(((e,n)=>{e.column===t&&b.push(n)})):b.push(t)}}if(l.__preventObserver__=!0,requestAnimationFrame((()=>{l.__preventObserver__=!1})),S&&_.forEach((e=>{c[e].swiperLoopMoveDOM=!0,d.prepend(c[e]),c[e].swiperLoopMoveDOM=!1})),w&&b.forEach((e=>{c[e].swiperLoopMoveDOM=!0,d.append(c[e]),c[e].swiperLoopMoveDOM=!1})),l.recalcSlides(),"auto"===p.slidesPerView?l.updateSlides():v&&(_.length>0&&S||b.length>0&&w)&&l.slides.forEach(((e,t)=>{l.grid.updateSlide(t,e,l.slides)})),p.watchSlidesProgress&&l.updateSlidesOffset(),n)if(_.length>0&&S){if("undefined"===typeof t){const e=l.slidesGrid[x],t=l.slidesGrid[x+E]-e;o?l.setTranslate(l.translate-t):(l.slideTo(x+E,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else if(r){const e=v?_.length/p.grid.rows:_.length;l.slideTo(l.activeIndex+e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(b.length>0&&w)if("undefined"===typeof t){const e=l.slidesGrid[x],t=l.slidesGrid[x-T]-e;o?l.setTranslate(l.translate-t):(l.slideTo(x-T,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-t,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-t))}else{const e=v?b.length/p.grid.rows:b.length;l.slideTo(l.activeIndex-e,0,!1,!0)}if(l.allowSlidePrev=u,l.allowSlideNext=h,l.controller&&l.controller.control&&!a){const e={slideRealIndex:t,direction:i,setTranslate:r,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach((t=>{!t.destroyed&&t.params.loop&&t.loopFix({...e,slideTo:t.params.slidesPerView===p.slidesPerView&&n})})):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...e,slideTo:l.controller.control.params.slidesPerView===p.slidesPerView&&n})}l.emit("loopFix")},loopDestroy:function(){const e=this,{params:t,slidesEl:n}=e;if(!t.loop||e.virtual&&e.params.virtual.enabled)return;e.recalcSlides();const i=[];e.slides.forEach((e=>{const t="undefined"===typeof e.swiperSlideIndex?1*e.getAttribute("data-swiper-slide-index"):e.swiperSlideIndex;i[t]=e})),e.slides.forEach((e=>{e.removeAttribute("data-swiper-slide-index")})),i.forEach((e=>{n.append(e)})),e.recalcSlides(),e.slideTo(e.realIndex,0)}};var Jt={setGrabCursor:function(e){const t=this;if(!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;t.isElement&&(t.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=e?"grabbing":"grab",t.isElement&&requestAnimationFrame((()=>{t.__preventObserver__=!1}))},unsetGrabCursor:function(){const e=this;e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e.isElement&&(e.__preventObserver__=!0),e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="",e.isElement&&requestAnimationFrame((()=>{e.__preventObserver__=!1})))}};function $t(e,t,n){const i=xt(),{params:r}=e,s=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return!s||!(n<=a||n>=i.innerWidth-a)||"prevent"===s&&(t.preventDefault(),!0)}function en(e){const t=this,n=_t();let i=e;i.originalEvent&&(i=i.originalEvent);const r=t.touchEventsData;if("pointerdown"===i.type){if(null!==r.pointerId&&r.pointerId!==i.pointerId)return;r.pointerId=i.pointerId}else"touchstart"===i.type&&1===i.targetTouches.length&&(r.touchId=i.targetTouches[0].identifier);if("touchstart"===i.type)return void $t(t,i,i.targetTouches[0].pageX);const{params:s,touches:a,enabled:o}=t;if(!o)return;if(!s.simulateTouch&&"mouse"===i.pointerType)return;if(t.animating&&s.preventInteractionOnTransition)return;!t.animating&&s.cssMode&&s.loop&&t.loopFix();let l=i.target;if("wrapper"===s.touchEventsTarget&&!t.wrapperEl.contains(l))return;if("which"in i&&3===i.which)return;if("button"in i&&i.button>0)return;if(r.isTouched&&r.isMoved)return;const c=!!s.noSwipingClass&&""!==s.noSwipingClass,u=i.composedPath?i.composedPath():i.path;c&&i.target&&i.target.shadowRoot&&u&&(l=u[0]);const h=s.noSwipingSelector?s.noSwipingSelector:".".concat(s.noSwipingClass),d=!(!i.target||!i.target.shadowRoot);if(s.noSwiping&&(d?function(e,t){return void 0===t&&(t=this),function t(n){if(!n||n===_t()||n===xt())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(e);return i||n.getRootNode?i||t(n.getRootNode().host):null}(t)}(h,l):l.closest(h)))return void(t.allowClick=!0);if(s.swipeHandler&&!l.closest(s.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const p=a.currentX,f=a.currentY;if(!$t(t,i,p))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=p,a.startY=f,r.touchStartTime=St(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,s.threshold>0&&(r.allowThresholdMove=!1);let m=!0;l.matches(r.focusableElements)&&(m=!1,"SELECT"===l.nodeName&&(r.isTouched=!1)),n.activeElement&&n.activeElement.matches(r.focusableElements)&&n.activeElement!==l&&n.activeElement.blur();const g=m&&t.allowTouchMove&&s.touchStartPreventDefault;!s.touchStartForcePreventDefault&&!g||l.isContentEditable||i.preventDefault(),s.freeMode&&s.freeMode.enabled&&t.freeMode&&t.animating&&!s.cssMode&&t.freeMode.onTouchStart(),t.emit("touchStart",i)}function tn(e){const t=_t(),n=this,i=n.touchEventsData,{params:r,touches:s,rtlTranslate:a,enabled:o}=n;if(!o)return;if(!r.simulateTouch&&"mouse"===e.pointerType)return;let l,c=e;if(c.originalEvent&&(c=c.originalEvent),"pointermove"===c.type){if(null!==i.touchId)return;if(c.pointerId!==i.pointerId)return}if("touchmove"===c.type){if(l=[...c.changedTouches].filter((e=>e.identifier===i.touchId))[0],!l||l.identifier!==i.touchId)return}else l=c;if(!i.isTouched)return void(i.startMoving&&i.isScrolling&&n.emit("touchMoveOpposite",c));const u=l.pageX,h=l.pageY;if(c.preventedByNestedSwiper)return s.startX=u,void(s.startY=h);if(!n.allowTouchMove)return c.target.matches(i.focusableElements)||(n.allowClick=!1),void(i.isTouched&&(Object.assign(s,{startX:u,startY:h,currentX:u,currentY:h}),i.touchStartTime=St()));if(r.touchReleaseOnEdges&&!r.loop)if(n.isVertical()){if(h<s.startY&&n.translate<=n.maxTranslate()||h>s.startY&&n.translate>=n.minTranslate())return i.isTouched=!1,void(i.isMoved=!1)}else if(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate())return;if(t.activeElement&&c.target===t.activeElement&&c.target.matches(i.focusableElements))return i.isMoved=!0,void(n.allowClick=!1);i.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=h;const d=s.currentX-s.startX,p=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(d**2+p**2)<n.params.threshold)return;if("undefined"===typeof i.isScrolling){let e;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:d*d+p*p>=25&&(e=180*Math.atan2(Math.abs(p),Math.abs(d))/Math.PI,i.isScrolling=n.isHorizontal()?e>r.touchAngle:90-e>r.touchAngle)}if(i.isScrolling&&n.emit("touchMoveOpposite",c),"undefined"===typeof i.startMoving&&(s.currentX===s.startX&&s.currentY===s.startY||(i.startMoving=!0)),i.isScrolling)return void(i.isTouched=!1);if(!i.startMoving)return;n.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let f=n.isHorizontal()?d:p,m=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;r.oneWayMovement&&(f=Math.abs(f)*(a?1:-1),m=Math.abs(m)*(a?1:-1)),s.diff=f,f*=r.touchRatio,a&&(f=-f,m=-m);const g=n.touchesDirection;n.swipeDirection=f>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const y=n.params.loop&&!r.cssMode,v="next"===n.touchesDirection&&n.allowSlideNext||"prev"===n.touchesDirection&&n.allowSlidePrev;if(!i.isMoved){if(y&&v&&n.loopFix({direction:n.swipeDirection}),i.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const e=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});n.wrapperEl.dispatchEvent(e)}i.allowMomentumBounce=!1,!r.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}if((new Date).getTime(),i.isMoved&&i.allowThresholdMove&&g!==n.touchesDirection&&y&&v&&Math.abs(f)>=1)return Object.assign(s,{startX:u,startY:h,currentX:u,currentY:h,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,void(i.startTranslate=i.currentTranslate);n.emit("sliderMove",c),i.isMoved=!0,i.currentTranslate=f+i.startTranslate;let _=!0,b=r.resistanceRatio;if(r.touchReleaseOnEdges&&(b=0),f>0?(y&&v&&i.allowThresholdMove&&i.currentTranslate>(r.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>n.minTranslate()&&(_=!1,r.resistance&&(i.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+i.startTranslate+f)**b))):f<0&&(y&&v&&i.allowThresholdMove&&i.currentTranslate<(r.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-("auto"===r.slidesPerView?n.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),i.currentTranslate<n.maxTranslate()&&(_=!1,r.resistance&&(i.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-i.startTranslate-f)**b))),_&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),n.allowSlidePrev||n.allowSlideNext||(i.currentTranslate=i.startTranslate),r.threshold>0){if(!(Math.abs(f)>r.threshold||i.allowThresholdMove))return void(i.currentTranslate=i.startTranslate);if(!i.allowThresholdMove)return i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,void(s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY)}r.followFinger&&!r.cssMode&&((r.freeMode&&r.freeMode.enabled&&n.freeMode||r.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(i.currentTranslate),n.setTranslate(i.currentTranslate))}function nn(e){const t=this,n=t.touchEventsData;let i,r=e;r.originalEvent&&(r=r.originalEvent);if("touchend"===r.type||"touchcancel"===r.type){if(i=[...r.changedTouches].filter((e=>e.identifier===n.touchId))[0],!i||i.identifier!==n.touchId)return}else{if(null!==n.touchId)return;if(r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)){if(!(["pointercancel","contextmenu"].includes(r.type)&&(t.browser.isSafari||t.browser.isWebView)))return}n.pointerId=null,n.touchId=null;const{params:s,touches:a,rtlTranslate:o,slidesGrid:l,enabled:c}=t;if(!c)return;if(!s.simulateTouch&&"mouse"===r.pointerType)return;if(n.allowTouchCallbacks&&t.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&s.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);s.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const u=St(),h=u-n.touchStartTime;if(t.allowClick){const e=r.path||r.composedPath&&r.composedPath();t.updateClickedSlide(e&&e[0]||r.target,e),t.emit("tap click",r),h<300&&u-n.lastClickTime<300&&t.emit("doubleTap doubleClick",r)}if(n.lastClickTime=St(),wt((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===a.diff&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=s.followFinger?o?t.translate:-t.translate:-n.currentTranslate,s.cssMode)return;if(s.freeMode&&s.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});const p=d>=-t.maxTranslate()&&!t.params.loop;let f=0,m=t.slidesSizesGrid[0];for(let b=0;b<l.length;b+=b<s.slidesPerGroupSkip?1:s.slidesPerGroup){const e=b<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;"undefined"!==typeof l[b+e]?(p||d>=l[b]&&d<l[b+e])&&(f=b,m=l[b+e]-l[b]):(p||d>=l[b])&&(f=b,m=l[l.length-1]-l[l.length-2])}let g=null,y=null;s.rewind&&(t.isBeginning?y=s.virtual&&s.virtual.enabled&&t.virtual?t.virtual.slides.length-1:t.slides.length-1:t.isEnd&&(g=0));const v=(d-l[f])/m,_=f<s.slidesPerGroupSkip-1?1:s.slidesPerGroup;if(h>s.longSwipesMs){if(!s.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(v>=s.longSwipesRatio?t.slideTo(s.rewind&&t.isEnd?g:f+_):t.slideTo(f)),"prev"===t.swipeDirection&&(v>1-s.longSwipesRatio?t.slideTo(f+_):null!==y&&v<0&&Math.abs(v)>s.longSwipesRatio?t.slideTo(y):t.slideTo(f))}else{if(!s.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(r.target===t.navigation.nextEl||r.target===t.navigation.prevEl)?r.target===t.navigation.nextEl?t.slideTo(f+_):t.slideTo(f):("next"===t.swipeDirection&&t.slideTo(null!==g?g:f+_),"prev"===t.swipeDirection&&t.slideTo(null!==y?y:f))}}function rn(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:r,snapGrid:s}=e,a=e.virtual&&e.params.virtual.enabled;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses();const o=a&&t.loop;!("auto"===t.slidesPerView||t.slidesPerView>1)||!e.isEnd||e.isBeginning||e.params.centeredSlides||o?e.params.loop&&!a?e.slideToLoop(e.realIndex,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0):e.slideTo(e.slides.length-1,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&(clearTimeout(e.autoplay.resizeTimeout),e.autoplay.resizeTimeout=setTimeout((()=>{e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.resume()}),500)),e.allowSlidePrev=r,e.allowSlideNext=i,e.params.watchOverflow&&s!==e.snapGrid&&e.checkOverflow()}function sn(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function an(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:i}=e;if(!i)return;let r;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const s=e.maxTranslate()-e.minTranslate();r=0===s?0:(e.translate-e.minTranslate())/s,r!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}function on(e){const t=this;qt(t,e.target),t.params.cssMode||"auto"!==t.params.slidesPerView&&!t.params.autoHeight||t.update()}function ln(){const e=this;e.documentTouchHandlerProceeded||(e.documentTouchHandlerProceeded=!0,e.params.touchReleaseOnEdges&&(e.el.style.touchAction="auto"))}const cn=(e,t)=>{const n=_t(),{params:i,el:r,wrapperEl:s,device:a}=e,o=!!i.nested,l="on"===t?"addEventListener":"removeEventListener",c=t;n[l]("touchstart",e.onDocumentTouchStart,{passive:!1,capture:o}),r[l]("touchstart",e.onTouchStart,{passive:!1}),r[l]("pointerdown",e.onTouchStart,{passive:!1}),n[l]("touchmove",e.onTouchMove,{passive:!1,capture:o}),n[l]("pointermove",e.onTouchMove,{passive:!1,capture:o}),n[l]("touchend",e.onTouchEnd,{passive:!0}),n[l]("pointerup",e.onTouchEnd,{passive:!0}),n[l]("pointercancel",e.onTouchEnd,{passive:!0}),n[l]("touchcancel",e.onTouchEnd,{passive:!0}),n[l]("pointerout",e.onTouchEnd,{passive:!0}),n[l]("pointerleave",e.onTouchEnd,{passive:!0}),n[l]("contextmenu",e.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&r[l]("click",e.onClick,!0),i.cssMode&&s[l]("scroll",e.onScroll),i.updateOnWindowResize?e[c](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",rn,!0):e[c]("observerUpdate",rn,!0),r[l]("load",e.onLoad,{capture:!0})};var un={attachEvents:function(){const e=this,{params:t}=e;e.onTouchStart=en.bind(e),e.onTouchMove=tn.bind(e),e.onTouchEnd=nn.bind(e),e.onDocumentTouchStart=ln.bind(e),t.cssMode&&(e.onScroll=an.bind(e)),e.onClick=sn.bind(e),e.onLoad=on.bind(e),cn(e,"on")},detachEvents:function(){cn(this,"off")}};const hn=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;var dn={setBreakpoint:function(){const e=this,{realIndex:t,initialized:n,params:i,el:r}=e,s=i.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const o=(a in s?s[a]:void 0)||e.originalParams,l=hn(e,i),c=hn(e,o),u=i.enabled;l&&!c?(r.classList.remove("".concat(i.containerModifierClass,"grid"),"".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()):!l&&c&&(r.classList.add("".concat(i.containerModifierClass,"grid")),(o.grid.fill&&"column"===o.grid.fill||!o.grid.fill&&"column"===i.grid.fill)&&r.classList.add("".concat(i.containerModifierClass,"grid-column")),e.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach((t=>{if("undefined"===typeof o[t])return;const n=i[t]&&i[t].enabled,r=o[t]&&o[t].enabled;n&&!r&&e[t].disable(),!n&&r&&e[t].enable()}));const h=o.direction&&o.direction!==i.direction,d=i.loop&&(o.slidesPerView!==i.slidesPerView||h),p=i.loop;h&&n&&e.changeDirection(),kt(e.params,o);const f=e.params.enabled,m=e.params.loop;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),u&&!f?e.disable():!u&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",o),n&&(d?(e.loopDestroy(),e.loopCreate(t),e.updateSlides()):!p&&m?(e.loopCreate(t),e.updateSlides()):p&&!m&&e.loopDestroy()),e.emit("breakpoint",o)},getBreakpoint:function(e,t,n){if(void 0===t&&(t="window"),!e||"container"===t&&!n)return;let i=!1;const r=xt(),s="window"===t?r.innerHeight:n.clientHeight,a=Object.keys(e).map((e=>{if("string"===typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:s*t,point:e}}return{value:e,point:e}}));a.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let o=0;o<a.length;o+=1){const{point:e,value:s}=a[o];"window"===t?r.matchMedia("(min-width: ".concat(s,"px)")).matches&&(i=e):s<=n.clientWidth&&(i=e)}return i||"max"}};var pn={addClasses:function(){const e=this,{classNames:t,params:n,rtl:i,el:r,device:s}=e,a=function(e,t){const n=[];return e.forEach((e=>{"object"===typeof e?Object.keys(e).forEach((i=>{e[i]&&n.push(t+i)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:i},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);t.push(...a),r.classList.add(...t),e.emitContainerClasses()},removeClasses:function(){const{el:e,classNames:t}=this;e.classList.remove(...t),this.emitContainerClasses()}};var fn={checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:i}=n;if(i){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*i;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},mn={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function gn(e,t){return function(n){void 0===n&&(n={});const i=Object.keys(n)[0],r=n[i];"object"===typeof r&&null!==r?(!0===e[i]&&(e[i]={enabled:!0}),"navigation"===i&&e[i]&&e[i].enabled&&!e[i].prevEl&&!e[i].nextEl&&(e[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&e[i]&&e[i].enabled&&!e[i].el&&(e[i].auto=!0),i in e&&"enabled"in r?("object"!==typeof e[i]||"enabled"in e[i]||(e[i].enabled=!0),e[i]||(e[i]={enabled:!1}),kt(t,n)):kt(t,n)):kt(t,n)}}const yn={eventsEmitter:Ut,update:Wt,translate:Kt,transition:Zt,slide:Xt,loop:Qt,grabCursor:Jt,events:un,breakpoints:dn,checkOverflow:fn,classes:pn},vn={};class _n{constructor(){let e,t;for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];1===i.length&&i[0].constructor&&"Object"===Object.prototype.toString.call(i[0]).slice(8,-1)?t=i[0]:[e,t]=i,t||(t={}),t=kt({},t),e&&!t.el&&(t.el=e);const s=_t();if(t.el&&"string"===typeof t.el&&s.querySelectorAll(t.el).length>1){const e=[];return s.querySelectorAll(t.el).forEach((n=>{const i=kt({},t,{el:n});e.push(new _n(i))})),e}const a=this;a.__swiper__=!0,a.support=Ft(),a.device=Bt({userAgent:t.userAgent}),a.browser=Vt(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],t.modules&&Array.isArray(t.modules)&&a.modules.push(...t.modules);const o={};a.modules.forEach((e=>{e({params:t,swiper:a,extendParams:gn(t,o),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})}));const l=kt({},mn,o);return a.params=kt({},l,vn,t),a.originalParams=kt({},a.params),a.passedParams=kt({},t),a.params&&a.params.on&&Object.keys(a.params.on).forEach((e=>{a.on(e,a.params.on[e])})),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===a.params.direction,isVertical:()=>"vertical"===a.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:n}=this,i=Ot(Pt(t,".".concat(n.slideClass,", swiper-slide"))[0]);return Ot(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter((t=>1*t.getAttribute("data-swiper-slide-index")===e))[0])}recalcSlides(){const{slidesEl:e,params:t}=this;this.slides=Pt(e,".".concat(t.slideClass,", swiper-slide"))}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),r=(n.maxTranslate()-i)*e+i;n.translateTo(r,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach((n=>{const i=e.getSlideClasses(n);t.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(e,t){void 0===e&&(e="current"),void 0===t&&(t=!1);const{params:n,slides:i,slidesGrid:r,slidesSizesGrid:s,size:a,activeIndex:o}=this;let l=1;if("number"===typeof n.slidesPerView)return n.slidesPerView;if(n.centeredSlides){let e,t=i[o]?i[o].swiperSlideSize:0;for(let n=o+1;n<i.length;n+=1)i[n]&&!e&&(t+=i[n].swiperSlideSize,l+=1,t>a&&(e=!0));for(let n=o-1;n>=0;n-=1)i[n]&&!e&&(t+=i[n].swiperSlideSize,l+=1,t>a&&(e=!0))}else if("current"===e)for(let c=o+1;c<i.length;c+=1){(t?r[c]+s[c]-r[o]<a:r[c]-r[o]<a)&&(l+=1)}else for(let c=o-1;c>=0;c-=1){r[o]-r[c]<a&&(l+=1)}return l}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function i(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach((t=>{t.complete&&qt(e,t)})),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if(("auto"===n.slidesPerView||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const t=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(t.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t){void 0===t&&(t=!0);const n=this,i=n.params.direction;return e||(e="horizontal"===i?"vertical":"horizontal"),e===i||"horizontal"!==e&&"vertical"!==e||(n.el.classList.remove("".concat(n.params.containerModifierClass).concat(i)),n.el.classList.add("".concat(n.params.containerModifierClass).concat(e)),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}changeLanguageDirection(e){const t=this;t.rtl&&"rtl"===e||!t.rtl&&"ltr"===e||(t.rtl="rtl"===e,t.rtlTranslate="horizontal"===t.params.direction&&t.rtl,t.rtl?(t.el.classList.add("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="rtl"):(t.el.classList.remove("".concat(t.params.containerModifierClass,"rtl")),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let n=e||t.params.el;if("string"===typeof n&&(n=document.querySelector(n)),!n)return!1;n.swiper=t,n.parentNode&&n.parentNode.host&&"SWIPER-CONTAINER"===n.parentNode.host.nodeName&&(t.isElement=!0);const i=()=>".".concat((t.params.wrapperClass||"").trim().split(" ").join("."));let r=(()=>{if(n&&n.shadowRoot&&n.shadowRoot.querySelector){return n.shadowRoot.querySelector(i())}return Pt(n,i())[0]})();return!r&&t.params.createElements&&(r=Mt("div",t.params.wrapperClass),n.append(r),Pt(n,".".concat(t.params.slideClass)).forEach((e=>{r.append(e)}))),Object.assign(t,{el:n,wrapperEl:r,slidesEl:t.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:r,hostEl:t.isElement?n.parentNode.host:n,mounted:!0,rtl:"rtl"===n.dir.toLowerCase()||"rtl"===Rt(n,"direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===n.dir.toLowerCase()||"rtl"===Rt(n,"direction")),wrongRTL:"-webkit-box"===Rt(r,"display")}),!0}init(e){const t=this;if(t.initialized)return t;if(!1===t.mount(e))return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach((e=>{e.complete?qt(t,e):e.addEventListener("load",(e=>{qt(t,e.target)}))})),Gt(t),t.initialized=!0,Gt(t),t.emit("init"),t.emit("afterInit"),t}destroy(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0);const n=this,{params:i,el:r,wrapperEl:s,slides:a}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),t&&(n.removeClasses(),r.removeAttribute("style"),s.removeAttribute("style"),a&&a.length&&a.forEach((e=>{e.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),e.removeAttribute("style"),e.removeAttribute("data-swiper-slide-index")}))),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.el.swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){kt(vn,e)}static get extendedDefaults(){return vn}static get defaults(){return mn}static installModule(e){_n.prototype.__modules__||(_n.prototype.__modules__=[]);const t=_n.prototype.__modules__;"function"===typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>_n.installModule(e))),_n):(_n.installModule(e),_n)}}Object.keys(yn).forEach((e=>{Object.keys(yn[e]).forEach((t=>{_n.prototype[t]=yn[e][t]}))})),_n.use([function(e){let{swiper:t,on:n,emit:i}=e;const r=xt();let s=null,a=null;const o=()=>{t&&!t.destroyed&&t.initialized&&(i("beforeResize"),i("resize"))},l=()=>{t&&!t.destroyed&&t.initialized&&i("orientationchange")};n("init",(()=>{t.params.resizeObserver&&"undefined"!==typeof r.ResizeObserver?t&&!t.destroyed&&t.initialized&&(s=new ResizeObserver((e=>{a=r.requestAnimationFrame((()=>{const{width:n,height:i}=t;let r=n,s=i;e.forEach((e=>{let{contentBoxSize:n,contentRect:i,target:a}=e;a&&a!==t.el||(r=i?i.width:(n[0]||n).inlineSize,s=i?i.height:(n[0]||n).blockSize)})),r===n&&s===i||o()}))})),s.observe(t.el)):(r.addEventListener("resize",o),r.addEventListener("orientationchange",l))})),n("destroy",(()=>{a&&r.cancelAnimationFrame(a),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",l)}))},function(e){let{swiper:t,extendParams:n,on:i,emit:r}=e;const s=[],a=xt(),o=function(e,n){void 0===n&&(n={});const i=new(a.MutationObserver||a.WebkitMutationObserver)((e=>{if(t.__preventObserver__)return;if(1===e.length)return void r("observerUpdate",e[0]);const n=function(){r("observerUpdate",e[0])};a.requestAnimationFrame?a.requestAnimationFrame(n):a.setTimeout(n,0)}));i.observe(e,{attributes:"undefined"===typeof n.attributes||n.attributes,childList:"undefined"===typeof n.childList||n.childList,characterData:"undefined"===typeof n.characterData||n.characterData}),s.push(i)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),i("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=function(e,t){const n=[];let i=e.parentElement;for(;i;)t?i.matches(t)&&n.push(i):n.push(i),i=i.parentElement;return n}(t.hostEl);for(let t=0;t<e.length;t+=1)o(e[t])}o(t.hostEl,{childList:t.params.observeSlideChildren}),o(t.wrapperEl,{attributes:!1})}})),i("destroy",(()=>{s.forEach((e=>{e.disconnect()})),s.splice(0,s.length)}))}]);const bn=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function xn(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)&&!e.__swiper__}function wn(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:xn(t[n])&&xn(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:wn(e[n],t[n]):e[n]=t[n]}))}function Sn(e){return void 0===e&&(e={}),e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function En(e){return void 0===e&&(e={}),e.pagination&&"undefined"===typeof e.pagination.el}function Tn(e){return void 0===e&&(e={}),e.scrollbar&&"undefined"===typeof e.scrollbar.el}function In(e){void 0===e&&(e="");const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}function kn(e){return void 0===e&&(e=""),e?e.includes("swiper-wrapper")?e:"swiper-wrapper ".concat(e):"swiper-wrapper"}function Cn(){return Cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Cn.apply(this,arguments)}function An(e){return e.type&&e.type.displayName&&e.type.displayName.includes("SwiperSlide")}function Pn(e){const n=[];return t.Children.toArray(e).forEach((e=>{An(e)?n.push(e):e.props&&e.props.children&&Pn(e.props.children).forEach((e=>n.push(e)))})),n}function Nn(e){const n=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return t.Children.toArray(e).forEach((e=>{if(An(e))n.push(e);else if(e.props&&e.props.slot&&i[e.props.slot])i[e.props.slot].push(e);else if(e.props&&e.props.children){const t=Pn(e.props.children);t.length>0?t.forEach((e=>n.push(e))):i["container-end"].push(e)}else i["container-end"].push(e)})),{slides:n,slots:i}}function Mn(e,n){return"undefined"===typeof window?(0,t.useEffect)(e,n):(0,t.useLayoutEffect)(e,n)}const Rn=(0,t.createContext)(null),On=(0,t.createContext)(null),Dn=(0,t.forwardRef)((function(e,n){let{className:i,tag:r="div",wrapperTag:s="div",children:a,onSwiper:o,...l}=void 0===e?{}:e,c=!1;const[u,h]=(0,t.useState)("swiper"),[d,p]=(0,t.useState)(null),[f,m]=(0,t.useState)(!1),g=(0,t.useRef)(!1),y=(0,t.useRef)(null),v=(0,t.useRef)(null),_=(0,t.useRef)(null),b=(0,t.useRef)(null),x=(0,t.useRef)(null),w=(0,t.useRef)(null),S=(0,t.useRef)(null),E=(0,t.useRef)(null),{params:T,passedParams:I,rest:k,events:C}=function(e,t){void 0===e&&(e={}),void 0===t&&(t=!0);const n={on:{}},i={},r={};wn(n,mn),n._emitClasses=!0,n.init=!1;const s={},a=bn.map((e=>e.replace(/_/,""))),o=Object.assign({},e);return Object.keys(o).forEach((o=>{"undefined"!==typeof e[o]&&(a.indexOf(o)>=0?xn(e[o])?(n[o]={},r[o]={},wn(n[o],e[o]),wn(r[o],e[o])):(n[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?t?i["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:n.on["".concat(o[2].toLowerCase()).concat(o.substr(3))]=e[o]:s[o]=e[o])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===n[e]&&(n[e]={}),!1===n[e]&&delete n[e]})),{params:n,passedParams:r,rest:s,events:i}}(l),{slides:A,slots:P}=Nn(a),N=()=>{m(!f)};Object.assign(T.on,{_containerClasses(e,t){h(t)}});const M=()=>{Object.assign(T.on,C),c=!0;const e={...T};if(delete e.wrapperClass,v.current=new _n(e),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=A;const e={cache:!1,slides:A,renderExternal:p,renderExternalUpdate:!1};wn(v.current.params.virtual,e),wn(v.current.originalParams.virtual,e)}};y.current||M(),v.current&&v.current.on("_beforeBreakpoint",N);return(0,t.useEffect)((()=>()=>{v.current&&v.current.off("_beforeBreakpoint",N)})),(0,t.useEffect)((()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)})),Mn((()=>{if(n&&(n.current=y.current),y.current)return v.current.destroyed&&M(),function(e,t){let{el:n,nextEl:i,prevEl:r,paginationEl:s,scrollbarEl:a,swiper:o}=e;Sn(t)&&i&&r&&(o.params.navigation.nextEl=i,o.originalParams.navigation.nextEl=i,o.params.navigation.prevEl=r,o.originalParams.navigation.prevEl=r),En(t)&&s&&(o.params.pagination.el=s,o.originalParams.pagination.el=s),Tn(t)&&a&&(o.params.scrollbar.el=a,o.originalParams.scrollbar.el=a),o.init(n)}({el:y.current,nextEl:x.current,prevEl:w.current,paginationEl:S.current,scrollbarEl:E.current,swiper:v.current},T),o&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}}),[]),Mn((()=>{!c&&C&&v.current&&Object.keys(C).forEach((e=>{v.current.on(e,C[e])}));const e=function(e,t,n,i,r){const s=[];if(!t)return s;const a=e=>{s.indexOf(e)<0&&s.push(e)};if(n&&i){const e=i.map(r),t=n.map(r);e.join("")!==t.join("")&&a("children"),i.length!==n.length&&a("children")}return bn.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(xn(e[n])&&xn(t[n])){const i=Object.keys(e[n]),r=Object.keys(t[n]);i.length!==r.length?a(n):(i.forEach((i=>{e[n][i]!==t[n][i]&&a(n)})),r.forEach((i=>{e[n][i]!==t[n][i]&&a(n)})))}else e[n]!==t[n]&&a(n)})),s}(I,_.current,A,b.current,(e=>e.key));return _.current=I,b.current=A,e.length&&v.current&&!v.current.destroyed&&function(e){let{swiper:t,slides:n,passedParams:i,changedParams:r,nextEl:s,prevEl:a,scrollbarEl:o,paginationEl:l}=e;const c=r.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:u,pagination:h,navigation:d,scrollbar:p,virtual:f,thumbs:m}=t;let g,y,v,_,b,x,w,S;r.includes("thumbs")&&i.thumbs&&i.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),r.includes("controller")&&i.controller&&i.controller.control&&u.controller&&!u.controller.control&&(y=!0),r.includes("pagination")&&i.pagination&&(i.pagination.el||l)&&(u.pagination||!1===u.pagination)&&h&&!h.el&&(v=!0),r.includes("scrollbar")&&i.scrollbar&&(i.scrollbar.el||o)&&(u.scrollbar||!1===u.scrollbar)&&p&&!p.el&&(_=!0),r.includes("navigation")&&i.navigation&&(i.navigation.prevEl||a)&&(i.navigation.nextEl||s)&&(u.navigation||!1===u.navigation)&&d&&!d.prevEl&&!d.nextEl&&(b=!0);const E=e=>{t[e]&&(t[e].destroy(),"navigation"===e?(t.isElement&&(t[e].prevEl.remove(),t[e].nextEl.remove()),u[e].prevEl=void 0,u[e].nextEl=void 0,t[e].prevEl=void 0,t[e].nextEl=void 0):(t.isElement&&t[e].el.remove(),u[e].el=void 0,t[e].el=void 0))};r.includes("loop")&&t.isElement&&(u.loop&&!i.loop?x=!0:!u.loop&&i.loop?w=!0:S=!0),c.forEach((e=>{if(xn(u[e])&&xn(i[e]))Object.assign(u[e],i[e]),"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e||!("enabled"in i[e])||i[e].enabled||E(e);else{const t=i[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?u[e]=i[e]:!1===t&&E(e)}})),c.includes("controller")&&!y&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&n&&f&&u.virtual.enabled?(f.slides=n,f.update(!0)):r.includes("virtual")&&f&&u.virtual.enabled&&(n&&(f.slides=n),f.update(!0)),r.includes("children")&&n&&u.loop&&(S=!0),g&&m.init()&&m.update(!0);y&&(t.controller.control=u.controller.control),v&&(!t.isElement||l&&"string"!==typeof l||(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),t.el.appendChild(l)),l&&(u.pagination.el=l),h.init(),h.render(),h.update()),_&&(!t.isElement||o&&"string"!==typeof o||(o=document.createElement("div"),o.classList.add("swiper-scrollbar"),o.part.add("scrollbar"),t.el.appendChild(o)),o&&(u.scrollbar.el=o),p.init(),p.updateSize(),p.setTranslate()),b&&(t.isElement&&(s&&"string"!==typeof s||(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=t.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),t.el.appendChild(s)),a&&"string"!==typeof a||(a=document.createElement("div"),a.classList.add("swiper-button-prev"),a.innerHTML=t.hostEl.constructor.prevButtonSvg,a.part.add("button-prev"),t.el.appendChild(a))),s&&(u.navigation.nextEl=s),a&&(u.navigation.prevEl=a),d.init(),d.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=i.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=i.allowSlidePrev),r.includes("direction")&&t.changeDirection(i.direction,!1),(x||S)&&t.loopDestroy(),(w||S)&&t.loopCreate(),t.update()}({swiper:v.current,slides:A,passedParams:I,changedParams:e,nextEl:x.current,prevEl:w.current,scrollbarEl:E.current,paginationEl:S.current}),()=>{C&&v.current&&Object.keys(C).forEach((e=>{v.current.off(e,C[e])}))}})),Mn((()=>{(e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())})(v.current)}),[d]),t.createElement(r,Cn({ref:y,className:In("".concat(u).concat(i?" ".concat(i):""))},k),t.createElement(On.Provider,{value:v.current},P["container-start"],t.createElement(s,{className:kn(T.wrapperClass)},P["wrapper-start"],T.virtual?function(e,n,i){if(!i)return null;const r=e=>{let t=e;return e<0?t=n.length+e:t>=n.length&&(t-=n.length),t},s=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:"".concat(i.offset,"px")}:{top:"".concat(i.offset,"px")},{from:a,to:o}=i,l=e.params.loop?-n.length:0,c=e.params.loop?2*n.length:n.length,u=[];for(let t=l;t<c;t+=1)t>=a&&t<=o&&u.push(n[r(t)]);return u.map(((n,i)=>t.cloneElement(n,{swiper:e,style:s,key:"slide-".concat(i)})))}(v.current,A,d):A.map(((e,n)=>t.cloneElement(e,{swiper:v.current,swiperSlideIndex:n}))),P["wrapper-end"]),Sn(T)&&t.createElement(t.Fragment,null,t.createElement("div",{ref:w,className:"swiper-button-prev"}),t.createElement("div",{ref:x,className:"swiper-button-next"})),Tn(T)&&t.createElement("div",{ref:E,className:"swiper-scrollbar"}),En(T)&&t.createElement("div",{ref:S,className:"swiper-pagination"}),P["container-end"]))}));Dn.displayName="Swiper";const Ln=(0,t.forwardRef)((function(e,n){let{tag:i="div",children:r,className:s="",swiper:a,zoom:o,lazy:l,virtualIndex:c,swiperSlideIndex:u,...h}=void 0===e?{}:e;const d=(0,t.useRef)(null),[p,f]=(0,t.useState)("swiper-slide"),[m,g]=(0,t.useState)(!1);function y(e,t,n){t===d.current&&f(n)}Mn((()=>{if("undefined"!==typeof u&&(d.current.swiperSlideIndex=u),n&&(n.current=d.current),d.current&&a){if(!a.destroyed)return a.on("_slideClass",y),()=>{a&&a.off("_slideClass",y)};"swiper-slide"!==p&&f("swiper-slide")}})),Mn((()=>{a&&d.current&&!a.destroyed&&f(a.getSlideClasses(d.current))}),[a]);const v={isActive:p.indexOf("swiper-slide-active")>=0,isVisible:p.indexOf("swiper-slide-visible")>=0,isPrev:p.indexOf("swiper-slide-prev")>=0,isNext:p.indexOf("swiper-slide-next")>=0},_=()=>"function"===typeof r?r(v):r;return t.createElement(i,Cn({ref:d,className:In("".concat(p).concat(s?" ".concat(s):"")),"data-swiper-slide-index":c,onLoad:()=>{g(!0)}},h),o&&t.createElement(Rn.Provider,{value:v},t.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof o?o:void 0},_(),l&&!m&&t.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&t.createElement(Rn.Provider,{value:v},_(),l&&!m&&t.createElement("div",{className:"swiper-lazy-preloader"})))}));Ln.displayName="SwiperSlide";const zn=()=>{const[e,n]=(0,t.useState)("first");return(0,Ge.jsxs)("div",{className:"hero",children:[(0,Ge.jsxs)("div",{className:"herosec1",children:[(0,Ge.jsxs)("div",{className:"herostart",children:[(0,Ge.jsxs)("div",{className:"herotext",children:[(0,Ge.jsx)("p",{children:"We are helping thousands of families in finding their perfect"}),(0,Ge.jsx)("h4",{children:"WEYZERO"}),(0,Ge.jsxs)("div",{className:"herobtn",children:[(0,Ge.jsx)("button",{className:"btnhe btnre",children:"Register"}),(0,Ge.jsx)("button",{className:"btnhe btnse",children:"Search Serategna"})]})]}),(0,Ge.jsx)("div",{className:"heroimage",children:(0,Ge.jsx)("img",{src:Qe,alt:""})})]}),(0,Ge.jsxs)("div",{className:"herolast",children:[(0,Ge.jsxs)("div",{className:"conHero1 ",children:[(0,Ge.jsx)("div",{className:"iconheroo",children:(0,Ge.jsx)(Je,{className:"iconheros"})}),(0,Ge.jsxs)("div",{className:"icontext",children:[(0,Ge.jsx)("h2",{children:"Safe Hire"}),(0,Ge.jsx)("p",{children:"Hire Safe Only Emebet-Verified Workers"})]})]}),(0,Ge.jsxs)("div",{className:"conHero1",children:[(0,Ge.jsx)("div",{className:"iconheroo",children:(0,Ge.jsx)(Ye,{className:"iconheros"})}),(0,Ge.jsxs)("div",{className:"icontext",children:[(0,Ge.jsx)("h2",{children:"INSTANT HIRING"}),(0,Ge.jsx)("p",{children:"We know you're busy, Hire instantly from your computer or smart phone."})]})]}),(0,Ge.jsxs)("div",{className:"conHero1",children:[(0,Ge.jsx)("div",{className:"iconheroo",children:(0,Ge.jsx)(Le,{className:"iconheros"})}),(0,Ge.jsxs)("div",{className:"icontext",children:[(0,Ge.jsx)("h2",{children:"TRANSPARENT PRICING"}),(0,Ge.jsx)("p",{children:"No hidden fees. What you see is what you pay."})]})]})]})]}),(0,Ge.jsx)("div",{className:"herosec2",children:(0,Ge.jsxs)("div",{className:"heroserv",children:[(0,Ge.jsx)("h2",{children:"Explore Services"}),(0,Ge.jsx)("hr",{}),(0,Ge.jsxs)("div",{className:"serviceHero",children:[(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:$e,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Private Nurse "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:et,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Adult Care  "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:tt,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Baby Sitter  "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:nt,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"House Keeper "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:it,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Tutor  "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:rt,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Cleaner"})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:st,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Waitress   "})]}),(0,Ge.jsxs)("div",{className:"conserve",children:[(0,Ge.jsx)("img",{src:at,className:"imgServe",alt:""}),(0,Ge.jsx)("h4",{children:"Cooking "})]})]}),(0,Ge.jsx)("div",{className:"moreservice",children:(0,Ge.jsx)("button",{children:"More Service"})})]})}),(0,Ge.jsx)("div",{className:"herosec3",children:(0,Ge.jsxs)("div",{className:"workers",children:[(0,Ge.jsx)("h2",{children:"Available Workers"}),(0,Ge.jsx)("p",{children:"ALL OF OUR LISTED WORKERS ARE IN ETHIOPIA AND WAITING FOR YOU TO CONTACT THEM"}),(0,Ge.jsxs)("div",{className:"workerHero",children:[(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:ot,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Meaza Degu"}),(0,Ge.jsx)("h3",{className:"years",children:"24 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Alem Bank"}),(0,Ge.jsx)("h5",{children:"Female Tutor"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:lt,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Selamawit Ageze"}),(0,Ge.jsx)("h3",{className:"years",children:"34 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Saris"}),(0,Ge.jsx)("h5",{children:"Female Tutor"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:ct,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Adonay Bekele"}),(0,Ge.jsx)("h3",{className:"years",children:"20 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Bole"}),(0,Ge.jsx)("h5",{children:"Sales"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:ut,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Rahel Daniel"}),(0,Ge.jsx)("h3",{className:"years",children:"26 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Bole"}),(0,Ge.jsx)("h5",{children:"Waitress"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:ht,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Mahlet Gizachew"}),(0,Ge.jsx)("h3",{className:"years",children:"34 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Kebena"}),(0,Ge.jsx)("h5",{children:"Cleaning"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:dt,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Bezawit Elias"}),(0,Ge.jsx)("h3",{className:"years",children:"24 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Bole"}),(0,Ge.jsx)("h5",{children:"Female Tutor"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:pt,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Eden Genene"}),(0,Ge.jsx)("h3",{className:"years",children:"24 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Kolfe Keranio"}),(0,Ge.jsx)("h5",{children:"Female Tutor"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]}),(0,Ge.jsxs)("div",{className:"conworker",children:[(0,Ge.jsx)("img",{src:ft,className:"workersimage",alt:""}),(0,Ge.jsx)("h2",{children:"Rodas Alema"}),(0,Ge.jsx)("h3",{className:"years",children:"20 years old"}),(0,Ge.jsx)("h4",{children:"Addis Ababa, Alem Bank"}),(0,Ge.jsx)("h5",{children:"Female Tutor"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewe btnrewe",children:"View Profile"})})]})]}),(0,Ge.jsx)("div",{className:"moreWorker",children:(0,Ge.jsx)("button",{children:"Find More Workers"})})]})}),(0,Ge.jsx)("div",{className:"herosec4",children:(0,Ge.jsxs)("div",{className:"howitwork",children:[(0,Ge.jsx)("h2",{children:"How it Works"}),(0,Ge.jsx)("p",{children:"Your are just one step away to contact your Emebet"}),(0,Ge.jsxs)("div",{className:"findoneicon",children:[(0,Ge.jsxs)("div",{className:"icon1hero",children:[(0,Ge.jsx)("hr",{})," ",(0,Ge.jsx)("div",{className:"iconherooo",children:(0,Ge.jsx)(ze,{className:"iconHero1"})})," ",(0,Ge.jsx)("hr",{className:"iconhrhero"})," ",(0,Ge.jsx)("hr",{className:"iconhrheroa"})]}),(0,Ge.jsxs)("div",{className:"icon1hero",children:[(0,Ge.jsx)("hr",{})," ",(0,Ge.jsx)("div",{className:"iconherooo",children:(0,Ge.jsx)(ze,{className:"iconHero1"})})," ",(0,Ge.jsx)("hr",{className:"iconhrhero"})," ",(0,Ge.jsx)("hr",{className:"iconhrheroa"})]})]}),(0,Ge.jsxs)("div",{className:"findone",children:[(0,Ge.jsxs)("div",{className:"findHero",children:[(0,Ge.jsx)("h3",{children:"Find One"}),(0,Ge.jsx)("p",{children:"Look for your Emebet based on your requirement"})]}),(0,Ge.jsxs)("div",{className:"payHero",children:[(0,Ge.jsx)("h3",{children:"Pay Fee"}),(0,Ge.jsx)("p",{children:"Pay 20-25% commission using Mobile banking, visiting banks or call us at 0930104785"})]}),(0,Ge.jsxs)("div",{className:"contactHero",children:[(0,Ge.jsx)("h3",{children:"Contact Emebet"}),(0,Ge.jsx)("p",{children:"We will give you her contact so that you can call her right away"})]})]})]})}),(0,Ge.jsx)("div",{className:"herosec5",children:(0,Ge.jsxs)("div",{className:"clientfeedback",children:[(0,Ge.jsx)("p",{children:"CLIENT FEEDBACKS"}),(0,Ge.jsx)("h2",{children:"What Client's Say"}),(0,Ge.jsx)("hr",{}),(0,Ge.jsxs)(Dn,{spaceBetween:50,slidesPerView:3,onSlideChange:()=>console.log("slide change"),onSwiper:e=>console.log(e),className:"swipe_clinet",breakpoints:{1024:{slidesPerView:3},720:{slidesPerView:2},425:{slidesPerView:1},414:{slidesPerView:1},412:{slidesPerView:1},390:{slidesPerView:1},393:{slidesPerView:1},375:{slidesPerView:1},360:{slidesPerView:1},320:{slidesPerView:1},280:{slidesPerView:1}},children:[(0,Ge.jsxs)("div",{className:"conclient",children:[(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedback",children:[(0,Ge.jsx)("p",{children:"Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken."}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})}),(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedbackk",children:[(0,Ge.jsx)("p",{children:'Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken. Hi, I made a marketing video for your website for free, can I send it here? Respond with, "yes" if so. Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken. Hi, I made a marketing video for your website for free, can I send it here? Respond with, "yes" if so.'}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})}),(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedback",children:[(0,Ge.jsx)("p",{children:"Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken."}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})})]}),(0,Ge.jsxs)("div",{className:"conclient",children:[(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedback",children:[(0,Ge.jsx)("p",{children:"Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken."}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})}),(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedbackk",children:[(0,Ge.jsx)("p",{children:'Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken. Hi, I made a marketing video for your website for free, can I send it here? Respond with, "yes" if so. Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken. Hi, I made a marketing video for your website for free, can I send it here? Respond with, "yes" if so.'}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})}),(0,Ge.jsx)(Ln,{children:(0,Ge.jsxs)("div",{className:"confeedback",children:[(0,Ge.jsx)("p",{children:"Hello, Really great website! How do we contact the employees? the VIEW CONTACT links are broken."}),(0,Ge.jsxs)("div",{className:"heroavater",children:[(0,Ge.jsx)("div",{className:"avatorHeroimg",children:(0,Ge.jsx)("img",{src:mt,className:"avater",alt:""})}),(0,Ge.jsxs)("div",{className:"herotextavater",children:[(0,Ge.jsx)("h4",{children:"Rodas taye"}),(0,Ge.jsx)("h5",{children:"tayerodas2@gmail.com"})]})]})]})})]})]})]})}),(0,Ge.jsx)("div",{className:"herosec6",children:(0,Ge.jsxs)("div",{className:"starthero",children:[(0,Ge.jsx)("h1",{children:"Start Working With Our Company"}),(0,Ge.jsx)("div",{className:"startherobtnWork",children:(0,Ge.jsx)("button",{className:"startbtnhewe startbtnrewe",children:"Register As Agent Now"})})]})})]})};n(596);const jn=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&i+1<e.length&&56320===(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Fn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,a=s?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),i.push(n[c],n[u],n[h],n[d])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(jn(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==a||null==o)throw new Bn;const l=t<<2|s>>4;if(i.push(l),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vn=function(e){return function(e){const t=jn(e);return Fn.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Un=function(e){try{return Fn.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const qn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Hn=()=>{try{return qn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/ewnetaweyzeroo",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Un(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Gn=e=>{var t,n;return null===(n=null===(t=Hn())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Wn=e=>{const t=Gn(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Kn=()=>{var e;return null===(e=Hn())||void 0===e?void 0:e.config},Yn=e=>{var t;return null===(t=Hn())||void 0===t?void 0:t["_".concat(e)]};class Zn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xn(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Vn(JSON.stringify({alg:"none",type:"JWT"})),Vn(JSON.stringify(s)),""].join(".")}function Qn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}class Jn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$n.prototype.create)}}class $n{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),i=this.errors[e],r=i?function(e,t){return e.replace(ei,((e,n)=>{const i=t[n];return null!=i?String(i):"<".concat(n,"?>")}))}(i,t):"Error",s="".concat(this.serviceName,": ").concat(r," (").concat(n,").");return new Jn(n,s,t)}}const ei=/\{\$([^}]+)}/g;function ti(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(ni(n)&&ni(s)){if(!ti(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function ni(e){return null!==e&&"object"===typeof e}function ii(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ri(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}})),t}function si(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ai{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=oi),void 0===i.error&&(i.error=oi),void 0===i.complete&&(i.complete=oi);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(e){}})),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function oi(){}function li(e){return e&&e._delegate?e._delegate:e}class ci{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ui="[DEFAULT]";class hi{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Zn;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),i=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:i});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){var n;const i=this.normalizeInstanceIdentifier(t),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch(i){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:di(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(r){}return i||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ui;return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function di(e){return e===ui?void 0:e}class pi{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new hi(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const fi=[];var mi;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(mi||(mi={}));const gi={debug:mi.DEBUG,verbose:mi.VERBOSE,info:mi.INFO,warn:mi.WARN,error:mi.ERROR,silent:mi.SILENT},yi=mi.INFO,vi={[mi.DEBUG]:"log",[mi.VERBOSE]:"log",[mi.INFO]:"info",[mi.WARN]:"warn",[mi.ERROR]:"error"},_i=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),i=vi[t];if(!i)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];console[i]("[".concat(n,"]  ").concat(e.name,":"),...s)};class bi{constructor(e){this.name=e,this._logLevel=yi,this._logHandler=_i,this._userLogHandler=null,fi.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?gi[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mi.DEBUG,...t),this._logHandler(this,mi.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mi.VERBOSE,...t),this._logHandler(this,mi.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mi.INFO,...t),this._logHandler(this,mi.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mi.WARN,...t),this._logHandler(this,mi.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,mi.ERROR,...t),this._logHandler(this,mi.ERROR,...t)}}const xi=(e,t)=>t.some((t=>e instanceof t));let wi,Si;const Ei=new WeakMap,Ti=new WeakMap,Ii=new WeakMap,ki=new WeakMap,Ci=new WeakMap;let Ai={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Ti.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ii.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Pi(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Si||(Si=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.apply(Ri(this),n),Mi(Ei.get(this))}:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Mi(e.apply(Ri(this),n))}:function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];const s=e.call(Ri(this),t,...i);return Ii.set(s,t.sort?t.sort():[t]),Mi(s)}}function Ni(e){return"function"===typeof e?Pi(e):(e instanceof IDBTransaction&&function(e){if(Ti.has(e))return;const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)}));Ti.set(e,t)}(e),xi(e,wi||(wi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Ai):e)}function Mi(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Mi(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Ei.set(t,e)})).catch((()=>{})),Ci.set(t,e),t}(e);if(ki.has(e))return ki.get(e);const t=Ni(e);return t!==e&&(ki.set(e,t),Ci.set(t,e)),t}const Ri=e=>Ci.get(e);const Oi=["get","getKey","getAll","getAllKeys","count"],Di=["put","add","delete","clear"],Li=new Map;function zi(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Li.get(t))return Li.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Di.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Oi.includes(n))return;const s=async function(e){const t=this.transaction(e,r?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return i&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),r&&t.done]))[0]};return Li.set(t,s),s}Ai=(e=>({...e,get:(t,n,i)=>zi(t,n)||e.get(t,n,i),has:(t,n)=>!!zi(t,n)||e.has(t,n)}))(Ai);class ji{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const Fi="@firebase/app",Bi="0.9.24",Vi=new bi("@firebase/app"),Ui="[DEFAULT]",qi={[Fi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Hi=new Map,Gi=new Map;function Wi(e,t){try{e.container.addComponent(t)}catch(n){Vi.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ki(e){const t=e.name;if(Gi.has(t))return Vi.debug("There were multiple attempts to register component ".concat(t,".")),!1;Gi.set(t,e);for(const n of Hi.values())Wi(n,e);return!0}function Yi(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Zi=new $n("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xi{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ci("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}}const Qi="10.7.0";function Ji(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:Ui,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!==typeof r||!r)throw Zi.create("bad-app-name",{appName:String(r)});if(n||(n=Kn()),!n)throw Zi.create("no-options");const s=Hi.get(r);if(s){if(ti(n,s.options)&&ti(i,s.config))return s;throw Zi.create("duplicate-app",{appName:r})}const a=new pi(r);for(const l of Gi.values())a.addComponent(l);const o=new Xi(n,i,a);return Hi.set(r,o),o}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ui;const t=Hi.get(e);if(!t&&e===Ui&&Kn())return Ji();if(!t)throw Zi.create("no-app",{appName:e});return t}function er(e,t,n){var i;let r=null!==(i=qi[e])&&void 0!==i?i:e;n&&(r+="-".concat(n));const s=r.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(r,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(r,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Vi.warn(e.join(" "))}Ki(new ci("".concat(r,"-version"),(()=>({library:r,version:t})),"VERSION"))}const tr="firebase-heartbeat-database",nr=1,ir="firebase-heartbeat-store";let rr=null;function sr(){return rr||(rr=function(e,t){let{blocked:n,upgrade:i,blocking:r,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Mi(a);return i&&a.addEventListener("upgradeneeded",(e=>{i(Mi(a.result),e.oldVersion,e.newVersion,Mi(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),r&&e.addEventListener("versionchange",(e=>r(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(tr,nr,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(ir)}}).catch((e=>{throw Zi.create("idb-open",{originalErrorMessage:e.message})}))),rr}async function ar(e,t){try{const n=(await sr()).transaction(ir,"readwrite"),i=n.objectStore(ir);await i.put(t,or(e)),await n.done}catch(n){if(n instanceof Jn)Vi.warn(n.message);else{const e=Zi.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Vi.warn(e.message)}}}function or(e){return"".concat(e.name,"!").concat(e.options.appId)}class lr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ur(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=cr();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==i&&!this._heartbeatsCache.heartbeats.some((e=>e.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=cr(),{heartbeatsToSend:n,unsentEntries:i}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let i=e.slice();for(const r of e){const e=n.find((e=>e.agent===r.agent));if(e){if(e.dates.push(r.date),hr(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),hr(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Vn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function cr(){return(new Date).toISOString().substring(0,10)}class ur{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise(((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null===(e=r.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await sr();return await t.transaction(ir).objectStore(ir).get(or(e))}catch(t){if(t instanceof Jn)Vi.warn(t.message);else{const e=Zi.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Vi.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ar(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function hr(e){return Vn(JSON.stringify({version:2,heartbeats:e})).length}var dr;dr="",Ki(new ci("platform-logger",(e=>new ji(e)),"PRIVATE")),Ki(new ci("heartbeat",(e=>new lr(e)),"PRIVATE")),er(Fi,Bi,dr),er(Fi,Bi,"esm2017"),er("fire-js","");var pr,fr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},mr={},gr=gr||{},yr=fr||self;function vr(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function _r(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var br="closure_uid_"+(1e9*Math.random()>>>0),xr=0;function wr(e,t,n){return e.call.apply(e.bind,arguments)}function Sr(e,t,n){if(!e)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Er(e,t,n){return(Er=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wr:Sr).apply(null,arguments)}function Tr(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Ir(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}function kr(){this.s=this.s,this.o=this.o}kr.prototype.s=!1,kr.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,br)&&e[br]||(e[br]=++xr))},kr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cr=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ar(e){const t=e.length;if(0<t){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function Pr(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(vr(t)){const n=e.length||0,i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function Nr(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Nr.prototype.h=function(){this.defaultPrevented=!0};var Mr=function(){if(!yr.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};yr.addEventListener("test",e,t),yr.removeEventListener("test",e,t)}catch(n){}return e}();function Rr(e){return/^[\s\xa0]*$/.test(e)}function Or(){var e=yr.navigator;return e&&(e=e.userAgent)?e:""}function Dr(e){return-1!=Or().indexOf(e)}function Lr(e){return Lr[" "](e),e}Lr[" "]=function(){};var zr,jr,Fr=Dr("Opera"),Br=Dr("Trident")||Dr("MSIE"),Vr=Dr("Edge"),Ur=Vr||Br,qr=Dr("Gecko")&&!(-1!=Or().toLowerCase().indexOf("webkit")&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),Hr=-1!=Or().toLowerCase().indexOf("webkit")&&!Dr("Edge");function Gr(){var e=yr.document;return e?e.documentMode:void 0}e:{var Wr="",Kr=function(){var e=Or();return qr?/rv:([^\);]+)(\)|;)/.exec(e):Vr?/Edge\/([\d\.]+)/.exec(e):Br?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hr?/WebKit\/(\S+)/.exec(e):Fr?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Kr&&(Wr=Kr?Kr[1]:""),Br){var Yr=Gr();if(null!=Yr&&Yr>parseFloat(Wr)){zr=String(Yr);break e}}zr=Wr}if(yr.document&&Br){var Zr=Gr();jr=Zr||(parseInt(zr,10)||void 0)}else jr=void 0;var Xr=jr;function Qr(e,t){if(Nr.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(qr){e:{try{Lr(t.nodeName);var r=!0;break e}catch(s){}r=!1}r||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Jr[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Qr.$.h.call(this)}}Ir(Qr,Nr);var Jr={2:"touch",3:"pen",4:"mouse"};Qr.prototype.h=function(){Qr.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var $r="closure_listenable_"+(1e6*Math.random()|0),es=0;function ts(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.la=r,this.key=++es,this.fa=this.ia=!1}function ns(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function is(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function rs(e){const t={};for(const n in e)t[n]=e[n];return t}const ss="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function as(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<ss.length;t++)n=ss[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function os(e){this.src=e,this.g={},this.h=0}function ls(e,t){var n=t.type;if(n in e.g){var i,r=e.g[n],s=Cr(r,t);(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(ns(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function cs(e,t,n,i){for(var r=0;r<e.length;++r){var s=e[r];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==i)return r}return-1}os.prototype.add=function(e,t,n,i,r){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=cs(e,t,i,r);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new ts(t,this.src,s,!!i,r)).ia=n,e.push(t)),t};var us="closure_lm_"+(1e6*Math.random()|0),hs={};function ds(e,t,n,i,r){if(i&&i.once)return fs(e,t,n,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ds(e,t[s],n,i,r);return null}return n=xs(n),e&&e[$r]?e.O(t,n,_r(i)?!!i.capture:!!i,r):ps(e,t,n,!1,i,r)}function ps(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");var a=_r(r)?!!r.capture:!!r,o=_s(e);if(o||(e[us]=o=new os(e)),(n=o.add(t,n,i,a,s)).proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=vs;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)Mr||(r=a),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent(ys(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}function fs(e,t,n,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fs(e,t[s],n,i,r);return null}return n=xs(n),e&&e[$r]?e.P(t,n,_r(i)?!!i.capture:!!i,r):ps(e,t,n,!0,i,r)}function ms(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)ms(e,t[s],n,i,r);else i=_r(i)?!!i.capture:!!i,n=xs(n),e&&e[$r]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=cs(s=e.g[t],n,i,r))&&(ns(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=_s(e))&&(t=e.g[t.toString()],e=-1,t&&(e=cs(t,n,i,r)),(n=-1<e?t[e]:null)&&gs(n))}function gs(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[$r])ls(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent(ys(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=_s(t))?(ls(n,e),0==n.h&&(n.src=null,t[us]=null)):ns(e)}}}function ys(e){return e in hs?hs[e]:hs[e]="on"+e}function vs(e,t){if(e.fa)e=!0;else{t=new Qr(t,this);var n=e.listener,i=e.la||e.src;e.ia&&gs(e),e=n.call(i,t)}return e}function _s(e){return(e=e[us])instanceof os?e:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function xs(e){return"function"===typeof e?e:(e[bs]||(e[bs]=function(t){return e.handleEvent(t)}),e[bs])}function ws(){kr.call(this),this.i=new os(this),this.S=this,this.J=null}function Ss(e,t){var n,i=e.J;if(i)for(n=[];i;i=i.J)n.push(i);if(e=e.S,i=t.type||t,"string"===typeof t)t=new Nr(t,e);else if(t instanceof Nr)t.target=t.target||e;else{var r=t;as(t=new Nr(i,e),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];r=Es(a,i,!0,t)&&r}if(r=Es(a=t.g=e,i,!0,t)&&r,r=Es(a,i,!1,t)&&r,n)for(s=0;s<n.length;s++)r=Es(a=t.g=n[s],i,!1,t)&&r}function Es(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&ls(e.i,a),r=!1!==o.call(l,i)&&r}}return r&&!i.defaultPrevented}Ir(ws,kr),ws.prototype[$r]=!0,ws.prototype.removeEventListener=function(e,t,n,i){ms(this,e,t,n,i)},ws.prototype.N=function(){if(ws.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)ns(n[i]);delete t.g[e],t.h--}}this.J=null},ws.prototype.O=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},ws.prototype.P=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};var Ts=yr.JSON.stringify;function Is(){var e=Rs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var ks=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Cs),(e=>e.reset()));class Cs{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function As(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ps(e){yr.setTimeout((()=>{throw e}),0)}let Ns,Ms=!1,Rs=new class{constructor(){this.h=this.g=null}add(e,t){const n=ks.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Os=()=>{const e=yr.Promise.resolve(void 0);Ns=()=>{e.then(Ds)}};var Ds=()=>{for(var e;e=Is();){try{e.h.call(e.g)}catch(n){Ps(n)}var t=ks;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ms=!1};function Ls(e,t){ws.call(this),this.h=e||1,this.g=t||yr,this.j=Er(this.qb,this),this.l=Date.now()}function zs(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function js(e,t,n){if("function"===typeof e)n&&(e=Er(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Er(e.handleEvent,e)}return 2147483647<Number(t)?-1:yr.setTimeout(e,t||0)}function Fs(e){e.g=js((()=>{e.g=null,e.i&&(e.i=!1,Fs(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Ir(Ls,ws),(pr=Ls.prototype).ga=!1,pr.T=null,pr.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ss(this,"tick"),this.ga&&(zs(this),this.start()))}},pr.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pr.N=function(){Ls.$.N.call(this),zs(this),delete this.g};class Bs extends kr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(yr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(e){kr.call(this),this.h=e,this.g={}}Ir(Vs,kr);var Us=[];function qs(e,t,n,i){Array.isArray(n)||(n&&(Us[0]=n.toString()),n=Us);for(var r=0;r<n.length;r++){var s=ds(t,n[r],i||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Hs(e){is(e.g,(function(e,t){this.g.hasOwnProperty(t)&&gs(e)}),e),e.g={}}function Gs(){this.g=!0}function Ws(e,t,n,i){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var i=n[e];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<r.length;a++)r[a]=""}}}return Ts(n)}catch(o){return t}}(e,n)+(i?" "+i:"")}))}Vs.prototype.N=function(){Vs.$.N.call(this),Hs(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gs.prototype.Ea=function(){this.g=!1},Gs.prototype.info=function(){};var Ks={},Ys=null;function Zs(){return Ys=Ys||new ws}function Xs(e){Nr.call(this,Ks.Ta,e)}function Qs(e){const t=Zs();Ss(t,new Xs(t))}function Js(e,t){Nr.call(this,Ks.STAT_EVENT,e),this.stat=t}function $s(e){const t=Zs();Ss(t,new Js(t,e))}function ea(e,t){Nr.call(this,Ks.Ua,e),this.size=t}function ta(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return yr.setTimeout((function(){e()}),t)}Ks.Ta="serverreachability",Ir(Xs,Nr),Ks.STAT_EVENT="statevent",Ir(Js,Nr),Ks.Ua="timingevent",Ir(ea,Nr);var na={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ia={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ra(){}function sa(e){return e.h||(e.h=e.i())}function aa(){}ra.prototype.h=null;var oa,la={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ca(){Nr.call(this,"d")}function ua(){Nr.call(this,"c")}function ha(){}function da(e,t,n,i){this.l=e,this.j=t,this.m=n,this.W=i||1,this.U=new Vs(this),this.P=fa,e=Ur?125:void 0,this.V=new Ls(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new pa}function pa(){this.i=null,this.g="",this.h=!1}Ir(ca,Nr),Ir(ua,Nr),Ir(ha,ra),ha.prototype.g=function(){return new XMLHttpRequest},ha.prototype.i=function(){return{}},oa=new ha;var fa=45e3,ma={},ga={};function ya(e,t,n){e.L=1,e.A=La(Na(t)),e.u=n,e.S=!0,va(e,null)}function va(e,t){e.G=Date.now(),wa(e),e.B=Na(e.A);var n=e.B,i=e.W;Array.isArray(i)||(i=[String(i)]),Za(n.i,"t",i),e.o=0,n=e.l.J,e.h=new pa,e.g=Qo(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Bs(Er(e.Pa,e,e.g),e.O)),qs(e.U,e.g,"readystatechange",e.nb),t=e.I?rs(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Qs(),function(e,t,n,i,r,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function _a(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function ba(e,t,n){let i,r=!0;for(;!e.J&&e.o<n.length;){if(i=xa(e,n),i==ga){4==t&&(e.s=4,$s(14),r=!1),Ws(e.j,e.m,null,"[Incomplete Response]");break}if(i==ma){e.s=4,$s(15),Ws(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}Ws(e.j,e.m,i,null),ka(e,i)}_a(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,$s(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qo(t),t.M=!0,$s(11))):(Ws(e.j,e.m,n,"[Invalid Chunked Response]"),Ia(e),Ta(e))}function xa(e,t){var n=e.o,i=t.indexOf("\n",n);return-1==i?ga:(n=Number(t.substring(n,i)),isNaN(n)?ma:(i+=1)+n>t.length?ga:(t=t.slice(i,i+n),e.o=i+n,t))}function wa(e){e.Y=Date.now()+e.P,Sa(e,e.P)}function Sa(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=ta(Er(e.lb,e),t)}function Ea(e){e.C&&(yr.clearTimeout(e.C),e.C=null)}function Ta(e){0==e.l.H||e.J||Wo(e.l,e)}function Ia(e){Ea(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,zs(e.V),Hs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ka(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||no(n.i,e)))if(!e.K&&no(n.i,e)&&3==n.H){try{var i=n.Ja.g.parse(t)}catch(c){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Go(n),Do(n)}Uo(n),$s(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=ta(Er(n.ib,n),6e3));if(1>=to(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Yo(n,11)}else if((e.K||n.g==e)&&Go(n),!Rr(t))for(r=n.Ja.g.parse(t),t=0;t<r.length;t++){let c=r[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const r=c[4];null!=r&&(n.Ga=r,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(i=1.5*u,n.L=i,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(io(s,s.h),s.h=null))}if(i.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.Da=e,Da(i.I,i.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((i=n).wa=Xo(i,i.J?i.pa:null,i.Y),a.K){ro(i.i,a);var o=a,l=i.L;l&&o.setTimeout(l),o.C&&(Ea(o),wa(o)),i.g=a}else Vo(i);0<n.j.length&&zo(n)}else"stop"!=c[0]&&"close"!=c[0]||Yo(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Yo(n,7):Oo(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Qs()}catch(c){}}function Ca(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(vr(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(vr(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const i in e)t[n++]=i;return t}}}(e),i=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(vr(e)){for(var t=[],n=e.length,i=0;i<n;i++)t.push(e[i]);return t}for(i in t=[],n=0,e)t[n++]=e[i];return t}(e),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],n&&n[s],e)}(pr=da.prototype).setTimeout=function(e){this.P=e},pr.nb=function(e){e=e.target;const t=this.M;t&&3==Co(e)?t.l():this.Pa(e)},pr.Pa=function(e){try{if(e==this.g)e:{const u=Co(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ur||this.g&&(this.h.h||this.g.ja()||Ao(this.g)))){this.J||4!=u||7==t||Qs(),Ea(this);var n=this.g.da();this.ca=n;t:if(_a(this)){var i=Ao(this.g);e="";var r=i.length,s=4==Co(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ia(this),Ta(this);var a="";break t}this.h.i=new yr.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,e+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,i,r,s,a){e.info((function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rr(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,$s(12),Ia(this),Ta(this);break e}Ws(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ka(this,n)}this.S?(ba(this,u,a),Ur&&this.i&&3==u&&(qs(this.U,this.V,"tick",this.mb),this.V.start())):(Ws(this.j,this.m,a,null),ka(this,a)),4==u&&Ia(this),this.i&&!this.J&&(4==u?Wo(this.l,this):(this.i=!1,wa(this)))}else(function(e){const t={};e=(e.g&&2<=Co(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(Rr(e[i]))continue;var n=As(e[i]);const r=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,$s(12)):(this.s=0,$s(13)),Ia(this),Ta(this)}}}catch(u){}},pr.mb=function(){if(this.g){var e=Co(this.g),t=this.g.ja();this.o<t.length&&(Ea(this),ba(this,e,t),this.i&&4!=e&&wa(this))}},pr.cancel=function(){this.J=!0,Ia(this)},pr.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Qs(),$s(17)),Ia(this),this.s=2,Ta(this)):Sa(this,this.Y-e)};var Aa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Pa){this.h=e.h,Ma(this,e.j),this.s=e.s,this.g=e.g,Ra(this,e.m),this.l=e.l;var t=e.i,n=new Ga;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Oa(this,n),this.o=e.o}else e&&(t=String(e).match(Aa))?(this.h=!1,Ma(this,t[1]||"",!0),this.s=za(t[2]||""),this.g=za(t[3]||"",!0),Ra(this,t[4]),this.l=za(t[5]||"",!0),Oa(this,t[6]||"",!0),this.o=za(t[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}function Na(e){return new Pa(e)}function Ma(e,t,n){e.j=n?za(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ra(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Oa(e,t,n){t instanceof Ga?(e.i=t,function(e,t){t&&!e.j&&(Wa(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Ka(this,t),Za(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ja(t,qa)),e.i=new Ga(t,e.h))}function Da(e,t,n){e.i.set(t,n)}function La(e){return Da(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function za(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ja(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Pa.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ja(t,Ba,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ja(t,Ba,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ja(n,"/"==n.charAt(0)?Ua:Va,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ja(n,Ha)),e.join("")};var Ba=/[#\/\?@]/g,Va=/[#\?:]/g,Ua=/[#\?]/g,qa=/[#\?@]/g,Ha=/#/g;function Ga(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Wa(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var i=e[n].indexOf("="),r=null;if(0<=i){var s=e[n].substring(0,i);r=e[n].substring(i+1)}else s=e[n];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Ka(e,t){Wa(e),t=Xa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ya(e,t){return Wa(e),t=Xa(e,t),e.g.has(t)}function Za(e,t,n){Ka(e,t),0<n.length&&(e.i=null,e.g.set(Xa(e,t),Ar(n)),e.h+=n.length)}function Xa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pr=Ga.prototype).add=function(e,t){Wa(this),this.i=null,e=Xa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pr.forEach=function(e,t){Wa(this),this.g.forEach((function(n,i){n.forEach((function(n){e.call(t,n,i,this)}),this)}),this)},pr.ta=function(){Wa(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let i=0;i<t.length;i++){const r=e[i];for(let e=0;e<r.length;e++)n.push(t[i])}return n},pr.Z=function(e){Wa(this);let t=[];if("string"===typeof e)Ya(this,e)&&(t=t.concat(this.g.get(Xa(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},pr.set=function(e,t){return Wa(this),this.i=null,Ya(this,e=Xa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pr.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},pr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var i=t[n];const s=encodeURIComponent(String(i)),a=this.Z(i);for(i=0;i<a.length;i++){var r=s;""!==a[i]&&(r+="="+encodeURIComponent(String(a[i]))),e.push(r)}}return this.i=e.join("&")};var Qa=class{constructor(e,t){this.g=e,this.map=t}};function Ja(e){this.l=e||$a,yr.PerformanceNavigationTiming?e=0<(e=yr.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(yr.g&&yr.g.Ka&&yr.g.Ka()&&yr.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var $a=10;function eo(e){return!!e.h||!!e.g&&e.g.size>=e.j}function to(e){return e.h?1:e.g?e.g.size:0}function no(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function io(e,t){e.g?e.g.add(t):e.h=t}function ro(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function so(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ar(e.i)}Ja.prototype.cancel=function(){if(this.i=so(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ao,oo=class{stringify(e){return yr.JSON.stringify(e,void 0)}parse(e){return yr.JSON.parse(e,void 0)}};function lo(){this.g=new oo}function co(e,t,n){const i=n||"";try{Ca(e,(function(e,n){let r=e;_r(e)&&(r=Ts(e)),t.push(i+n+"="+encodeURIComponent(r))}))}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function uo(e,t,n,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch(s){}}function ho(e){this.l=e.ec||null,this.j=e.ob||!1}function po(e,t){ws.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ir(ho,ra),ho.prototype.g=function(){return new po(this.l,this.j)},ho.prototype.i=(ao={},function(){return ao}),Ir(po,ws);var fo=0;function mo(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function go(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yo(e)}function yo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pr=po.prototype).open=function(e,t){if(this.readyState!=fo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yo(this)},pr.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||yr).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},pr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,go(this)),this.readyState=fo},pr.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yo(this)),this.g&&(this.readyState=3,yo(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof yr.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;mo(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},pr.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?go(this):yo(this),3==this.readyState&&mo(this)}},pr.Za=function(e){this.g&&(this.response=this.responseText=e,go(this))},pr.Ya=function(e){this.g&&(this.response=e,go(this))},pr.ka=function(){this.g&&go(this)},pr.setRequestHeader=function(e,t){this.v.append(e,t)},pr.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pr.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(po.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vo=yr.JSON.parse;function _o(e){ws.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bo,this.L=this.M=!1}Ir(_o,ws);var bo="",xo=/^https?$/i,wo=["POST","PUT"];function So(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Eo(e),Io(e)}function Eo(e){e.F||(e.F=!0,Ss(e,"complete"),Ss(e,"error"))}function To(e){if(e.h&&"undefined"!=typeof gr&&(!e.C[1]||4!=Co(e)||2!=e.da()))if(e.v&&4==Co(e))js(e.La,0,e);else if(Ss(e,"readystatechange"),4==Co(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===o){var r=String(e.I).match(Aa)[1]||null;!r&&yr.self&&yr.self.location&&(r=yr.self.location.protocol.slice(0,-1)),i=!xo.test(r?r.toLowerCase():"")}n=i}if(n)Ss(e,"complete"),Ss(e,"success");else{e.m=6;try{var s=2<Co(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Eo(e)}}finally{Io(e)}}}function Io(e,t){if(e.g){ko(e);const i=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ss(e,"ready");try{i.onreadystatechange=r}catch(n){}}}function ko(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(yr.clearTimeout(e.A),e.A=null)}function Co(e){return e.g?e.g.readyState:0}function Ao(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case bo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Ll){return null}}function Po(e){let t="";return is(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function No(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=Po(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Da(e,t,n))}function Mo(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ro(e){this.Ga=0,this.j=[],this.l=new Gs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mo("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mo("baseRetryDelayMs",5e3,e),this.hb=Mo("retryDelaySeedMs",1e4,e),this.eb=Mo("forwardChannelMaxRetries",2,e),this.xa=Mo("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ja(e&&e.concurrentRequestLimit),this.Ja=new lo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Oo(e){if(Lo(e),3==e.H){var t=e.W++,n=Na(e.I);if(Da(n,"SID",e.K),Da(n,"RID",t),Da(n,"TYPE","terminate"),Fo(e,n),(t=new da(e,e.l,t)).L=2,t.A=La(Na(n)),n=!1,yr.navigator&&yr.navigator.sendBeacon)try{n=yr.navigator.sendBeacon(t.A.toString(),"")}catch(i){}!n&&yr.Image&&((new Image).src=t.A,n=!0),n||(t.g=Qo(t.l,null),t.g.ha(t.A)),t.G=Date.now(),wa(t)}Zo(e)}function Do(e){e.g&&(qo(e),e.g.cancel(),e.g=null)}function Lo(e){Do(e),e.u&&(yr.clearTimeout(e.u),e.u=null),Go(e),e.i.cancel(),e.m&&("number"===typeof e.m&&yr.clearTimeout(e.m),e.m=null)}function zo(e){if(!eo(e.i)&&!e.m){e.m=!0;var t=e.Na;Ns||Os(),Ms||(Ns(),Ms=!0),Rs.add(t,e),e.C=0}}function jo(e,t){var n;n=t?t.m:e.W++;const i=Na(e.I);Da(i,"SID",e.K),Da(i,"RID",n),Da(i,"AID",e.V),Fo(e,i),e.o&&e.s&&No(i,e.o,e.s),n=new da(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Bo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),io(e.i,n),ya(n,i,t)}function Fo(e,t){e.na&&is(e.na,(function(e,n){Da(t,n,e)})),e.h&&Ca({},(function(e,n){Da(t,n,e)}))}function Bo(e,t,n){n=Math.min(e.j.length,n);var i=e.h?Er(e.h.Va,e.h,e):null;e:{var r=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let a=!0;for(let o=0;o<n;o++){let n=r[o].g;const l=r[o].map;if(n-=t,0>n)t=Math.max(0,r[o].g-100),a=!1;else try{co(l,e,"req"+n+"_")}catch(s){i&&i(l)}}if(a){i=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,i}function Vo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Ns||Os(),Ms||(Ns(),Ms=!0),Rs.add(t,e),e.A=0}}function Uo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ta(Er(e.Ma,e),Ko(e,e.A)),e.A++,!0)}function qo(e){null!=e.B&&(yr.clearTimeout(e.B),e.B=null)}function Ho(e){e.g=new da(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Na(e.wa);Da(t,"RID","rpc"),Da(t,"SID",e.K),Da(t,"AID",e.V),Da(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Da(t,"TO",e.qa),Da(t,"TYPE","xmlhttp"),Fo(e,t),e.o&&e.s&&No(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=La(Na(t)),n.u=null,n.S=!0,va(n,e)}function Go(e){null!=e.v&&(yr.clearTimeout(e.v),e.v=null)}function Wo(e,t){var n=null;if(e.g==t){Go(e),qo(e),e.g=null;var i=2}else{if(!no(e.i,t))return;n=t.F,ro(e.i,t),i=1}if(0!=e.H)if(t.i)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.G;var r=e.C;Ss(i=Zs(),new ea(i,n)),zo(e)}else Vo(e);else if(3==(r=t.s)||0==r&&0<t.ca||!(1==i&&function(e,t){return!(to(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ta(Er(e.Na,e,t),Ko(e,e.C)),e.C++,!0))}(e,t)||2==i&&Uo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),r){case 1:Yo(e,5);break;case 4:Yo(e,10);break;case 3:Yo(e,6);break;default:Yo(e,2)}}function Ko(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Yo(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var i=Er(e.pb,e);n||(n=new Pa("//www.google.com/images/cleardot.gif"),yr.location&&"http"==yr.location.protocol||Ma(n,"https"),La(n)),function(e,t){const n=new Gs;if(yr.Image){const i=new Image;i.onload=Tr(uo,n,i,"TestLoadImage: loaded",!0,t),i.onerror=Tr(uo,n,i,"TestLoadImage: error",!1,t),i.onabort=Tr(uo,n,i,"TestLoadImage: abort",!1,t),i.ontimeout=Tr(uo,n,i,"TestLoadImage: timeout",!1,t),yr.setTimeout((function(){i.ontimeout&&i.ontimeout()}),1e4),i.src=e}else t(!1)}(n.toString(),i)}else $s(2);e.H=0,e.h&&e.h.za(t),Zo(e),Lo(e)}function Zo(e){if(e.H=0,e.ma=[],e.h){const t=so(e.i);0==t.length&&0==e.j.length||(Pr(e.ma,t),Pr(e.ma,e.j),e.i.i.length=0,Ar(e.j),e.j.length=0),e.h.ya()}}function Xo(e,t,n){var i=n instanceof Pa?Na(n):new Pa(n);if(""!=i.g)t&&(i.g=t+"."+i.g),Ra(i,i.m);else{var r=yr.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new Pa(null);i&&Ma(s,i),t&&(s.g=t),r&&Ra(s,r),n&&(s.l=n),i=s}return n=e.F,t=e.Da,n&&t&&Da(i,n,t),Da(i,"VER",e.ra),Fo(e,i),i}function Qo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new _o(new ho({ob:n})):new _o(e.va)).Oa(e.J),t}function Jo(){}function $o(){if(Br&&!(10<=Number(Xr)))throw Error("Environmental error: no available transport.")}function el(e,t){ws.call(this),this.g=new Ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Rr(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Rr(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new il(this)}function tl(e){ca.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nl(){ua.call(this),this.status=1}function il(e){this.g=e}function rl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function sl(e,t,n){n||(n=0);var i=Array(16);if("string"===typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];var s=e.g[3],a=t+(s^n&(r^s))+i[0]+3614090360&4294967295;a=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=(n=(r=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(r^t&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^s&(t^n))+i[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(s^t))+i[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^s&(t^n))+i[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(s^t))+i[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^s&(t^n))+i[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(s^t))+i[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(r^t&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=r+(n^s&(t^n))+i[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^r&(s^t))+i[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^r&(t^n))+i[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(s^t))+i[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^r&(t^n))+i[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(s^t))+i[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^r&(t^n))+i[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(s^t))+i[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^r&(t^n))+i[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=r+(t^n&(s^t))+i[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^n)+i[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^s^t)+i[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^n)+i[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^s^t)+i[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^n)+i[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^s^t)+i[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=r+(s^t^n)+i[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(r^s^t)+i[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=r+(t^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((r=s+((a=r+(t^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+s&4294967295}function al(e,t){this.h=t;for(var n=[],i=!0,r=e.length-1;0<=r;r--){var s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}(pr=_o.prototype).Oa=function(e){this.M=e},pr.ha=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():oa.g(),this.C=this.u?sa(this.u):sa(oa),this.g.onreadystatechange=Er(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void So(this,s)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!==typeof i.keys||"function"!==typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),r=yr.FormData&&e instanceof yr.FormData,!(0<=Cr(wo,t))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ko(this),0<this.B&&((this.L=function(e){return Br&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Er(this.ua,this)):this.A=js(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){So(this,s)}},pr.ua=function(){"undefined"!=typeof gr&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ss(this,"timeout"),this.abort(8))},pr.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ss(this,"complete"),Ss(this,"abort"),Io(this))},pr.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Io(this,!0)),_o.$.N.call(this)},pr.La=function(){this.s||(this.G||this.v||this.l?To(this):this.kb())},pr.kb=function(){To(this)},pr.isActive=function(){return!!this.g},pr.da=function(){try{return 2<Co(this)?this.g.status:-1}catch(ao){return-1}},pr.ja=function(){try{return this.g?this.g.responseText:""}catch(ao){return""}},pr.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vo(t)}},pr.Ia=function(){return this.m},pr.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(pr=Ro.prototype).ra=8,pr.H=1,pr.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const r=new da(this,this.l,e);let s=this.s;if(this.U&&(s?(s=rs(s),as(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"===typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Bo(this,r,t),Da(n=Na(this.I),"RID",e),Da(n,"CVER",22),this.F&&Da(n,"X-HTTP-Session-Id",this.F),Fo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Po(s)))+"&"+t:this.o&&No(n,this.o,s)),io(this.i,r),this.bb&&Da(n,"TYPE","init"),this.P?(Da(n,"$req",t),Da(n,"SID","null"),r.aa=!0,ya(r,n,null)):ya(r,n,t),this.H=2}}else 3==this.H&&(e?jo(this,e):0==this.j.length||eo(this.i)||jo(this))},pr.Ma=function(){if(this.u=null,Ho(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ta(Er(this.jb,this),e)}},pr.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,$s(10),Do(this),Ho(this))},pr.ib=function(){null!=this.v&&(this.v=null,Do(this),Uo(this),$s(19))},pr.pb=function(e){e?(this.l.info("Successfully pinged google.com"),$s(2)):(this.l.info("Failed to ping google.com"),$s(1))},pr.isActive=function(){return!!this.h&&this.h.isActive(this)},(pr=Jo.prototype).Ba=function(){},pr.Aa=function(){},pr.za=function(){},pr.ya=function(){},pr.isActive=function(){return!0},pr.Va=function(){},$o.prototype.g=function(e,t){return new el(e,t)},Ir(el,ws),el.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;$s(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Xo(e,null,e.Y),zo(e)},el.prototype.close=function(){Oo(this.g)},el.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ts(e),e=n);t.j.push(new Qa(t.fb++,e)),3==t.H&&zo(t)},el.prototype.N=function(){this.g.h=null,delete this.j,Oo(this.g),delete this.g,el.$.N.call(this)},Ir(tl,ca),Ir(nl,ua),Ir(il,Jo),il.prototype.Ba=function(){Ss(this.g,"a")},il.prototype.Aa=function(e){Ss(this.g,new tl(e))},il.prototype.za=function(e){Ss(this.g,new nl)},il.prototype.ya=function(){Ss(this.g,"b")},Ir(rl,(function(){this.blockSize=-1})),rl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.m,r=this.h,s=0;s<t;){if(0==r)for(;s<=n;)sl(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[r++]=e.charCodeAt(s++),r==this.blockSize){sl(this,i),r=0;break}}else for(;s<t;)if(i[r++]=e[s++],r==this.blockSize){sl(this,i),r=0;break}}this.h=r,this.i+=t},rl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var i=0;32>i;i+=8)e[n++]=this.g[t]>>>i&255;return e};var ol={};function ll(e){return-128<=e&&128>e?function(e,t){var n=ol;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new al([0|e],0>e?-1:0)})):new al([0|e],0>e?-1:0)}function cl(e){if(isNaN(e)||!isFinite(e))return hl;if(0>e)return gl(cl(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=ul;return new al(t,0)}var ul=4294967296,hl=ll(0),dl=ll(1),pl=ll(16777216);function fl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function ml(e){return-1==e.h}function gl(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new al(n,~e.h).add(dl)}function yl(e,t){return e.add(gl(t))}function vl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function _l(e,t){this.g=e,this.h=t}function bl(e,t){if(fl(t))throw Error("division by zero");if(fl(e))return new _l(hl,hl);if(ml(e))return t=bl(gl(e),t),new _l(gl(t.g),gl(t.h));if(ml(t))return t=bl(e,gl(t)),new _l(gl(t.g),t.h);if(30<e.g.length){if(ml(e)||ml(t))throw Error("slowDivide_ only works with positive integers.");for(var n=dl,i=t;0>=i.X(e);)n=xl(n),i=xl(i);var r=wl(n,1),s=wl(i,1);for(i=wl(i,2),n=wl(n,2);!fl(i);){var a=s.add(i);0>=a.X(e)&&(r=r.add(n),s=a),i=wl(i,1),n=wl(n,1)}return t=yl(e,r.R(t)),new _l(r,t)}for(r=hl;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),a=(s=cl(n)).R(t);ml(a)||0<a.X(e);)a=(s=cl(n-=i)).R(t);fl(s)&&(s=dl),r=r.add(s),e=yl(e,a)}return new _l(r,e)}function xl(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.D(i)<<1|e.D(i-1)>>>31;return new al(n,e.h)}function wl(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,r=[],s=0;s<i;s++)r[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new al(r,e.h)}(pr=al.prototype).ea=function(){if(ml(this))return-gl(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var i=this.D(n);e+=(0<=i?i:ul+i)*t,t*=ul}return e},pr.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fl(this))return"0";if(ml(this))return"-"+gl(this).toString(e);for(var t=cl(Math.pow(e,6)),n=this,i="";;){var r=bl(n,t).g,s=((0<(n=yl(n,r.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fl(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},pr.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},pr.X=function(e){return ml(e=yl(this,e))?-1:fl(e)?0:1},pr.abs=function(){return ml(this)?gl(this):this},pr.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,r=0;r<=t;r++){var s=i+(65535&this.D(r))+(65535&e.D(r)),a=(s>>>16)+(this.D(r)>>>16)+(e.D(r)>>>16);i=a>>>16,s&=65535,a&=65535,n[r]=a<<16|s}return new al(n,-2147483648&n[n.length-1]?-1:0)},pr.R=function(e){if(fl(this)||fl(e))return hl;if(ml(this))return ml(e)?gl(this).R(gl(e)):gl(gl(this).R(e));if(ml(e))return gl(this.R(gl(e)));if(0>this.X(pl)&&0>e.X(pl))return cl(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<e.g.length;r++){var s=this.D(i)>>>16,a=65535&this.D(i),o=e.D(r)>>>16,l=65535&e.D(r);n[2*i+2*r]+=a*l,vl(n,2*i+2*r),n[2*i+2*r+1]+=s*l,vl(n,2*i+2*r+1),n[2*i+2*r+1]+=a*o,vl(n,2*i+2*r+1),n[2*i+2*r+2]+=s*o,vl(n,2*i+2*r+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new al(n,0)},pr.gb=function(e){return bl(this,e).h},pr.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)&e.D(i);return new al(n,this.h&e.h)},pr.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)|e.D(i);return new al(n,this.h|e.h)},pr.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.D(i)^e.D(i);return new al(n,this.h^e.h)},$o.prototype.createWebChannel=$o.prototype.g,el.prototype.send=el.prototype.u,el.prototype.open=el.prototype.m,el.prototype.close=el.prototype.close,na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,ia.COMPLETE="complete",aa.EventType=la,la.OPEN="a",la.CLOSE="b",la.ERROR="c",la.MESSAGE="d",ws.prototype.listen=ws.prototype.O,_o.prototype.listenOnce=_o.prototype.P,_o.prototype.getLastError=_o.prototype.Sa,_o.prototype.getLastErrorCode=_o.prototype.Ia,_o.prototype.getStatus=_o.prototype.da,_o.prototype.getResponseJson=_o.prototype.Wa,_o.prototype.getResponseText=_o.prototype.ja,_o.prototype.send=_o.prototype.ha,_o.prototype.setWithCredentials=_o.prototype.Oa,rl.prototype.digest=rl.prototype.l,rl.prototype.reset=rl.prototype.reset,rl.prototype.update=rl.prototype.j,al.prototype.add=al.prototype.add,al.prototype.multiply=al.prototype.R,al.prototype.modulo=al.prototype.gb,al.prototype.compare=al.prototype.X,al.prototype.toNumber=al.prototype.ea,al.prototype.toString=al.prototype.toString,al.prototype.getBits=al.prototype.D,al.fromNumber=cl,al.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return gl(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var i=cl(Math.pow(n,8)),r=hl,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=cl(Math.pow(n,a)),r=r.R(a).add(cl(o))):r=(r=r.R(i)).add(cl(o))}return r};var Sl=mr.createWebChannelTransport=function(){return new $o},El=mr.getStatEventTarget=function(){return Zs()},Tl=mr.ErrorCode=na,Il=mr.EventType=ia,kl=mr.Event=Ks,Cl=mr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Al=(mr.FetchXmlHttpFactory=ho,mr.WebChannel=aa),Pl=mr.XhrIo=_o,Nl=mr.Md5=rl,Ml=mr.Integer=al;const Rl="@firebase/firestore";class Ol{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ol.UNAUTHENTICATED=new Ol(null),Ol.GOOGLE_CREDENTIALS=new Ol("google-credentials-uid"),Ol.FIRST_PARTY=new Ol("first-party-uid"),Ol.MOCK_USER=new Ol("mock-user");let Dl="10.7.0";const Ll=new bi("@firebase/firestore");function zl(){return Ll.logLevel}function jl(e){if(Ll.logLevel<=mi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Vl);Ll.debug("Firestore (".concat(Dl,"): ").concat(e),...r)}}function Fl(e){if(Ll.logLevel<=mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Vl);Ll.error("Firestore (".concat(Dl,"): ").concat(e),...r)}}function Bl(e){if(Ll.logLevel<=mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=n.map(Vl);Ll.warn("Firestore (".concat(Dl,"): ").concat(e),...r)}}function Vl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ul(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Dl,") INTERNAL ASSERTION FAILED: ")+e;throw Fl(t),new Error(t)}function ql(e,t){e||Ul()}function Hl(e,t){return e}const Gl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wl extends Jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Kl{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Yl{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zl{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Ol.UNAUTHENTICATED)))}shutdown(){}}class Xl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Ql{constructor(e){this.t=e,this.currentUser=Ol.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Kl;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Kl,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const t=r;e.enqueueRetryable((async()=>{await t.promise,await i(this.currentUser)}))},a=e=>{jl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(jl("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Kl)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(jl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ql("string"==typeof t.accessToken),new Yl(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ql(null===e||"string"==typeof e),new Ol(e)}}class Jl{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Ol.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $l{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Jl(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Ol.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ec{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tc{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&jl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,jl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const i=e=>{jl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>i(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?i(e):jl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ql("string"==typeof e.token),this.R=e.token,new ec(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}class ic{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const i=nc(40);for(let r=0;r<i.length;++r)n.length<20&&i[r]<t&&(n+=e.charAt(i[r]%62))}return n}}function rc(e,t){return e<t?-1:e>t?1:0}function sc(e,t,n){return e.length===t.length&&e.every(((e,i)=>n(e,t[i])))}class ac{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wl(Gl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wl(Gl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wl(Gl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wl(Gl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ac.fromMillis(Date.now())}static fromDate(e){return ac.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ac(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?rc(this.nanoseconds,e.nanoseconds):rc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oc(e)}static min(){return new oc(new ac(0,0))}static max(){return new oc(new ac(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ul(),void 0===n?n=e.length-t:n>e.length-t&&Ul(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===lc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.get(i),r=t.get(i);if(n<r)return-1;if(n>r)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cc extends lc{construct(e,t,n){return new cc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n){if(r.indexOf("//")>=0)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid segment (".concat(r,"). Paths must not contain // in them."));e.push(...r.split("/").filter((e=>e.length>0)))}return new cc(e)}static emptyPath(){return new cc([])}}const uc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hc extends lc{construct(e,t,n){return new hc(e,t,n)}static isValidIdentifier(e){return uc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hc(["__name__"])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Wl(Gl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wl(Gl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Wl(Gl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hc(t)}static emptyPath(){return new hc([])}}class dc{constructor(e){this.path=e}static fromPath(e){return new dc(cc.fromString(e))}static fromName(e){return new dc(cc.fromString(e).popFirst(5))}static empty(){return new dc(cc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dc(new cc(e.slice()))}}class pc{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}pc.UNKNOWN_ID=-1;function fc(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=oc.fromTimestamp(1e9===i?new ac(n+1,0):new ac(n,i));return new gc(r,dc.empty(),t)}function mc(e){return new gc(e.readTime,e.key,-1)}class gc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gc(oc.min(),dc.empty(),-1)}static max(){return new gc(oc.max(),dc.empty(),-1)}}function yc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dc.comparator(e.documentKey,t.documentKey),0!==n?n:rc(e.largestBatchId,t.largestBatchId))}const vc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _c{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function bc(e){if(e.code!==Gl.FAILED_PRECONDITION||e.message!==vc)throw e;jl("LocalStore","Unexpectedly lost primary lease")}class xc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ul(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xc(((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof xc?t:xc.resolve(t)}catch(e){return xc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):xc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):xc.reject(t)}static resolve(e){return new xc(((t,n)=>{t(e)}))}static reject(e){return new xc(((t,n)=>{n(e)}))}static waitFor(e){return new xc(((t,n)=>{let i=0,r=0,s=!1;e.forEach((e=>{++i,e.next((()=>{++r,s&&r===i&&t()}),(e=>n(e)))})),s=!0,r===i&&t()}))}static or(e){let t=xc.resolve(!1);for(const n of e)t=t.next((e=>e?xc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,i)=>{n.push(t.call(this,e,i))})),this.waitFor(n)}static mapArray(e,t){return new xc(((n,i)=>{const r=e.length,s=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===r&&n(s)}),(e=>i(e)))}}))}static doWhile(e,t){return new xc(((n,i)=>{const r=()=>{!0===e()?t().next((()=>{r()}),i):n()};r()}))}}function wc(e){return"IndexedDbTransactionError"===e.name}class Sc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Ec(e){return null==e}function Tc(e){return 0===e&&1/e==-1/0}function Ic(e){return"number"==typeof e&&Number.isInteger(e)&&!Tc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Sc._e=-1;const kc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ac=Cc;function Pc(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Nc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Mc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Rc{constructor(e,t){this.comparator=e,this.root=t||Dc.EMPTY}insert(e,t){return new Rc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Dc.BLACK,null,null))}remove(e){return new Rc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dc{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:Dc.RED,this.left=null!=i?i:Dc.EMPTY,this.right=null!=r?r:Dc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,i,r){return new Dc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Dc.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ul();if(this.right.isRed())throw Ul();const e=this.left.check();if(e!==this.right.check())throw Ul();return e+(this.isRed()?0:1)}}Dc.EMPTY=null,Dc.RED=!0,Dc.BLACK=!1,Dc.EMPTY=new class{constructor(){this.size=0}get key(){throw Ul()}get value(){throw Ul()}get color(){throw Ul()}get left(){throw Ul()}get right(){throw Ul()}copy(e,t,n,i,r){return this}insert(e,t,n){return new Dc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lc{constructor(e){this.comparator=e,this.data=new Rc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new zc(this.data.getIterator())}getIteratorFrom(e){return new zc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Lc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Lc(this.comparator);return t.data=e,t}}class zc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jc{constructor(e){this.fields=e,e.sort(hc.comparator)}static empty(){return new jc([])}unionWith(e){let t=new Lc(hc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new jc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Fc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Fc("Invalid base64 string: "+e):e}}(e);return new Bc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Bc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bc.EMPTY_BYTE_STRING=new Bc("");const Vc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Uc(e){if(ql(!!e),"string"==typeof e){let t=0;const n=Vc.exec(e);if(ql(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:qc(e.seconds),nanos:qc(e.nanos)}}function qc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hc(e){return"string"==typeof e?Bc.fromBase64String(e):Bc.fromUint8Array(e)}function Gc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wc(e){const t=e.mapValue.fields.__previous_value__;return Gc(t)?Wc(t):t}function Kc(e){const t=Uc(e.mapValue.fields.__local_write_time__.timestampValue);return new ac(t.seconds,t.nanos)}class Yc{constructor(e,t,n,i,r,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Zc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}const Xc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Gc(e)?4:hu(e)?9007199254740991:10:Ul()}function Jc(e,t){if(e===t)return!0;const n=Qc(e);if(n!==Qc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Kc(e).isEqual(Kc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Uc(e.timestampValue),i=Uc(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hc(e.bytesValue).isEqual(Hc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qc(e.geoPointValue.latitude)===qc(t.geoPointValue.latitude)&&qc(e.geoPointValue.longitude)===qc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qc(e.integerValue)===qc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qc(e.doubleValue),i=qc(t.doubleValue);return n===i?Tc(n)===Tc(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return sc(e.arrayValue.values||[],t.arrayValue.values||[],Jc);case 10:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(Pc(n)!==Pc(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Jc(n[r],i[r])))return!1;return!0}(e,t);default:return Ul()}}function $c(e,t){return void 0!==(e.values||[]).find((e=>Jc(e,t)))}function eu(e,t){if(e===t)return 0;const n=Qc(e),i=Qc(t);if(n!==i)return rc(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return rc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qc(e.integerValue||e.doubleValue),i=qc(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return tu(e.timestampValue,t.timestampValue);case 4:return tu(Kc(e),Kc(t));case 5:return rc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hc(e),i=Hc(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=rc(n[r],i[r]);if(0!==e)return e}return rc(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=rc(qc(e.latitude),qc(t.latitude));return 0!==n?n:rc(qc(e.longitude),qc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=eu(n[r],i[r]);if(e)return e}return rc(n.length,i.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Xc.mapValue&&t===Xc.mapValue)return 0;if(e===Xc.mapValue)return 1;if(t===Xc.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let a=0;a<i.length&&a<s.length;++a){const e=rc(i[a],s[a]);if(0!==e)return e;const t=eu(n[i[a]],r[s[a]]);if(0!==t)return t}return rc(i.length,s.length)}(e.mapValue,t.mapValue);default:throw Ul()}}function tu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return rc(e,t);const n=Uc(e),i=Uc(t),r=rc(n.seconds,i.seconds);return 0!==r?r:rc(n.nanos,i.nanos)}function nu(e){return iu(e)}function iu(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Uc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Hc(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return dc.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=iu(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+="".concat(r,":").concat(iu(e.fields[r]));return n+"}"}(e.mapValue):Ul()}function ru(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function su(e){return!!e&&"integerValue"in e}function au(e){return!!e&&"arrayValue"in e}function ou(e){return!!e&&"nullValue"in e}function lu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cu(e){return!!e&&"mapValue"in e}function uu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Nc(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=uu(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class du{constructor(e){this.value=e}static empty(){return new du({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!cu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=hc.emptyPath(),n={},i=[];e.forEach(((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=uu(e):i.push(r.lastSegment())}));const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());cu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];cu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){Nc(t,((t,n)=>e[t]=n));for(const i of n)delete e[i]}clone(){return new du(uu(this.value))}}function pu(e){const t=[];return Nc(e.fields,((e,n)=>{const i=new hc([e]);if(cu(n)){const e=pu(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)})),new jc(t)}class fu{constructor(e,t,n,i,r,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new fu(e,0,oc.min(),oc.min(),oc.min(),du.empty(),0)}static newFoundDocument(e,t,n,i){return new fu(e,1,t,oc.min(),n,i,0)}static newNoDocument(e,t){return new fu(e,2,t,oc.min(),oc.min(),du.empty(),0)}static newUnknownDocument(e,t){return new fu(e,3,t,oc.min(),oc.min(),du.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=du.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=du.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class mu{constructor(e,t){this.position=e,this.inclusive=t}}function gu(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(i=s.field.isKeyField()?dc.comparator(dc.fromName(a.referenceValue),n.key):eu(a,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function yu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jc(e.position[n],t.position[n]))return!1;return!0}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function _u(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bu{}class xu extends bu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Au(e,t,n):"array-contains"===t?new Ru(e,n):"in"===t?new Ou(e,n):"not-in"===t?new Du(e,n):"array-contains-any"===t?new Lu(e,n):new xu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Pu(e,n):new Nu(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eu(t,this.value)):null!==t&&Qc(this.value)===Qc(t)&&this.matchesComparison(eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ul()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class wu extends bu{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new wu(e,t)}matches(e){return Su(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Su(e){return"and"===e.op}function Eu(e){return Tu(e)&&Su(e)}function Tu(e){for(const t of e.filters)if(t instanceof wu)return!1;return!0}function Iu(e){if(e instanceof xu)return e.field.canonicalString()+e.op.toString()+nu(e.value);if(Eu(e))return e.filters.map((e=>Iu(e))).join(",");{const t=e.filters.map((e=>Iu(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function ku(e,t){return e instanceof xu?function(e,t){return t instanceof xu&&e.op===t.op&&e.field.isEqual(t.field)&&Jc(e.value,t.value)}(e,t):e instanceof wu?function(e,t){return t instanceof wu&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,i)=>e&&ku(n,t.filters[i])),!0)}(e,t):void Ul()}function Cu(e){return e instanceof xu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(nu(e.value))}(e):e instanceof wu?function(e){return e.op.toString()+" {"+e.getFilters().map(Cu).join(" ,")+"}"}(e):"Filter"}class Au extends xu{constructor(e,t,n){super(e,t,n),this.key=dc.fromName(n.referenceValue)}matches(e){const t=dc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Pu extends xu{constructor(e,t){super(e,"in",t),this.keys=Mu("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Nu extends xu{constructor(e,t){super(e,"not-in",t),this.keys=Mu("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Mu(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>dc.fromName(e.referenceValue)))}class Ru extends xu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return au(t)&&$c(t.arrayValue,this.value)}}class Ou extends xu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$c(this.value.arrayValue,t)}}class Du extends xu{constructor(e,t){super(e,"not-in",t)}matches(e){if($c(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$c(this.value.arrayValue,t)}}class Lu extends xu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!au(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>$c(this.value.arrayValue,e)))}}class zu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=a,this.ce=null}}function ju(e){return new zu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Fu(e){const t=Hl(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Iu(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Ec(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>nu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>nu(e))).join(",")),t.ce=e}return t.ce}function Bu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!_u(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!ku(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yu(e.startAt,t.startAt)&&yu(e.endAt,t.endAt)}function Vu(e){return dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Uu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function qu(e,t,n,i,r,s,a,o){return new Uu(e,t,n,i,r,s,a,o)}function Hu(e){return new Uu(e)}function Gu(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wu(e){return null!==e.collectionGroup}function Ku(e){const t=Hl(e);if(null===t.le){t.le=[];const e=new Set;for(const r of t.explicitOrderBy)t.le.push(r),e.add(r.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",i=function(e){let t=new Lc(hc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);i.forEach((i=>{e.has(i.canonicalString())||i.isKeyField()||t.le.push(new vu(i,n))})),e.has(hc.keyField().canonicalString())||t.le.push(new vu(hc.keyField(),n))}return t.le}function Yu(e){const t=Hl(e);return t.he||(t.he=Zu(t,Ku(e))),t.he}function Zu(e,t){if("F"===e.limitType)return ju(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new vu(e.field,t)}));const n=e.endAt?new mu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new mu(e.startAt.position,e.startAt.inclusive):null;return ju(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}function Xu(e,t){const n=e.filters.concat([t]);return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qu(e,t,n){return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ju(e,t){return Bu(Yu(e),Yu(t))&&e.limitType===t.limitType}function $u(e){return"".concat(Fu(Yu(e)),"|lt:").concat(e.limitType)}function eh(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Cu(e))).join(", "),"]")),Ec(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>nu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>nu(e))).join(",")),"Target(".concat(t,")")}(Yu(e)),"; limitType=").concat(e.limitType,")")}function th(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ku(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const i=gu(e,t,n);return e.inclusive?i<=0:i<0}(e.startAt,Ku(e),t))&&!(e.endAt&&!function(e,t,n){const i=gu(e,t,n);return e.inclusive?i>=0:i>0}(e.endAt,Ku(e),t))}(e,t)}function nh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ih(e){return(t,n)=>{let i=!1;for(const r of Ku(e)){const e=rh(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function rh(e,t,n){const i=e.field.isKeyField()?dc.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?eu(i,r):Ul()}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return Ul()}}class sh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Nc(this.inner,((t,n)=>{for(const[i,r]of n)e(i,r)}))}isEmpty(){return Mc(this.inner)}size(){return this.innerSize}}const ah=new Rc(dc.comparator);function oh(){return ah}const lh=new Rc(dc.comparator);function ch(){let e=lh;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.insert(r.key,r);return e}function uh(e){let t=lh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function hh(){return ph()}function dh(){return ph()}function ph(){return new sh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fh=new Rc(dc.comparator),mh=new Lc(dc.comparator);function gh(){let e=mh;for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const r of n)e=e.add(r);return e}const yh=new Lc(rc);function vh(){return yh}function _h(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tc(t)?"-0":t}}function bh(e){return{integerValue:""+e}}function xh(e,t){return Ic(t)?bh(t):_h(e,t)}class wh{constructor(){this._=void 0}}function Sh(e,t,n){return e instanceof Ih?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Gc(t)&&(t=Wc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof kh?Ch(e,t):e instanceof Ah?Ph(e,t):function(e,t){const n=Th(e,t),i=Mh(n)+Mh(e.Ie);return su(n)&&su(e.Ie)?bh(i):_h(e.serializer,i)}(e,t)}function Eh(e,t,n){return e instanceof kh?Ch(e,t):e instanceof Ah?Ph(e,t):n}function Th(e,t){return e instanceof Nh?function(e){return su(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Ih extends wh{}class kh extends wh{constructor(e){super(),this.elements=e}}function Ch(e,t){const n=Rh(t);for(const i of e.elements)n.some((e=>Jc(e,i)))||n.push(i);return{arrayValue:{values:n}}}class Ah extends wh{constructor(e){super(),this.elements=e}}function Ph(e,t){let n=Rh(t);for(const i of e.elements)n=n.filter((e=>!Jc(e,i)));return{arrayValue:{values:n}}}class Nh extends wh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Mh(e){return qc(e.integerValue||e.doubleValue)}function Rh(e){return au(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Oh{constructor(e,t){this.version=e,this.transformResults=t}}class Dh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dh}static exists(e){return new Dh(void 0,e)}static updateTime(e){return new Dh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class zh{}function jh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yh(e.key,Dh.none()):new qh(e.key,e.data,Dh.none());{const n=e.data,i=du.empty();let r=new Lc(hc.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Hh(e.key,i,new jc(r.toArray()),Dh.none())}}function Fh(e,t,n){e instanceof qh?function(e,t,n){const i=e.value.clone(),r=Wh(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Hh?function(e,t,n){if(!Lh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Wh(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Gh(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bh(e,t,n,i){return e instanceof qh?function(e,t,n,i){if(!Lh(e.precondition,t))return n;const r=e.value.clone(),s=Kh(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Hh?function(e,t,n,i){if(!Lh(e.precondition,t))return n;const r=Kh(e.fieldTransforms,i,t),s=t.data;return s.setAll(Gh(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,i):function(e,t,n){return Lh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Vh(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=Th(i.transform,e||null);null!=r&&(null===n&&(n=du.empty()),n.set(i.field,r))}return n||null}function Uh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof kh&&t instanceof kh||e instanceof Ah&&t instanceof Ah?sc(e.elements,t.elements,Jc):e instanceof Nh&&t instanceof Nh?Jc(e.Ie,t.Ie):e instanceof Ih&&t instanceof Ih}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qh extends zh{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hh extends zh{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Gh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}})),t}function Wh(e,t,n){const i=new Map;ql(e.length===n.length);for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,Eh(a,o,n[r]))}return i}function Kh(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,Sh(e,s,t))}return i}class Yh extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zh extends zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Xh{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Fh(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=dh();return this.mutations.forEach((i=>{const r=e.get(i.key),s=r.overlayedDocument;let a=this.applyToLocalView(s,r.mutatedFields);a=t.has(i.key)?null:a;const o=jh(s,a);null!==o&&n.set(i.key,o),s.isValidDocument()||s.convertToNoDocument(oc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),gh())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,((e,t)=>Uh(e,t)))&&sc(this.baseMutations,e.baseMutations,((e,t)=>Uh(e,t)))}}class Qh{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){ql(e.mutations.length===n.length);let i=fh;const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Qh(e,t,n,i)}}class Jh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class $h{constructor(e,t){this.count=e,this.unchangedNames=t}}var ed,td;function nd(e){switch(e){default:return Ul();case Gl.CANCELLED:case Gl.UNKNOWN:case Gl.DEADLINE_EXCEEDED:case Gl.RESOURCE_EXHAUSTED:case Gl.INTERNAL:case Gl.UNAVAILABLE:case Gl.UNAUTHENTICATED:return!1;case Gl.INVALID_ARGUMENT:case Gl.NOT_FOUND:case Gl.ALREADY_EXISTS:case Gl.PERMISSION_DENIED:case Gl.FAILED_PRECONDITION:case Gl.ABORTED:case Gl.OUT_OF_RANGE:case Gl.UNIMPLEMENTED:case Gl.DATA_LOSS:return!0}}function id(e){if(void 0===e)return Fl("GRPC error has no .code"),Gl.UNKNOWN;switch(e){case ed.OK:return Gl.OK;case ed.CANCELLED:return Gl.CANCELLED;case ed.UNKNOWN:return Gl.UNKNOWN;case ed.DEADLINE_EXCEEDED:return Gl.DEADLINE_EXCEEDED;case ed.RESOURCE_EXHAUSTED:return Gl.RESOURCE_EXHAUSTED;case ed.INTERNAL:return Gl.INTERNAL;case ed.UNAVAILABLE:return Gl.UNAVAILABLE;case ed.UNAUTHENTICATED:return Gl.UNAUTHENTICATED;case ed.INVALID_ARGUMENT:return Gl.INVALID_ARGUMENT;case ed.NOT_FOUND:return Gl.NOT_FOUND;case ed.ALREADY_EXISTS:return Gl.ALREADY_EXISTS;case ed.PERMISSION_DENIED:return Gl.PERMISSION_DENIED;case ed.FAILED_PRECONDITION:return Gl.FAILED_PRECONDITION;case ed.ABORTED:return Gl.ABORTED;case ed.OUT_OF_RANGE:return Gl.OUT_OF_RANGE;case ed.UNIMPLEMENTED:return Gl.UNIMPLEMENTED;case ed.DATA_LOSS:return Gl.DATA_LOSS;default:return Ul()}}(td=ed||(ed={}))[td.OK=0]="OK",td[td.CANCELLED=1]="CANCELLED",td[td.UNKNOWN=2]="UNKNOWN",td[td.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",td[td.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",td[td.NOT_FOUND=5]="NOT_FOUND",td[td.ALREADY_EXISTS=6]="ALREADY_EXISTS",td[td.PERMISSION_DENIED=7]="PERMISSION_DENIED",td[td.UNAUTHENTICATED=16]="UNAUTHENTICATED",td[td.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",td[td.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",td[td.ABORTED=10]="ABORTED",td[td.OUT_OF_RANGE=11]="OUT_OF_RANGE",td[td.UNIMPLEMENTED=12]="UNIMPLEMENTED",td[td.INTERNAL=13]="INTERNAL",td[td.UNAVAILABLE=14]="UNAVAILABLE",td[td.DATA_LOSS=15]="DATA_LOSS";let rd=null;function sd(){return new TextEncoder}const ad=new Ml([4294967295,4294967295],0);function od(e){const t=sd().encode(e),n=new Nl;return n.update(t),new Uint8Array(n.digest())}function ld(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ml([n,i],0),new Ml([r,s],0)]}class cd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ud("Invalid padding: ".concat(t));if(n<0)throw new ud("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ud("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ud("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Ml.fromNumber(this.Te)}de(e,t,n){let i=e.add(t.multiply(Ml.fromNumber(n)));return 1===i.compare(ad)&&(i=new Ml([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=od(e),[n,i]=ld(t);for(let r=0;r<this.hashCount;r++){const e=this.de(n,i,r);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new cd(r,i,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=od(e),[n,i]=ld(t);for(let r=0;r<this.hashCount;r++){const e=this.de(n,i,r);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ud extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hd{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,dd.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hd(oc.min(),i,new Rc(rc),oh(),gh())}}class dd{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dd(n,t,gh(),gh(),gh())}}class pd{constructor(e,t,n,i){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=i}}class fd{constructor(e,t){this.targetId=e,this.fe=t}}class md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bc.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class gd{constructor(){this.ge=0,this.pe=_d(),this.ye=Bc.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=gh(),t=gh(),n=gh();return this.pe.forEach(((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:Ul()}})),new dd(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=_d()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ql(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yd{constructor(e){this.Le=e,this.ke=new Map,this.qe=oh(),this.Qe=vd(),this.Ke=new Rc(rc)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Ul()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,i=this.Ye(t);if(i){const r=i.target;if(Vu(r))if(0===n){const e=new dc(r.path);this.We(t,e,fu.newNoDocument(e,oc.min()))}else ql(1===n);else{const i=this.Ze(t);if(i!==n){const n=this.Xe(e),r=n?this.et(n,e,i):1;if(0!==r){this.He(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==rd||rd.tt(function(e,t,n,i,r){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===r,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==i?void 0:i.mightContain(e))&&void 0!==t&&t}}),h}(i,e.fe,this.Le.nt(),n,r))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let s,a;try{s=Hc(n).toUint8Array()}catch(e){if(e instanceof Fc)return Bl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new cd(s,i,r)}catch(e){return Bl(e instanceof ud?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let i=0;return n.forEach((n=>{const r=this.Le.nt(),s="projects/".concat(r.projectId,"/databases/").concat(r.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),i++)})),i}it(e){const t=new Map;this.ke.forEach(((n,i)=>{const r=this.Ye(i);if(r){if(n.current&&Vu(r.target)){const t=new dc(r.target.path);null!==this.qe.get(t)||this.st(i,t)||this.We(i,t,fu.newNoDocument(t,e))}n.De&&(t.set(i,n.ve()),n.Fe())}}));let n=gh();this.Qe.forEach(((e,t)=>{let i=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)})),i&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const i=new hd(e,t,this.Ke,this.qe,n);return this.qe=oh(),this.Qe=vd(),this.Ke=new Rc(rc),i}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new gd,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Lc(rc),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||jl("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new gd),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function vd(){return new Rc(dc.comparator)}function _d(){return new Rc(dc.comparator)}const bd={asc:"ASCENDING",desc:"DESCENDING"},xd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wd={and:"AND",or:"OR"};class Sd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ed(e,t){return e.useProto3Json||Ec(t)?t:{value:t}}function Td(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Id(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kd(e,t){return Td(e,t.toTimestamp())}function Cd(e){return ql(!!e),oc.fromTimestamp(function(e){const t=Uc(e);return new ac(t.seconds,t.nanos)}(e))}function Ad(e,t){return function(e){return new cc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Pd(e){const t=cc.fromString(e);return ql(Xd(t)),t}function Nd(e,t){return Ad(e.databaseId,t.path)}function Md(e,t){const n=Pd(t);if(n.get(1)!==e.databaseId.projectId)throw new Wl(Gl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wl(Gl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dc(Ld(n))}function Rd(e,t){return Ad(e.databaseId,t)}function Od(e){const t=Pd(e);return 4===t.length?cc.emptyPath():Ld(t)}function Dd(e){return new cc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ld(e){return ql(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zd(e,t,n){return{name:Nd(e,t),fields:n.value.mapValue.fields}}function jd(e,t){let n;if(t instanceof qh)n={update:zd(e,t.key,t.value)};else if(t instanceof Yh)n={delete:Nd(e,t.key)};else if(t instanceof Hh)n={update:zd(e,t.key,t.data),updateMask:Zd(t.fieldMask)};else{if(!(t instanceof Zh))return Ul();n={verify:Nd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ih)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof kh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nh)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Ul()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ul()}(e,t.precondition)),n}function Fd(e,t){return{documents:[Rd(e,t.path)]}}function Bd(e,t){const n={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n.parent=Rd(e,i),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Rd(e,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(e){if(0!==e.length)return Yd(wu.create(e,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Wd(e.field),direction:qd(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Ed(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Vd(e){let t=Od(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){ql(1===i);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ud(e);return t instanceof wu&&Eu(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new vu(Kd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ec(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mu(n,t)}(n.endAt)),qu(t,r,a,s,o,"F",l,c)}function Ud(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Kd(e.unaryFilter.field);return xu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Kd(e.unaryFilter.field);return xu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Kd(e.unaryFilter.field);return xu.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Kd(e.unaryFilter.field);return xu.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Ul()}}(e):void 0!==e.fieldFilter?function(e){return xu.create(Kd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ul()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return wu.create(e.compositeFilter.filters.map((e=>Ud(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ul()}}(e.compositeFilter.op))}(e):Ul()}function qd(e){return bd[e]}function Hd(e){return xd[e]}function Gd(e){return wd[e]}function Wd(e){return{fieldPath:e.canonicalString()}}function Kd(e){return hc.fromServerFormat(e.fieldPath)}function Yd(e){return e instanceof xu?function(e){if("=="===e.op){if(lu(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NAN"}};if(ou(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lu(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NAN"}};if(ou(e.value))return{unaryFilter:{field:Wd(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wd(e.field),op:Hd(e.op),value:e.value}}}(e):e instanceof wu?function(e){const t=e.getFilters().map((e=>Yd(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gd(e.op),filters:t}}}(e):Ul()}function Zd(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Qd{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:oc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Qd(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jd{constructor(e){this.ut=e}}function $d(e){const t=Vd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qu(t,t.limit,"L"):t}class ep{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qc(e.integerValue));else if("doubleValue"in e){const n=qc(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Tc(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Hc(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?hu(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Ul()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const i of Object.keys(n))this.At(i,t),this.Pt(n[i],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const i of n)this.Pt(i,t)}ft(e,t){this.Tt(t,37),dc.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ep.St=new ep;class tp{constructor(){this.on=new np}addToCollectionParentIndex(e,t){return this.on.add(t),xc.resolve()}getCollectionParents(e,t){return xc.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return xc.resolve()}deleteFieldIndex(e,t){return xc.resolve()}deleteAllFieldIndexes(e){return xc.resolve()}createTargetIndexes(e,t){return xc.resolve()}getDocumentsMatchingTarget(e,t){return xc.resolve(null)}getIndexType(e,t){return xc.resolve(0)}getFieldIndexes(e,t){return xc.resolve([])}getNextCollectionGroupToUpdate(e){return xc.resolve(null)}getMinOffset(e,t){return xc.resolve(gc.min())}getMinOffsetFromCollectionGroup(e,t){return xc.resolve(gc.min())}updateCollectionGroup(e,t,n){return xc.resolve()}updateIndexEntries(e,t){return xc.resolve()}}class np{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new Lc(cc.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Lc(cc.comparator)).toArray()}}new Uint8Array(0);class ip{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ip(e,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ip.DEFAULT_COLLECTION_PERCENTILE=10,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ip.DEFAULT=new ip(41943040,ip.DEFAULT_COLLECTION_PERCENTILE,ip.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ip.DISABLED=new ip(-1,0,0);class rp{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new rp(0)}static Nn(){return new rp(-1)}}class sp{constructor(){this.changes=new sh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?xc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ap{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class op{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Bh(n.mutation,e,jc.empty(),ac.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,gh()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gh();const i=hh();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,n).next((e=>{let t=ch();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=hh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,gh())))}populateOverlays(e,t,n){const i=[];return n.forEach((e=>{t.has(e)||i.push(e)})),this.documentOverlayCache.getOverlays(e,i).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,i){let r=oh();const s=ph(),a=ph();return t.forEach(((e,t)=>{const a=n.get(t.key);i.has(t.key)&&(void 0===a||a.mutation instanceof Hh)?r=r.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Bh(a.mutation,t,a.mutation.getFieldMask(),ac.now())):s.set(t.key,jc.empty())})),this.recalculateAndSaveOverlays(e,r).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new ap(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=ph();let i=new Rc(((e,t)=>e-t)),r=gh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const r of e)r.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||jc.empty();a=r.applyToLocalView(s,a),n.set(e,a);const o=(i.get(r.batchId)||gh()).add(e);i=i.insert(r.batchId,o)}))})).next((()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const i=a.getNext(),o=i.key,l=i.value,c=dh();l.forEach((e=>{if(!r.has(e)){const i=jh(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return xc.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,i){return function(e){return dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Wu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i)}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next((r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):xc.resolve(hh());let a=-1,o=r;return s.next((t=>xc.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?xc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,r))).next((()=>this.computeViews(e,o,t,gh()))).next((e=>({batchId:a,changes:uh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dc(t)).next((e=>{let t=ch();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let s=ch();return this.indexManager.getCollectionParents(e,r).next((a=>xc.forEach(a,(a=>{const o=function(e,t){return new Uu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i)))).next((e=>{r.forEach(((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,fu.newInvalidDocument(i)))}));let n=ch();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Bh(s.mutation,i,jc.empty(),ac.now()),th(t,i)&&(n=n.insert(e,i))})),n}))}}class lp{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return xc.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Cd(e.createTime)}}(t)),xc.resolve()}getNamedQuery(e,t){return xc.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:$d(e.bundledQuery),readTime:Cd(e.readTime)}}(t)),xc.resolve()}}class cp{constructor(){this.overlays=new Rc(dc.comparator),this.lr=new Map}getOverlay(e,t){return xc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=hh();return xc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,i)=>{this.lt(e,t,i)})),xc.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.lr.get(n);return void 0!==i&&(i.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),xc.resolve()}getOverlaysForCollection(e,t,n){const i=hh(),r=t.length+1,s=new dc(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return xc.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new Rc(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=hh(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=hh(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=i)););return xc.resolve(a)}lt(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.lr.get(i.largestBatchId).delete(n.key);this.lr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Jh(t,n));let r=this.lr.get(t);void 0===r&&(r=gh(),this.lr.set(t,r)),this.lr.set(t,r.add(n.key))}}class up{constructor(){this.hr=new Lc(hp.Pr),this.Ir=new Lc(hp.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new hp(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new hp(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new dc(new cc([])),n=new hp(t,e),i=new hp(t,e+1),r=[];return this.Ir.forEachInRange([n,i],(e=>{this.dr(e),r.push(e.key)})),r}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new dc(new cc([])),n=new hp(t,e),i=new hp(t,e+1);let r=gh();return this.Ir.forEachInRange([n,i],(e=>{r=r.add(e.key)})),r}containsKey(e){const t=new hp(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class hp{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return dc.comparator(e.key,t.key)||rc(e.gr,t.gr)}static Tr(e,t){return rc(e.gr,t.gr)||dc.comparator(e.key,t.key)}}class dp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Lc(hp.Pr)}checkEmpty(e){return xc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xh(r,t,n,i);this.mutationQueue.push(s);for(const a of i)this.yr=this.yr.add(new hp(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xc.resolve(s)}lookupMutationBatch(e,t){return xc.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.Sr(n),r=i<0?0:i;return xc.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return xc.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return xc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new hp(t,0),i=new hp(t,Number.POSITIVE_INFINITY),r=[];return this.yr.forEachInRange([n,i],(e=>{const t=this.wr(e.gr);r.push(t)})),xc.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Lc(rc);return t.forEach((e=>{const t=new hp(e,0),i=new hp(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,i],(e=>{n=n.add(e.gr)}))})),xc.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;dc.isDocumentKey(r)||(r=r.child(""));const s=new hp(new dc(r),0);let a=new Lc(rc);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.gr)),!0)}),s),xc.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ql(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return xc.forEach(t.mutations,(i=>{const r=new hp(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new hp(t,0),i=this.yr.firstAfterOrEqual(n);return xc.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,xc.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class pp{constructor(e){this.Cr=e,this.docs=new Rc(dc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return xc.resolve(n?n.document.mutableCopy():fu.newInvalidDocument(t))}getEntries(e,t){let n=oh();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():fu.newInvalidDocument(e))})),xc.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=oh();const s=t.path,a=new dc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||yc(mc(a),n)<=0||(i.has(a.key)||th(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return xc.resolve(r)}getAllFromCollectionGroup(e,t,n,i){Ul()}vr(e,t){return xc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new fp(this)}getSize(e){return xc.resolve(this.size)}}class fp extends sp{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(n)})),xc.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class mp{constructor(e){this.persistence=e,this.Fr=new sh((e=>Fu(e)),Bu),this.lastRemoteSnapshotVersion=oc.min(),this.highestTargetId=0,this.Mr=0,this.Or=new up,this.targetCount=0,this.Nr=rp.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),xc.resolve()}getLastRemoteSnapshotVersion(e){return xc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xc.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),xc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),xc.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new rp(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,xc.resolve()}updateTargetData(e,t){return this.kn(t),xc.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,xc.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.Fr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)})),xc.waitFor(r).next((()=>i))}getTargetCount(e){return xc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return xc.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),xc.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach((t=>{r.push(i.markPotentiallyOrphaned(e,t))})),xc.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),xc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return xc.resolve(n)}containsKey(e,t){return xc.resolve(this.Or.containsKey(t))}}class gp{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Sc(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mp(this),this.indexManager=new tp,this.remoteDocumentCache=function(e){return new pp(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new Jd(t),this.Kr=new lp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new dp(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){jl("MemoryPersistence","Starting transaction:",e);const i=new yp(this.Lr.next());return this.referenceDelegate.$r(),n(i).next((e=>this.referenceDelegate.Ur(i).next((()=>e)))).toPromise().then((e=>(i.raiseOnCommittedEvent(),e)))}Wr(e,t){return xc.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class yp extends _c{constructor(e){super(),this.currentSequenceNumber=e}}class vp{constructor(e){this.persistence=e,this.Gr=new up,this.zr=null}static jr(e){return new vp(e)}get Hr(){if(this.zr)return this.zr;throw Ul()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),xc.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),xc.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),xc.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xc.forEach(this.Hr,(n=>{const i=dc.fromPath(n);return this.Jr(e,i).next((e=>{e||t.removeEntry(i,oc.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return xc.or([()=>xc.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class _p{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=i}static Qi(e,t){let n=gh(),i=gh();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new _p(e,t.fromCache,n,i)}}class bp{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class xp{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.zi(e,t).next((e=>{r.result=e})).next((()=>{if(!r.result)return this.ji(e,t,i,n).next((e=>{r.result=e}))})).next((()=>{if(r.result)return;const n=new bp;return this.Hi(e,t,n).next((i=>{if(r.result=i,this.$i)return this.Ji(e,t,n,i.size)}))})).next((()=>r.result))}Ji(e,t,n,i){return n.documentReadCount<this.Ui?(zl()<=mi.DEBUG&&jl("QueryEngine","SDK will not create cache indexes for query:",eh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),xc.resolve()):(zl()<=mi.DEBUG&&jl("QueryEngine","Query:",eh(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Wi*i?(zl()<=mi.DEBUG&&jl("QueryEngine","The SDK decides to create cache indexes for query:",eh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yu(t))):xc.resolve())}zi(e,t){if(Gu(t))return xc.resolve(null);let n=Yu(t);return this.indexManager.getIndexType(e,n).next((i=>0===i?null:(null!==t.limit&&1===i&&(t=Qu(t,null,"F"),n=Yu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((i=>{const r=gh(...i);return this.Gi.getDocuments(e,r).next((i=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,i);return this.Zi(t,s,r,n.readTime)?this.zi(e,Qu(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,i){return Gu(t)||i.isEqual(oc.min())?xc.resolve(null):this.Gi.getDocuments(e,n).next((r=>{const s=this.Yi(t,r);return this.Zi(t,s,n,i)?xc.resolve(null):(zl()<=mi.DEBUG&&jl("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),eh(t)),this.Xi(e,s,t,fc(i,-1)).next((e=>e)))}))}Yi(e,t){let n=new Lc(ih(e));return t.forEach(((t,i)=>{th(e,i)&&(n=n.add(i))})),n}Zi(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Hi(e,t,n){return zl()<=mi.DEBUG&&jl("QueryEngine","Using full collection scan to execute query:",eh(t)),this.Gi.getDocumentsMatchingQuery(e,t,gc.min(),n)}Xi(e,t,n,i){return this.Gi.getDocumentsMatchingQuery(e,n,i).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class wp{constructor(e,t,n,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new Rc(rc),this.ns=new sh((e=>Fu(e)),Bu),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new op(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Sp(e,t,n,i){return new wp(e,t,n,i)}async function Ep(e,t){const n=Hl(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next((r=>(i=r,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const r=[],s=[];let a=gh();for(const e of i){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:r,addedBatchIds:s})))}))}))}function Tp(e){const t=Hl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Ip(e,t,n){let i=gh(),r=gh();return n.forEach((e=>i=i.add(e))),t.getEntries(e,i).next((e=>{let i=oh();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(oc.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):jl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{us:i,cs:r}}))}function kp(e,t){const n=Hl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Cp(e,t){const n=Hl(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let i;return n.qr.getTargetData(e,t).next((r=>r?(i=r,xc.resolve(i)):n.qr.allocateTargetId(e).next((r=>(i=new Qd(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,i).next((()=>i)))))))})).then((e=>{const i=n.ts.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function Ap(e,t,n){const i=Hl(e),r=i.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,(e=>i.persistence.referenceDelegate.removeTarget(e,r)))}catch(e){if(!wc(e))throw e;jl("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}i.ts=i.ts.remove(t),i.ns.delete(r.target)}function Pp(e,t,n){const i=Hl(e);let r=oc.min(),s=gh();return i.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const i=Hl(e),r=i.ns.get(n);return void 0!==r?xc.resolve(i.ts.get(r)):i.qr.getTargetData(t,n)}(i,e,Yu(t)).next((t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>i.es.getDocumentsMatchingQuery(e,t,n?r:oc.min(),n?s:gh()))).next((e=>(Np(i,nh(t),e),{documents:e,ls:s})))))}function Np(e,t,n){let i=e.rs.get(t)||oc.min();n.forEach(((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)})),e.rs.set(t,i)}class Mp{constructor(){this.activeTargetIds=vh()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rp{constructor(){this.eo=new Mp,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Mp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Op{ro(e){}shutdown(){}}class Dp{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){jl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){jl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Lp=null;function zp(){return null===Lp?Lp=268435456+Math.round(2147483648*Math.random()):Lp++,"0x"+Lp.toString(16)}const jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Fp{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Bp="WebChannelConnection";class Vp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(i),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(i)}get yo(){return!1}wo(e,t,n,i,r){const s=zp(),a=this.So(e,t);jl("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(o,i,r),this.Do(e,a,o,n).then((t=>(jl("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Bl("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Co(e,t,n,i,r,s){return this.wo(e,t,n,i,r)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Dl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=jp[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,i){const r=zp();return new Promise(((s,a)=>{const o=new Pl;o.setWithCredentials(!0),o.listenOnce(Il.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Tl.NO_ERROR:const t=o.getResponseJson();jl(Bp,"XHR for RPC '".concat(e,"' ").concat(r," received:"),JSON.stringify(t)),s(t);break;case Tl.TIMEOUT:jl(Bp,"RPC '".concat(e,"' ").concat(r," timed out")),a(new Wl(Gl.DEADLINE_EXCEEDED,"Request time out"));break;case Tl.HTTP_ERROR:const n=o.getStatus();if(jl(Bp,"RPC '".concat(e,"' ").concat(r," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Gl).indexOf(t)>=0?t:Gl.UNKNOWN}(t.status);a(new Wl(e,t.message))}else a(new Wl(Gl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wl(Gl.UNAVAILABLE,"Connection failed."));break;default:Ul()}}finally{jl(Bp,"RPC '".concat(e,"' ").concat(r," completed."))}}));const l=JSON.stringify(i);jl(Bp,"RPC '".concat(e,"' ").concat(r," sending request:"),i),o.send(t,"POST",l,n,15)}))}vo(e,t,n){const i=zp(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sl(),a=El(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.bo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");jl(Bp,"Creating RPC '".concat(e,"' stream ").concat(i,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const p=new Fp({co:t=>{d?jl(Bp,"Not sending because RPC '".concat(e,"' stream ").concat(i," is closed:"),t):(h||(jl(Bp,"Opening RPC '".concat(e,"' stream ").concat(i," transport.")),u.open(),h=!0),jl(Bp,"RPC '".concat(e,"' stream ").concat(i," sending:"),t),u.send(t))},lo:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Al.EventType.OPEN,(()=>{d||jl(Bp,"RPC '".concat(e,"' stream ").concat(i," transport opened."))})),f(u,Al.EventType.CLOSE,(()=>{d||(d=!0,jl(Bp,"RPC '".concat(e,"' stream ").concat(i," transport closed")),p.Ro())})),f(u,Al.EventType.ERROR,(t=>{d||(d=!0,Bl(Bp,"RPC '".concat(e,"' stream ").concat(i," transport errored:"),t),p.Ro(new Wl(Gl.UNAVAILABLE,"The operation could not be completed")))})),f(u,Al.EventType.MESSAGE,(t=>{var n;if(!d){const r=t.data[0];ql(!!r);const s=r,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){jl(Bp,"RPC '".concat(e,"' stream ").concat(i," received error:"),a);const t=a.status;let n=function(e){const t=ed[e];if(void 0!==t)return id(t)}(t),r=a.message;void 0===n&&(n=Gl.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),d=!0,p.Ro(new Wl(n,r)),u.close()}else jl(Bp,"RPC '".concat(e,"' stream ").concat(i," received:"),r),p.Vo(r)}})),f(a,kl.STAT_EVENT,(t=>{t.stat===Cl.PROXY?jl(Bp,"RPC '".concat(e,"' stream ").concat(i," detected buffering proxy")):t.stat===Cl.NOPROXY&&jl(Bp,"RPC '".concat(e,"' stream ").concat(i," detected no buffering proxy"))})),setTimeout((()=>{p.Ao()}),0),p}}function Up(){return"undefined"!=typeof document?document:null}function qp(e){return new Sd(e,!0)}class Hp{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=i,this.xo=r,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-n);i>0&&jl("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,i,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Gp{constructor(e,t,n,i,r,s,a,o){this.si=e,this.Ko=n,this.$o=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Hp(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Gl.RESOURCE_EXHAUSTED?(Fl(t.toString()),Fl("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Gl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,i]=e;this.Uo===t&&this.s_(n,i)}),(t=>{e((()=>{const e=new Wl(Gl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return jl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(jl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Wp extends Gp{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const i=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ul()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ql(void 0===t||"string"==typeof t),Bc.fromBase64String(t||"")):(ql(void 0===t||t instanceof Uint8Array),Bc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Gl.UNKNOWN:id(e.code);return new Wl(t,e.message||"")}(a);n=new md(i,r,s,o||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=Md(e,i.document.name),s=Cd(i.document.updateTime),a=i.document.createTime?Cd(i.document.createTime):oc.min(),o=new du({mapValue:{fields:i.document.fields}}),l=fu.newFoundDocument(r,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];n=new pd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=Md(e,i.document),s=i.readTime?Cd(i.readTime):oc.min(),a=fu.newNoDocument(r,s),o=i.removedTargetIds||[];n=new pd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=Md(e,i.document),s=i.removedTargetIds||[];n=new pd([],s,r,null)}else{if(!("filter"in t))return Ul();{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new $h(i,r),a=e.targetId;n=new fd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return oc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oc.min():t.readTime?Cd(t.readTime):oc.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Dd(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Vu(i)?{documents:Fd(e,i)}:{query:Bd(e,i)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Id(e,t.resumeToken);const i=Ed(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(oc.min())>0){n.readTime=Td(e,t.snapshotVersion.toTimestamp());const i=Ed(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ul()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Dd(this.serializer),t.removeTarget=e,this.e_(t)}}class Kp extends Gp{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ql(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(ql(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Cd(e.updateTime):Cd(t);return n.isEqual(oc.min())&&(n=Cd(t)),new Oh(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Cd(e.commitTime);return this.listener.I_(n,t)}return ql(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Dd(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>jd(this.serializer,e)))};this.e_(t)}}class Yp extends class{}{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new Wl(Gl.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[r,s]=i;return this.connection.wo(e,t,n,r,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Gl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wl(Gl.UNKNOWN,e.toString())}))}Co(e,t,n,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[s,a]=r;return this.connection.Co(e,t,n,s,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Gl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wl(Gl.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Zp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Fl(t),this.f_=!1):jl("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class Xp{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=r,this.F_.ro((e=>{n.enqueueAndForget((async()=>{af(this)&&(jl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Hl(e);t.C_.add(4),await Jp(t),t.M_.set("Unknown"),t.C_.delete(4),await Qp(t)}(this))}))})),this.M_=new Zp(n,i)}}async function Qp(e){if(af(e))for(const t of e.v_)await t(!0)}async function Jp(e){for(const t of e.v_)await t(!1)}function $p(e,t){const n=Hl(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),sf(n)?rf(n):Ef(n).Ho()&&tf(n,t))}function ef(e,t){const n=Hl(e),i=Ef(n);n.D_.delete(t),i.Ho()&&nf(n,t),0===n.D_.size&&(i.Ho()?i.Zo():af(n)&&n.M_.set("Unknown"))}function tf(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ef(e).u_(t)}function nf(e,t){e.x_.Oe(t),Ef(e).c_(t)}function rf(e){e.x_=new yd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Ef(e).start(),e.M_.g_()}function sf(e){return af(e)&&!Ef(e).jo()&&e.D_.size>0}function af(e){return 0===Hl(e).C_.size}function of(e){e.x_=void 0}async function lf(e){e.D_.forEach(((t,n)=>{tf(e,t)}))}async function cf(e,t){of(e),sf(e)?(e.M_.w_(t),rf(e)):e.M_.set("Unknown")}async function uf(e,t,n){if(e.M_.set("Online"),t instanceof md&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.D_.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.D_.delete(i),e.x_.removeTarget(i))}(e,t)}catch(n){jl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await hf(e,n)}else if(t instanceof pd?e.x_.$e(t):t instanceof fd?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(oc.min()))try{const t=await Tp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.D_.get(i);r&&e.D_.set(i,r.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const i=e.D_.get(t);if(!i)return;e.D_.set(t,i.withResumeToken(Bc.EMPTY_BYTE_STRING,i.snapshotVersion)),nf(e,t);const r=new Qd(i.target,t,n,i.sequenceNumber);tf(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){jl("RemoteStore","Failed to raise snapshot:",t),await hf(e,t)}}async function hf(e,t,n){if(!wc(t))throw t;e.C_.add(1),await Jp(e),e.M_.set("Offline"),n||(n=()=>Tp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{jl("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await Qp(e)}))}function df(e,t){return t().catch((n=>hf(e,n,t)))}async function pf(e){const t=Hl(e),n=Tf(t);let i=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;ff(t);)try{const e=await kp(t.localStore,i);if(null===e){0===t.b_.length&&n.Zo();break}i=e.batchId,mf(t,e)}catch(e){await hf(t,e)}gf(t)&&yf(t)}function ff(e){return af(e)&&e.b_.length<10}function mf(e,t){e.b_.push(t);const n=Tf(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function gf(e){return af(e)&&!Tf(e).jo()&&e.b_.length>0}function yf(e){Tf(e).start()}async function vf(e){Tf(e).E_()}async function _f(e){const t=Tf(e);for(const n of e.b_)t.P_(n.mutations)}async function bf(e,t,n){const i=e.b_.shift(),r=Qh.from(i,t,n);await df(e,(()=>e.remoteSyncer.applySuccessfulWrite(r))),await pf(e)}async function xf(e,t){t&&Tf(e).h_&&await async function(e,t){if(function(e){return nd(e)&&e!==Gl.ABORTED}(t.code)){const n=e.b_.shift();Tf(e).Yo(),await df(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await pf(e)}}(e,t),gf(e)&&yf(e)}async function wf(e,t){const n=Hl(e);n.asyncQueue.verifyOperationInProgress(),jl("RemoteStore","RemoteStore received new credentials");const i=af(n);n.C_.add(3),await Jp(n),i&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await Qp(n)}async function Sf(e,t){const n=Hl(e);t?(n.C_.delete(2),await Qp(n)):t||(n.C_.add(2),await Jp(n),n.M_.set("Unknown"))}function Ef(e){return e.O_||(e.O_=function(e,t,n){const i=Hl(e);return i.A_(),new Wp(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{ho:lf.bind(null,e),Io:cf.bind(null,e),a_:uf.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),sf(e)?rf(e):e.M_.set("Unknown")):(await e.O_.stop(),of(e))}))),e.O_}function Tf(e){return e.N_||(e.N_=function(e,t,n){const i=Hl(e);return i.A_(),new Kp(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{ho:vf.bind(null,e),Io:xf.bind(null,e),T_:_f.bind(null,e),I_:bf.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await pf(e)):(await e.N_.stop(),e.b_.length>0&&(jl("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class If{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Kl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,a=new If(e,t,s,i,r);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wl(Gl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kf(e,t){if(Fl("AsyncQueue","".concat(t,": ").concat(e)),wc(e))return new Wl(Gl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Cf{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dc.comparator(t.key,n.key):(e,t)=>dc.comparator(e.key,t.key),this.keyedMap=ch(),this.sortedSet=new Rc(this.comparator)}static emptySet(e){return new Cf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Cf))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Cf;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Af{constructor(){this.B_=new Rc(dc.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Ul():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Pf{constructor(e,t,n,i,r,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Pf(e,t,Cf.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}class Nf{constructor(){this.k_=void 0,this.listeners=[]}}class Mf{constructor(){this.queries=new sh((e=>$u(e)),Ju),this.onlineState="Unknown",this.q_=new Set}}async function Rf(e,t){const n=Hl(e),i=t.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new Nf),r)try{s.k_=await n.onListen(i)}catch(e){const n=kf(e,"Initialization of query '".concat(eh(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&zf(n)}async function Of(e,t){const n=Hl(e),i=t.query;let r=!1;const s=n.queries.get(i);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}function Df(e,t){const n=Hl(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(r)&&(i=!0);t.k_=r}}i&&zf(n)}function Lf(e,t,n){const i=Hl(e),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(t)}function zf(e){e.q_.forEach((e=>{e.next()}))}class jf{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Pf(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=Pf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ff{constructor(e){this.key=e}}class Bf{constructor(e){this.key=e}}class Vf{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=gh(),this.mutatedKeys=gh(),this._a=ih(e),this.aa=new Cf(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new Af,i=t?t.aa:this.aa;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((e,t)=>{const c=i.get(e),u=th(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.ha(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this._a(u,o)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(s=s.add(u),r=d?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:a,mutatedKeys:r}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ul()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),i=null!=i&&i;const a=t&&!i?this.Ia():[],o=0===this.oa.size&&this.current&&!i?1:0,l=o!==this.sa;return this.sa=o,0!==s.length||l?{snapshot:new Pf(this.query,e.aa,r,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new Af,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=gh(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new Bf(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new Ff(n))})),t}da(e){this.ia=e.ls,this.oa=gh();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Pf.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Uf{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class qf{constructor(e){this.key=e,this.Ra=!1}}class Hf{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new sh((e=>$u(e)),Ju),this.fa=new Map,this.ga=new Set,this.pa=new Rc(dc.comparator),this.ya=new Map,this.wa=new up,this.Sa={},this.ba=new Map,this.Da=rp.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Gf(e,t){const n=cm(e);let i,r;const s=n.ma.get(t);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.Aa();else{const e=await Cp(n.localStore,Yu(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);i=e.targetId,r=await Wf(n,t,i,"current"===s,e.resumeToken),n.isPrimaryClient&&$p(n.remoteStore,e)}return r}async function Wf(e,t,n,i,r){e.va=(t,n,i)=>async function(e,t,n,i){let r=t.view.ca(n);r.Zi&&(r=await Pp(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,r)})));const s=i&&i.targetChanges.get(t.targetId),a=i&&null!=i.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s,a);return im(e,t.targetId,o.Ta),o.snapshot}(e,t,n,i);const s=await Pp(e.localStore,t,!0),a=new Vf(t,s.ls),o=a.ca(s.documents),l=dd.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);im(e,n,c.Ta);const u=new Uf(t,n,a);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function Kf(e,t){const n=Hl(e),i=n.ma.get(t),r=n.fa.get(i.targetId);if(r.length>1)return n.fa.set(i.targetId,r.filter((e=>!Ju(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await Ap(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),ef(n.remoteStore,i.targetId),tm(n,i.targetId)})).catch(bc)):(tm(n,i.targetId),await Ap(n.localStore,i.targetId,!0))}async function Yf(e,t){const n=Hl(e);try{const e=await function(e,t){const n=Hl(e),i=t.snapshotVersion;let r=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});r=n.ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=r.get(o);if(!l)return;a.push(n.qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Bc.EMPTY_BYTE_STRING,oc.min()).withLastLimboFreeSnapshotVersion(oc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.qr.updateTargetData(e,c))}));let o=oh(),l=gh();if(t.documentUpdates.forEach((i=>{t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))})),a.push(Ip(e,s,t.documentUpdates).next((e=>{o=e.us,l=e.cs}))),!i.isEqual(oc.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,i)));a.push(t)}return xc.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ts=r,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const i=n.ya.get(t);i&&(ql(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?i.Ra=!0:e.modifiedDocuments.size>0?ql(i.Ra):e.removedDocuments.size>0&&(ql(i.Ra),i.Ra=!1))})),await am(n,e,t)}catch(e){await bc(e)}}function Zf(e,t,n){const i=Hl(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.ma.forEach(((n,i)=>{const r=i.view.Q_(t);r.snapshot&&e.push(r.snapshot)})),function(e,t){const n=Hl(e);n.onlineState=t;let i=!1;n.queries.forEach(((e,n)=>{for(const r of n.listeners)r.Q_(t)&&(i=!0)})),i&&zf(n)}(i.eventManager,t),e.length&&i.Va.a_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Xf(e,t,n){const i=Hl(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.ya.get(t),s=r&&r.key;if(s){let e=new Rc(dc.comparator);e=e.insert(s,fu.newNoDocument(s,oc.min()));const n=gh().add(s),r=new hd(oc.min(),new Map,new Rc(rc),e,n);await Yf(i,r),i.pa=i.pa.remove(s),i.ya.delete(t),sm(i)}else await Ap(i.localStore,t,!1).then((()=>tm(i,t,n))).catch(bc)}async function Qf(e,t){const n=Hl(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Hl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const i=t.batch.keys(),r=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let a=xc.resolve();return s.forEach((e=>{a=a.next((()=>i.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ql(null!==s),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,r)))}(n,e,t,r).next((()=>r.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=gh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(n.localStore,t);em(n,i,null),$f(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await am(n,e)}catch(e){await bc(e)}}async function Jf(e,t,n){const i=Hl(e);try{const e=await function(e,t){const n=Hl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ql(null!==t),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i))).next((()=>n.localDocuments.getDocuments(e,i)))}))}(i.localStore,t);em(i,t,n),$f(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await am(i,e)}catch(n){await bc(n)}}function $f(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function em(e,t,n){const i=Hl(e);let r=i.Sa[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Sa[i.currentUser.toKey()]=r}}function tm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.fa.get(t))e.ma.delete(i),n&&e.Va.Fa(i,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||nm(e,t)}))}function nm(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(ef(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),sm(e))}function im(e,t,n){for(const i of n)i instanceof Ff?(e.wa.addReference(i.key,t),rm(e,i)):i instanceof Bf?(jl("SyncEngine","Document no longer in limbo: "+i.key),e.wa.removeReference(i.key,t),e.wa.containsKey(i.key)||nm(e,i.key)):Ul()}function rm(e,t){const n=t.key,i=n.path.canonicalString();e.pa.get(n)||e.ga.has(i)||(jl("SyncEngine","New document in limbo: "+n),e.ga.add(i),sm(e))}function sm(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new dc(cc.fromString(t)),i=e.Da.next();e.ya.set(i,new qf(n)),e.pa=e.pa.insert(n,i),$p(e.remoteStore,new Qd(Yu(Hu(n.path)),i,"TargetPurposeLimboResolution",Sc._e))}}async function am(e,t,n){const i=Hl(e),r=[],s=[],a=[];i.ma.isEmpty()||(i.ma.forEach(((e,o)=>{a.push(i.va(o,t,n).then((e=>{if((e||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){r.push(e);const t=_p.Qi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),i.Va.a_(r),await async function(e,t){const n=Hl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>xc.forEach(t,(t=>xc.forEach(t.ki,(i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i))).next((()=>xc.forEach(t.qi,(i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))))))}catch(e){if(!wc(e))throw e;jl("LocalStore","Failed to update sequence numbers: "+e)}for(const i of t){const e=i.targetId;if(!i.fromCache){const t=n.ts.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.ts=n.ts.insert(e,r)}}}(i.localStore,s))}async function om(e,t){const n=Hl(e);if(!n.currentUser.isEqual(t)){jl("SyncEngine","User change. New user:",t.toKey());const e=await Ep(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Wl(Gl.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await am(n,e._s)}}function lm(e,t){const n=Hl(e),i=n.ya.get(t);if(i&&i.Ra)return gh().add(i.key);{let e=gh();const i=n.fa.get(t);if(!i)return e;for(const t of i){const i=n.ma.get(t);e=e.unionWith(i.view.ua)}return e}}function cm(e){const t=Hl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yf.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Xf.bind(null,t),t.Va.a_=Df.bind(null,t.eventManager),t.Va.Fa=Lf.bind(null,t.eventManager),t}function um(e){const t=Hl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qf.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jf.bind(null,t),t}class hm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Sp(this.persistence,new xp,e.initialUser,this.serializer)}createPersistence(e){return new gp(vp.jr,this.serializer)}createSharedClientState(e){return new Rp}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class dm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Zf(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=om.bind(null,this.syncEngine),await Sf(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Mf}createDatastore(e){const t=qp(e.databaseInfo.databaseId),n=function(e){return new Vp(e)}(e.databaseInfo);return function(e,t,n,i){return new Yp(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,i,r){return new Xp(e,t,n,i,r)}(this.localStore,this.datastore,e.asyncQueue,(e=>Zf(this.syncEngine,e,0)),Dp.D()?new Dp:new Op)}createSyncEngine(e,t){return function(e,t,n,i,r,s,a){const o=new Hf(e,t,n,i,r,s);return a&&(o.Ca=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Hl(e);jl("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Jp(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}class pm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Fl("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class fm{constructor(e,t,n,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=Ol.UNAUTHENTICATED,this.clientId=ic.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{jl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(jl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wl(Gl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=kf(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function mm(e,t){e.asyncQueue.verifyOperationInProgress(),jl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener((async e=>{i.isEqual(e)||(await Ep(t.localStore,e),i=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await vm(e);jl("FirestoreClient","Initializing OnlineComponentProvider");const i=await e.getConfiguration();await t.initialize(n,i),e.setCredentialChangeListener((e=>wf(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>wf(t.remoteStore,n))),e._onlineComponents=t}function ym(e){return"FirebaseError"===e.name?e.code===Gl.FAILED_PRECONDITION||e.code===Gl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function vm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jl("FirestoreClient","Using user provided OfflineComponentProvider");try{await mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ym(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await mm(e,new hm)}}else jl("FirestoreClient","Using default OfflineComponentProvider"),await mm(e,new hm);return e._offlineComponents}async function _m(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jl("FirestoreClient","Using user provided OnlineComponentProvider"),await gm(e,e._uninitializedComponentsProvider._online)):(jl("FirestoreClient","Using default OnlineComponentProvider"),await gm(e,new dm))),e._onlineComponents}function bm(e){return _m(e).then((e=>e.syncEngine))}async function xm(e){const t=await _m(e),n=t.eventManager;return n.onListen=Gf.bind(null,t.syncEngine),n.onUnlisten=Kf.bind(null,t.syncEngine),n}function wm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Kl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new pm({next:s=>{t.enqueueAndForget((()=>Of(e,a)));const o=s.docs.has(n);!o&&s.fromCache?r.reject(new Wl(Gl.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&i&&"server"===i.source?r.reject(new Wl(Gl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(s)},error:e=>r.reject(e)}),a=new jf(Hu(n.path),s,{includeMetadataChanges:!0,J_:!0});return Rf(e,a)}(await xm(e),e.asyncQueue,t,n,i))),i.promise}function Sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Kl;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,i,r){const s=new pm({next:n=>{t.enqueueAndForget((()=>Of(e,a))),n.fromCache&&"server"===i.source?r.reject(new Wl(Gl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new jf(n,s,{includeMetadataChanges:!0,J_:!0});return Rf(e,a)}(await xm(e),e.asyncQueue,t,n,i))),i.promise}function Em(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tm=new Map;function Im(e,t,n){if(!n)throw new Wl(Gl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function km(e){if(!dc.isDocumentKey(e))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Cm(e){if(dc.isDocumentKey(e))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Am(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ul()}function Pm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wl(Gl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Am(e);throw new Wl(Gl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Nm(e,t){if(t<=0)throw new Wl(Gl.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Mm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Wl(Gl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wl(Gl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new Wl(Gl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Em(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Wl(Gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Wl(Gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Wl(Gl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rm{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Wl(Gl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wl(Gl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zl;switch(e.type){case"firstParty":return new $l(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wl(Gl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tm.get(e);t&&(jl("ComponentProvider","Removing Datastore"),Tm.delete(e),t.terminate())}(this),Promise.resolve()}}class Om{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Om(this.firestore,e,this._query)}}class Dm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dm(this.firestore,e,this._key)}}class Lm extends Om{constructor(e,t,n){super(e,t,Hu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dm(this.firestore,null,new dc(e))}withConverter(e){return new Lm(this.firestore,e,this._path)}}function zm(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=li(e),Im("collection","path",t),e instanceof Rm){const n=cc.fromString(t,...i);return Cm(n),new Lm(e,null,n)}{if(!(e instanceof Dm||e instanceof Lm))throw new Wl(Gl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cc.fromString(t,...i));return Cm(n),new Lm(e.firestore,null,n)}}function jm(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(e=li(e),1===arguments.length&&(t=ic.newId()),Im("doc","path",t),e instanceof Rm){const n=cc.fromString(t,...i);return km(n),new Dm(e,null,new dc(n))}{if(!(e instanceof Dm||e instanceof Lm))throw new Wl(Gl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cc.fromString(t,...i));return km(n),new Dm(e.firestore,e instanceof Lm?e.converter:null,new dc(n))}}class Fm{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Hp(this,"async_queue_retry"),this.iu=()=>{const e=Up();e&&jl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Up();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Up();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Kl;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!wc(e))throw e;jl("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Fl("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=If.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(i),i}su(){this.eu&&Ul()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}class Bm extends Rm{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new Fm,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Um(this),this._firestoreClient.terminate()}}function Vm(e){return e._firestoreClient||Um(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Um(e){var t,n,i;const r=e._freezeSettings(),s=function(e,t,n,i){return new Yc(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Em(i.experimentalLongPollingOptions),i.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,r);e._firestoreClient=new fm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=r.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(i=r.localCache)||void 0===i?void 0:i._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class qm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qm(Bc.fromBase64String(e))}catch(e){throw new Wl(Gl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qm(Bc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Hm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Gm{constructor(e){this._methodName=e}}class Wm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wl(Gl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wl(Gl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return rc(this._lat,e._lat)||rc(this._long,e._long)}}const Km=/^__.*__$/;class Ym{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Hh(e,this.data,this.fieldMask,t,this.fieldTransforms):new qh(e,this.data,t,this.fieldTransforms)}}function Zm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ul()}}class Xm{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Pu(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Xm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:n,du:!1});return i.Au(e),i}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:n,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return lg(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(Zm(this.Iu)&&Km.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Qm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||qp(e)}pu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xm({Iu:e,methodName:t,gu:n,path:hc.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(e){const t=e._freezeSettings(),n=qp(e._databaseId);return new Qm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $m(e,t,n,i,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.pu(s.merge||s.mergeFields?2:0,t,n,r);rg("Data must be an object, but it was:",a,i);const o=ng(i,a);let l,c;if(s.merge)l=new jc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=sg(t,i,n);if(!a.contains(r))throw new Wl(Gl.INVALID_ARGUMENT,"Field '".concat(r,"' is specified in your field mask but missing from your input data."));cg(e,r)||e.push(r)}l=new jc(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Ym(new du(o),l,c)}function eg(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return tg(n,e.pu(i?4:3,t))}function tg(e,t){if(ig(e=li(e)))return rg("Unsupported field value:",t,e),ng(e,t);if(e instanceof Gm)return function(e,t){if(!Zm(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=tg(r,t.Vu(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ac.fromDate(e);return{timestampValue:Td(t.serializer,n)}}if(e instanceof ac){const n=new ac(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Td(t.serializer,n)}}if(e instanceof Wm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qm)return{bytesValue:Id(t.serializer,e._byteString)};if(e instanceof Dm){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.mu("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Ad(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(Am(e)))}(e,t)}function ng(e,t){const n={};return Mc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Nc(e,((e,i)=>{const r=tg(i,t.Eu(e));null!=r&&(n[e]=r)})),{mapValue:{fields:n}}}function ig(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ac||e instanceof Wm||e instanceof qm||e instanceof Dm||e instanceof Gm)}function rg(e,t,n){if(!ig(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const i=Am(n);throw"an object"===i?t.mu(e+" a custom object"):t.mu(e+" "+i)}}function sg(e,t,n){if((t=li(t))instanceof Hm)return t._internalPath;if("string"==typeof t)return og(e,t);throw lg("Field path arguments must be of type string or ",e,!1,void 0,n)}const ag=new RegExp("[~\\*/\\[\\]]");function og(e,t,n){if(t.search(ag)>=0)throw lg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Hm(...t.split("."))._internalPath}catch(Ir){throw lg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function lg(e,t,n,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(i)),a&&(l+=" in document ".concat(r)),l+=")"),new Wl(Gl.INVALID_ARGUMENT,o+e+l)}function cg(e,t){return e.some((e=>e.isEqual(t)))}class ug{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Dm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new hg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(dg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class hg extends ug{data(){return super.data()}}function dg(e,t){return"string"==typeof t?og(e,t):t instanceof Hm?t._internalPath:t._delegate._internalPath}function pg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wl(Gl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class mg extends fg{}function gg(e,t){let n=[];for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];t instanceof fg&&n.push(t),n=n.concat(r),function(e){const t=e.filter((e=>e instanceof _g)).length,n=e.filter((e=>e instanceof yg)).length;if(t>1||t>0&&n>0)throw new Wl(Gl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class yg extends mg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new yg(e,t,n)}_apply(e){const t=this._parse(e);return kg(e._query,t),new Om(e.firestore,e.converter,Xu(e._query,t))}_parse(e){const t=Jm(e.firestore),n=function(e,t,n,i,r,s,a){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Ig(a,s);const t=[];for(const n of a)t.push(Tg(i,e,n));o={arrayValue:{values:t}}}else o=Tg(i,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Ig(a,s),o=eg(n,t,a,"in"===s||"not-in"===s);return xu.create(r,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function vg(e,t,n){const i=t,r=dg("where",e);return yg._create(r,i,n)}class _g extends fg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:wu.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)kg(n,r),n=Xu(n,r)}(e._query,t),new Om(e.firestore,e.converter,Xu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bg extends mg{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new bg(e,t,n)}_apply(e){return new Om(e.firestore,e.converter,Qu(e._query,this._limit,this._limitType))}}function xg(e){return Nm("limit",e),bg._create("limit",e,"F")}class wg extends mg{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new wg(e,t,n)}_apply(e){const t=Eg(e,this.type,this._docOrFields,this._inclusive);return new Om(e.firestore,e.converter,function(e,t){return new Uu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function Sg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return wg._create("startAfter",t,!1)}function Eg(e,t,n,i){if(n[0]=li(n[0]),n[0]instanceof ug)return function(e,t,n,i,r){if(!i)throw new Wl(Gl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of Ku(e))if(a.field.isKeyField())s.push(ru(t,i.key));else{const e=i.data.field(a.field);if(Gc(e))throw new Wl(Gl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new mu(s,r)}(e._query,e.firestore._databaseId,t,n[0]._document,i);{const r=Jm(e.firestore);return function(e,t,n,i,r,s){const a=e.explicitOrderBy;if(r.length>a.length)throw new Wl(Gl.INVALID_ARGUMENT,"Too many arguments provided to ".concat(i,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<r.length;l++){const s=r[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(i,"(), but got a ").concat(typeof s));if(!Wu(e)&&-1!==s.indexOf("/"))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(i,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(cc.fromString(s));if(!dc.isDocumentKey(n))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(i,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const r=new dc(n);o.push(ru(t,r))}else{const e=eg(n,i,s);o.push(e)}}return new mu(o,s)}(e._query,e.firestore._databaseId,r,t,n,i)}}function Tg(e,t,n){if("string"==typeof(n=li(n))){if(""===n)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wu(t)&&-1!==n.indexOf("/"))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const i=t.path.child(cc.fromString(n));if(!dc.isDocumentKey(i))throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(i,"' is not because it has an odd number of segments (").concat(i.length,")."));return ru(e,new dc(i))}if(n instanceof Dm)return ru(e,n._key);throw new Wl(Gl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Am(n),"."))}function Ig(e,t){if(!Array.isArray(e)||0===e.length)throw new Wl(Gl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function kg(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wl(Gl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wl(Gl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Cg(e,t){if(!(t instanceof yg||t instanceof _g))throw new Wl(Gl.INVALID_ARGUMENT,"Function ".concat(e,"() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'."))}class Ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ul()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Nc(e,((e,i)=>{n[e]=this.convertValue(i,t)})),n}convertGeoPoint(e){return new Wm(qc(e.latitude),qc(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Kc(e));default:return null}}convertTimestamp(e){const t=Uc(e);return new ac(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cc.fromString(e);ql(Xd(n));const i=new Zc(n.get(1),n.get(3)),r=new dc(n.popFirst(5));return i.isEqual(t)||Fl("Document ".concat(r," contains a document reference within a different database (").concat(i.projectId,"/").concat(i.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),r}}function Pg(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class Ng{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mg extends ug{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Rg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(dg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Rg extends Mg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Og{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ng(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Rg(this._firestore,this._userDataWriter,n.key,n,new Ng(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wl(Gl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const i=new Rg(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Ng(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const i=new Rg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Ng(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Dg(t.type),doc:i,oldIndex:r,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Dg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ul()}}class Lg extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new qm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dm(this.firestore,null,t)}}function zg(e){e=Pm(e,Om);const t=Pm(e.firestore,Bm),n=Vm(t),i=new Lg(t);return pg(e._query),Sm(n,e._query).then((n=>new Og(t,i,e,n)))}function jg(e,t){const n=Pm(e.firestore,Bm),i=jm(e),r=Pg(e.converter,t);return Fg(n,[$m(Jm(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Dh.exists(!1))]).then((()=>i))}function Fg(e,t){return function(e,t){const n=new Kl;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const i=um(e);try{const e=await function(e,t){const n=Hl(e),i=ac.now(),r=t.reduce(((e,t)=>e.add(t.key)),gh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=oh(),l=gh();return n.ss.getEntries(e,r).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((r=>{s=r;const a=[];for(const e of t){const t=Vh(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Hh(e.key,t,pu(t.value.mapValue),Dh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,a,t)})).next((t=>{a=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)}))})).then((()=>({batchId:a.batchId,changes:uh(s)})))}(i.localStore,t);i.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Sa[e.currentUser.toKey()];i||(i=new Rc(rc)),i=i.insert(t,n),e.Sa[e.currentUser.toKey()]=i}(i,e.batchId,n),await am(i,e.changes),await pf(i.remoteStore)}catch(e){const t=kf(e,"Failed to persist write");n.reject(t)}}(await bm(e),t,n))),n.promise}(Vm(e),t)}function Bg(e,t,n){const i=n.docs.get(t._key),r=new Lg(e);return new Mg(e,r,t._key,i,new Ng(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Dl=e}(Qi),Ki(new ci("firestore",((e,n)=>{let{instanceIdentifier:i,options:r}=n;const s=e.getProvider("app").getImmediate(),a=new Bm(new Ql(e.getProvider("auth-internal")),new tc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wl(Gl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(e.options.projectId,t)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC").setMultipleInstances(!0)),er(Rl,"4.4.0",e),er(Rl,"4.4.0","esm2017")}();er("firebase","10.7.0","app");function Vg(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ug(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qg=Ug,Hg=new $n("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Gg=new bi("@firebase/auth");function Wg(e){if(Gg.logLevel<=mi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Gg.error("Auth (".concat(Qi,"): ").concat(e),...n)}}function Kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];throw Qg(e,...n)}function Yg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return Qg(e,...n)}function Zg(e,t,n){const i=Object.assign(Object.assign({},qg()),{[t]:n});return new $n("auth","Firebase",i).create(t,{appName:e.name})}function Xg(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Kg(e,"argument-error"),Zg(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Qg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if("string"!==typeof e){const t=n[0],i=[...n.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(t,...i)}return Hg.create(e,...n)}function Jg(e,t){if(!e){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];throw Qg(t,...i)}}function $g(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wg(t),new Error(t)}function ey(e,t){e||$g(t)}function ty(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ny(){return"http:"===iy()||"https:"===iy()}function iy(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function ry(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ny()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class sy{constructor(e,t){this.shortDelay=e,this.longDelay=t,ey(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return ry()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ay(e,t){ey(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class oy{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void $g("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void $g("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void $g("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ly={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},cy=new sy(3e4,6e4);function uy(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function hy(e,t,n,i){return dy(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const a=ii(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),oy.fetch()(fy(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},r))}))}async function dy(e,t,n){e._canInitEmulator=!1;const i=Object.assign(Object.assign({},ly),t);try{const t=new gy(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw yy(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw yy(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw yy(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw yy(e,"user-disabled",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Zg(e,o,a);Kg(e,o)}}catch(r){if(r instanceof Jn)throw r;Kg(e,"network-request-failed",{message:String(r)})}}async function py(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await hy(e,t,n,i,r);return"mfaPendingCredential"in s&&Kg(e,"multi-factor-auth-required",{_serverResponse:s}),s}function fy(e,t,n,i){const r="".concat(t).concat(n,"?").concat(i);return e.config.emulator?ay(e.config,r):"".concat(e.config.apiScheme,"://").concat(r)}function my(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gy{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Yg(this.auth,"network-request-failed"))),cy.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function yy(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Yg(e,t,i);return r.customData._tokenResponse=n,r}function vy(e){return void 0!==e&&void 0!==e.getResponse}function _y(e){return void 0!==e&&void 0!==e.enterprise}class by{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return my(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function xy(e,t){return hy(e,"GET","/v2/recaptchaConfig",uy(e,t))}function wy(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Sy(e){return 1e3*Number(e)}function Ey(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Wg("JWT malformed, contained fewer than 3 sections"),null;try{const e=Un(n);return e?JSON.parse(e):(Wg("Failed to decode base64 JWT payload"),null)}catch(r){return Wg("Caught error parsing JWT payload as JSON",null===r||void 0===r?void 0:r.toString()),null}}async function Ty(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Jn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Iy{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ky{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wy(this.lastLoginAt),this.creationTime=wy(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cy(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Ty(e,async function(e,t){return hy(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:i}));Jg(null===r||void 0===r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=Vg(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ky(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}class Ay{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Jg(e.idToken,"internal-error"),Jg("undefined"!==typeof e.idToken,"internal-error"),Jg("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ey(e);return Jg(t,"internal-error"),Jg("undefined"!==typeof t.exp,"internal-error"),Jg("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Jg(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await dy(e,{},(async()=>{const n=ii({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=fy(e,i,"/v1/token","key=".concat(r)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",oy.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Ay;return n&&(Jg("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(Jg("string"===typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(Jg("number"===typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ay,this.toJSON())}_performRefresh(){return $g("not implemented")}}function Py(e,t){Jg("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ny{constructor(e){var{uid:t,auth:n,stsTokenManager:i}=e,r=Vg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new ky(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Ty(this,this.stsTokenManager.getToken(this.auth,e));return Jg(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=li(e),i=await n.getIdToken(t),r=Ey(i);Jg(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"===typeof r.firebase?r.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:wy(Sy(r.auth_time)),issuedAtTime:wy(Sy(r.iat)),expirationTime:wy(Sy(r.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=li(e);await Cy(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Jg(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ny(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Jg(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Cy(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ty(this,async function(e,t){return hy(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,i,r,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,d=null!==(r=t.phoneNumber)&&void 0!==r?r:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:b,providerData:x,stsTokenManager:w}=t;Jg(v&&w,e,"internal-error");const S=Ay.fromJSON(this.name,w);Jg("string"===typeof v,e,"internal-error"),Py(u,e.name),Py(h,e.name),Jg("boolean"===typeof _,e,"internal-error"),Jg("boolean"===typeof b,e,"internal-error"),Py(d,e.name),Py(p,e.name),Py(f,e.name),Py(m,e.name),Py(g,e.name),Py(y,e.name);const E=new Ny({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(E.providerData=x.map((e=>Object.assign({},e)))),m&&(E._redirectEventId=m),E}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=new Ay;i.updateFromServerResponse(t);const r=new Ny({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Cy(r),r}}const My=new Map;function Ry(e){ey(e instanceof Function,"Expected a class definition");let t=My.get(e);return t?(ey(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,My.set(e,t),t)}class Oy{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Oy.type="NONE";const Dy=Oy;function Ly(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class zy{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Ly(this.userKey,i.apiKey,r),this.fullPersistenceKey=Ly("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ny._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new zy(Ry(Dy),e,n);const i=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let r=i[0]||Ry(Dy);const s=Ly(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Ny._fromJSON(e,t);c!==r&&(a=n),r=c;break}}catch(l){}const o=i.filter((e=>e._shouldAllowMigration));return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==r)try{await e._remove(s)}catch(l){}}))),new zy(r,e,n)):new zy(r,e,n)}}function jy(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Uy(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fy(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Hy(t))return"Blackberry";if(Gy(t))return"Webos";if(By(t))return"Safari";if((t.includes("chrome/")||Vy(t))&&!t.includes("edge/"))return"Chrome";if(qy(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Fy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/firefox\//i.test(e)}function By(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/crios\//i.test(e)}function Uy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iemobile/i.test(e)}function qy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/android/i.test(e)}function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/blackberry/i.test(e)}function Gy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/webos/i.test(e)}function Wy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ky(){return function(){const e=Qn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Yy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn();return Wy(e)||qy(e)||Gy(e)||Hy(e)||/windows phone/i.test(e)||Uy(e)}function Zy(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=jy(Qn());break;case"Worker":t="".concat(jy(Qn()),"-").concat(e);break;default:t=e}const i=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qi,"/").concat(i)}class Xy{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,i)=>{try{n(e(t))}catch(r){i(r)}}));n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Qy{constructor(e){var t,n,i,r;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(r=e.forceUpgradeOnSignin)&&void 0!==r&&r,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,i,r,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(i=o.containsLowercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(r=o.containsUppercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}class Jy{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new Xy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hg,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ry(t)),this._initializationPromise=this.queue((async()=>{var n,i;if(!this._deleted&&(this.persistenceManager=await zy.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Jg(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cy(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?li(e):null;return t&&Jg(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Jg(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(Ry(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return hy(e,"GET","/v2/passwordPolicy",uy(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Qy(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $n("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return hy(e,"POST","/v2/accounts:revokeToken",uy(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ry(e)||this._popupRedirectResolver;Jg(t,this,"argument-error"),this.redirectPersistenceManager=await zy.create(this,[Ry(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Jg(a,this,"internal-error"),a.then((()=>{s||r(this.currentUser)})),"function"===typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Jg(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Zy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Gg.logLevel<=mi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];Gg.warn("Auth (".concat(Qi,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function $y(e){return li(e)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ai(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Jg(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function tv(e){return new Promise(((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Yg("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(i)}))}function nv(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class iv{constructor(e){this.type="recaptcha-enterprise",this.auth=$y(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,i){const r=window.grecaptcha;_y(r)?r.enterprise.ready((()=>{r.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):i(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,i)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{xy(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((i=>{if(void 0!==i.recaptchaKey){const n=new by(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((r=>{if(!t&&_y(window.grecaptcha))n(r,e,i);else{if("undefined"===typeof window)return void i(new Error("RecaptchaVerifier is only supported in browser"));tv("https://www.google.com/recaptcha/enterprise.js?render="+r).then((()=>{n(r,e,i)})).catch((e=>{i(e)}))}})).catch((e=>{i(e)}))}))}}async function rv(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=new iv(e);let s;try{s=await r.verify(n)}catch(o){s=await r.verify(n,!0)}const a=Object.assign({},t);return i?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function sv(e,t,n,i){var r;if(null===(r=e._getRecaptchaConfig())||void 0===r?void 0:r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await rv(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch((async r=>{if(r.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const r=await rv(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)}))}function av(e,t,n){const i=$y(e);Jg(i._canInitEmulator,i,"emulator-config-failed"),Jg(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ov(t),{host:a,port:o}=function(e){const t=ov(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:lv(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:lv(t)}}}(t),l=null===o?"":":".concat(o);i.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ov(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function lv(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class cv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return $g("not implemented")}_getIdTokenResponse(e){return $g("not implemented")}_linkToIdToken(e,t){return $g("not implemented")}_getReauthenticationResolver(e){return $g("not implemented")}}async function uv(e,t){return hy(e,"POST","/v1/accounts:signUp",t)}async function hv(e,t){return py(e,"POST","/v1/accounts:signInWithPassword",uy(e,t))}async function dv(e,t){return hy(e,"POST","/v1/accounts:sendOobCode",uy(e,t))}async function pv(e,t){return dv(e,t)}class fv extends cv{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new fv(e,t,"password")}static _fromEmailAndCode(e,t){return new fv(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return sv(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",hv);case"emailLink":return async function(e,t){return py(e,"POST","/v1/accounts:signInWithEmailLink",uy(e,t))}(e,{email:this._email,oobCode:this._password});default:Kg(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return sv(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uv);case"emailLink":return async function(e,t){return py(e,"POST","/v1/accounts:signInWithEmailLink",uy(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Kg(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mv(e,t){return py(e,"POST","/v1/accounts:signInWithIdp",uy(e,t))}class gv extends cv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gv(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Kg("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i}=t,r=Vg(t,["providerId","signInMethod"]);if(!n||!i)return null;const s=new gv(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return mv(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,mv(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mv(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ii(t)}return e}}const yv={USER_NOT_FOUND:"user-not-found"};class vv extends cv{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new vv({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new vv({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return py(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await py(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,t));if(n.temporaryProof)throw yy(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return py(e,"POST","/v1/accounts:signInWithPhoneNumber",uy(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),yv)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}=e;return n||t||i||r?new vv({verificationId:t,verificationCode:n,phoneNumber:i,temporaryProof:r}):null}}class _v{constructor(e){var t,n,i,r,s,a;const o=ri(si(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=o.mode)&&void 0!==i?i:null);Jg(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(r=o.continueUrl)&&void 0!==r?r:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=ri(si(e)).link,n=t?ri(si(t)).deep_link_id:null,i=ri(si(e)).deep_link_id;return(i?ri(si(i)).link:null)||i||n||t||e}(e);try{return new _v(t)}catch(n){return null}}}class bv{constructor(){this.providerId=bv.PROVIDER_ID}static credential(e,t){return fv._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=_v.parseLink(t);return Jg(n,"argument-error"),fv._fromEmailAndCode(e,n.code,n.tenantId)}}bv.PROVIDER_ID="password",bv.EMAIL_PASSWORD_SIGN_IN_METHOD="password",bv.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class wv extends xv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Sv extends wv{constructor(){super("facebook.com")}static credential(e){return gv._fromParams({providerId:Sv.PROVIDER_ID,signInMethod:Sv.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sv.credentialFromTaggedObject(e)}static credentialFromError(e){return Sv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Sv.credential(t.oauthAccessToken)}catch(n){return null}}}Sv.FACEBOOK_SIGN_IN_METHOD="facebook.com",Sv.PROVIDER_ID="facebook.com";class Ev extends wv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gv._fromParams({providerId:Ev.PROVIDER_ID,signInMethod:Ev.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ev.credentialFromTaggedObject(e)}static credentialFromError(e){return Ev.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return Ev.credential(n,i)}catch(r){return null}}}Ev.GOOGLE_SIGN_IN_METHOD="google.com",Ev.PROVIDER_ID="google.com";class Tv extends wv{constructor(){super("github.com")}static credential(e){return gv._fromParams({providerId:Tv.PROVIDER_ID,signInMethod:Tv.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tv.credentialFromTaggedObject(e)}static credentialFromError(e){return Tv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Tv.credential(t.oauthAccessToken)}catch(n){return null}}}Tv.GITHUB_SIGN_IN_METHOD="github.com",Tv.PROVIDER_ID="github.com";class Iv extends wv{constructor(){super("twitter.com")}static credential(e,t){return gv._fromParams({providerId:Iv.PROVIDER_ID,signInMethod:Iv.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Iv.credentialFromTaggedObject(e)}static credentialFromError(e){return Iv.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Iv.credential(n,i)}catch(r){return null}}}async function kv(e,t){return py(e,"POST","/v1/accounts:signUp",uy(e,t))}Iv.TWITTER_SIGN_IN_METHOD="twitter.com",Iv.PROVIDER_ID="twitter.com";class Cv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=await Ny._fromIdTokenResponse(e,n,i),s=Av(n);return new Cv({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Av(n);return new Cv({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Av(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Pv extends Jn{constructor(e,t,n,i){var r;super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Pv.prototype),this.customData={appName:e.name,tenantId:null!==(r=e.tenantId)&&void 0!==r?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Pv(e,t,n,i)}}function Nv(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Pv._fromErrorAndOperation(e,n,t,i);throw n}))}async function Mv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=await Ty(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Cv._forOperation(e,"link",i)}async function Rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e,r="reauthenticate";try{const s=await Ty(e,Nv(i,r,t,e),n);Jg(s.idToken,i,"internal-error");const a=Ey(s.idToken);Jg(a,i,"internal-error");const{sub:o}=a;return Jg(e.uid===o,i,"user-mismatch"),Cv._forOperation(e,r,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Kg(i,"user-mismatch"),s}}async function Ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i="signIn",r=await Nv(e,i,t),s=await Cv._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Dv(e,t){return Ov($y(e),t)}function Lv(e,t,n){var i;Jg((null===(i=n.url)||void 0===i?void 0:i.length)>0,e,"invalid-continue-uri"),Jg("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Jg(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Jg(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function zv(e){const t=$y(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function jv(e,t,n){const i=$y(e),r=sv(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kv),s=await r.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zv(e),t})),a=await Cv._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}new WeakMap;const Fv="__sak";class Bv{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Fv,"1"),this.storage.removeItem(Fv),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Vv extends Bv{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Qn();return By(e)||Wy(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Yy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const i=this.storage.getItem(n);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Ky()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vv.type="LOCAL";const Uv=Vv;class qv extends Bv{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}qv.type="SESSION";const Hv=qv;class Gv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Gv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map((async e=>e(t.origin,r))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}Gv.receivers=[];class Kv{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const i="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise(((a,o)=>{const l=Wv("",20);i.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Yv(){return window}function Zv(){return"undefined"!==typeof Yv().WorkerGlobalScope&&"function"===typeof Yv().importScripts}const Xv="firebaseLocalStorageDb",Qv="firebaseLocalStorage",Jv="fbase_key";class $v{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function e_(e,t){return e.transaction([Qv],t?"readwrite":"readonly").objectStore(Qv)}function t_(){const e=indexedDB.open(Xv,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Qv,{keyPath:Jv})}catch(i){n(i)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Qv)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Xv);return new $v(e).toPromise()}(),t(await t_()))}))}))}async function n_(e,t,n){const i=e_(e,!0).put({[Jv]:t,value:n});return new $v(i).toPromise()}function i_(e,t){const n=e_(e,!0).delete(t);return new $v(n).toPromise()}class r_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await t_()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gv._getInstance(Zv()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Kv(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t_();return await n_(e,Fv,"1"),await i_(e,Fv),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>n_(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=e_(e,!1).get(t),i=await new $v(n).toPromise();return void 0===i?null:i.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>i_(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=e_(e,!1).getAll();return new $v(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}r_.type="LOCAL";const s_=r_;const a_=1e12;class o_{constructor(e){this.auth=e,this.counter=a_,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new l_(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||a_;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||a_;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||a_;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class l_{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"===typeof e?document.getElementById(e):e;Jg(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let i=0;i<e;i++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const c_=nv("rcb"),u_=new sy(3e4,6e4);class h_{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Yv().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Jg(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&vy(Yv().grecaptcha)?Promise.resolve(Yv().grecaptcha):new Promise(((n,i)=>{const r=Yv().setTimeout((()=>{i(Yg(e,"network-request-failed"))}),u_.get());Yv()[c_]=()=>{Yv().clearTimeout(r),delete Yv()[c_];const s=Yv().grecaptcha;if(!s||!vy(s))return void i(Yg(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};tv("".concat("https://www.google.com/recaptcha/api.js?","?").concat(ii({onload:c_,render:"explicit",hl:t}))).catch((()=>{clearTimeout(r),i(Yg(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Yv().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class d_{async load(e){return new o_(e)}clearedOneInstance(){}}const p_="recaptcha",f_={theme:"light",type:"image"};class m_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},f_);this.parameters=n,this.type=p_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$y(e),this.isInvisible="invisible"===this.parameters.size,Jg("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const i="string"===typeof t?document.getElementById(t):t;Jg(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new d_:new h_,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const i=e=>{e&&(this.tokenChangeListeners.delete(i),n(e))};this.tokenChangeListeners.add(i),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Jg(!this.parameters.sitekey,this.auth,"argument-error"),Jg(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Jg("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Yv()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Jg(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Jg(ny()&&!Zv(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await hy(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Jg(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Jg(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class g_{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=vv._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function y_(e,t,n){var i;const r=await n.verify();try{let s;if(Jg("string"===typeof r,e,"argument-error"),Jg(n.type===p_,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Jg("enroll"===t.type,e,"internal-error");const n=await function(e,t){return hy(e,"POST","/v2/accounts/mfaEnrollment:start",uy(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:r}});return n.phoneSessionInfo.sessionInfo}{Jg("signin"===t.type,e,"internal-error");const n=(null===(i=s.multiFactorHint)||void 0===i?void 0:i.uid)||s.multiFactorUid;Jg(n,e,"missing-multi-factor-info");const a=await function(e,t){return hy(e,"POST","/v2/accounts/mfaSignIn:start",uy(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:r}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return hy(e,"POST","/v1/accounts:sendVerificationCode",uy(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:r});return t}}finally{n._reset()}}class v_{constructor(e){this.providerId=v_.PROVIDER_ID,this.auth=$y(e)}verifyPhoneNumber(e,t){return y_(this.auth,e,li(t))}static credential(e,t){return vv._fromVerification(e,t)}static credentialFromResult(e){const t=e;return v_.credentialFromTaggedObject(t)}static credentialFromError(e){return v_.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:i}=t;return n&&i?vv._fromTokenResponse(n,i):null}}function __(e,t){return t?Ry(t):(Jg(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}v_.PROVIDER_ID="phone",v_.PHONE_SIGN_IN_METHOD="phone";class b_ extends cv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mv(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mv(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mv(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function x_(e){return Ov(e.auth,new b_(e),e.bypassAuthState)}function w_(e){const{auth:t,user:n}=e;return Jg(n,t,"internal-error"),Rv(n,new b_(e),e.bypassAuthState)}async function S_(e){const{auth:t,user:n}=e;return Jg(n,t,"internal-error"),Mv(n,new b_(e),e.bypassAuthState)}class E_{constructor(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return x_;case"linkViaPopup":case"linkViaRedirect":return S_;case"reauthViaPopup":case"reauthViaRedirect":return w_;default:Kg(this.auth,"internal-error")}}resolve(e){ey(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ey(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const T_=new sy(2e3,1e4);class I_ extends E_{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,I_.currentPopupAction&&I_.currentPopupAction.cancel(),I_.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Jg(e,this.auth,"internal-error"),e}async onExecution(){ey(1===this.filter.length,"Popup operations only handle one event");const e=Wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Yg(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Yg(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I_.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Yg(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,T_.get())};e()}}I_.currentPopupAction=null;const k_="pendingRedirect",C_=new Map;class A_ extends E_{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=C_.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=M_(t),i=N_(e);if(!await i._isAvailable())return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}C_.set(this.auth._key(),e)}return this.bypassAuthState||C_.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function P_(e,t){C_.set(e._key(),t)}function N_(e){return Ry(e._redirectPersistence)}function M_(e){return Ly(k_,e.config.apiKey,e.name)}async function R_(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=$y(e),r=__(i,t),s=new A_(i,r,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}class O_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L_(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!L_(e)){const i=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Yg(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(D_(e))}saveEventToCache(e){this.cachedEventUids.add(D_(e)),this.lastProcessedEventTime=Date.now()}}function D_(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function L_(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const z_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j_=/^https?/;async function F_(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return hy(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const i of t)try{if(B_(i))return}catch(n){}Kg(e,"unauthorized-domain")}function B_(e){const t=ty(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!j_.test(n))return!1;if(z_.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const V_=new sy(3e4,6e4);function U_(){const e=Yv().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let q_=null;function H_(e){return q_=q_||function(e){return new Promise(((t,n)=>{var i,r,s;function a(){U_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{U_(),n(Yg(e,"network-request-failed"))},timeout:V_.get()})}if(null===(r=null===(i=Yv().gapi)||void 0===i?void 0:i.iframes)||void 0===r?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Yv().gapi)||void 0===s?void 0:s.load)){const t=nv("iframefcb");return Yv()[t]=()=>{gapi.load?a():n(Yg(e,"network-request-failed"))},tv("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw q_=null,e}))}(e),q_}const G_=new sy(5e3,15e3),W_="__/auth/iframe",K_="emulator/auth/iframe",Y_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X_(e){const t=e.config;Jg(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ay(t,K_):"https://".concat(e.config.authDomain,"/").concat(W_),i={apiKey:t.apiKey,appName:e.name,v:Qi},r=Z_.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),"".concat(n,"?").concat(ii(i).slice(1))}const Q_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class J_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function $_(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Q_),{width:i.toString(),height:r.toString(),top:s,left:a}),c=Qn().toLowerCase();n&&(o=Vy(c)?"_blank":n),Fy(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,i]=t;return"".concat(e).concat(n,"=").concat(i,",")}),"");if(function(){var e;return Wy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}(t||"",o),new J_(null);const h=window.open(t||"",o,u);Jg(h,e,"popup-blocked");try{h.focus()}catch(d){}return new J_(h)}const eb="__/auth/handler",tb="emulator/auth/handler",nb=encodeURIComponent("fac");async function ib(e,t,n,i,r,s){Jg(e.config.authDomain,e,"auth-domain-config-required"),Jg(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Qi,eventId:r};if(t instanceof xv){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof wv){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(nb,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(eb);return ay(t,tb)}(e),"?").concat(ii(o).slice(1)).concat(c)}const rb="webStorageSupport";const sb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hv,this._completeRedirectFn=R_,this._overrideRedirectResult=P_}async _openPopup(e,t,n,i){var r;ey(null===(r=this.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");return $_(e,await ib(e,t,n,ty(),i),Wv())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){Yv().location.href=e}(await ib(e,t,n,ty(),i)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(ey(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await H_(e),n=Yv().gapi;return Jg(n,e,"internal-error"),t.open({where:document.body,url:X_(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y_,dontclear:!0},(t=>new Promise((async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Yg(e,"network-request-failed"),s=Yv().setTimeout((()=>{i(r)}),G_.get());function a(){Yv().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{i(r)}))}))))}(e),n=new O_(e);return t.register("authEvent",(t=>{Jg(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rb,{type:rb},(n=>{var i;const r=null===(i=null===n||void 0===n?void 0:n[0])||void 0===i?void 0:i[rb];void 0!==r&&t(!!r),Kg(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=F_(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Yy()||By()||Wy()}};var ab="@firebase/auth",ob="1.5.0";class lb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Jg(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const cb=Yn("authIdTokenMaxAge")||300;let ub=null;var hb;hb="Browser",Ki(new ci("auth",((e,t)=>{let{options:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;Jg(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:a,authDomain:o,clientPlatform:hb,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zy(hb)},c=new Jy(i,r,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Ry);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Ki(new ci("auth-internal",(e=>(e=>new lb(e))($y(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),er(ab,ob,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hb)),er(ab,ob,"esm2017");const db="firebasestorage.googleapis.com",pb="storageBucket";class fb extends Jn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(yb(e),"Firebase Storage: ".concat(t," (").concat(yb(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fb.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yb(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var mb,gb;function yb(e){return"storage/"+e}function vb(){return new fb(mb.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function _b(){return new fb(mb.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function bb(){return new fb(mb.CANCELED,"User canceled the upload/download.")}function xb(){return new fb(mb.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function wb(e){return new fb(mb.INVALID_ARGUMENT,e)}function Sb(){return new fb(mb.APP_DELETED,"The Firebase app was deleted.")}function Eb(e,t){return new fb(mb.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Tb(e){throw new fb(mb.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(mb||(mb={}));class Ib{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Ib.makeFromUrl(e,t)}catch(r){return new Ib(e,"")}if(""===n.path)return n;throw i=e,new fb(mb.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===db?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new Ib(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new fb(mb.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class kb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Cb(e){return"string"===typeof e||e instanceof String}function Ab(e){return Pb()&&e instanceof Blob}function Pb(){return"undefined"!==typeof Blob}function Nb(e,t,n,i){if(i<t)throw wb("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(i>n)throw wb("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function Mb(e,t,n){let i=t;return null==n&&(i="https://".concat(t)),"".concat(n,"://").concat(i,"/v0").concat(e)}function Rb(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}function Ob(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(gb||(gb={}));class Db{constructor(e,t,n,i,r,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Lb(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===gb.NO_ERROR,r=n.getStatus();if(!t||Ob(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===gb.ABORT;return void e(!1,new Lb(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new Lb(s,n))}))},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){i(s)}else if(null!==r){const e=vb();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?Sb():bb())}else{i(_b())}};this.canceled_?t(0,new Lb(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.apply(null,n)}}function h(t){r=setTimeout((()=>{r=null,e(p,l())}),t)}function d(){s&&clearTimeout(s)}function p(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;i<64&&(i*=2),1===o?(o=2,s=0):s=1e3*(i+Math.random()),h(s)}let f=!1;function m(e){f||(f=!0,d(),c||(null!==r?(e||(o=2),clearTimeout(r),h(0)):e||(o=1)))}return h(0),s=setTimeout((()=>{a=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Lb{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function zb(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function jb(){const e=zb();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Pb())return new Blob(n);throw new fb(mb.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Fb(e){if("undefined"===typeof atob)throw t="base-64",new fb(mb.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const Bb={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Vb{constructor(e,t){this.data=e,this.contentType=t||null}}function Ub(e,t){switch(e){case Bb.RAW:return new Vb(qb(t));case Bb.BASE64:case Bb.BASE64URL:return new Vb(Hb(e,t));case Bb.DATA_URL:return new Vb(function(e){const t=new Gb(e);return t.base64?Hb(Bb.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Eb(Bb.DATA_URL,"Malformed data URL.")}return qb(t)}(t.rest)}(t),new Gb(t).contentType)}throw vb()}function qb(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296===(64512&i)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320===(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function Hb(e,t){switch(e){case Bb.BASE64:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw Eb(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case Bb.BASE64URL:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw Eb(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Fb(t)}catch(r){if(r.message.includes("polyfill"))throw r;throw Eb(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}class Gb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Eb(Bb.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Wb{constructor(e,t){let n=0,i="";Ab(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(Ab(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Wb(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Wb(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Pb()){const e=t.map((e=>e instanceof Wb?e.data_:e));return new Wb(jb.apply(null,e))}{const e=t.map((e=>Cb(e)?Ub(Bb.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const i=new Uint8Array(n);let r=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]})),new Wb(i,!0)}}uploadData(){return this.data_}}function Kb(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Yb(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Zb(e,t){return t}class Xb{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||Zb}}let Qb=null;function Jb(){if(Qb)return Qb;const e=[];e.push(new Xb("bucket")),e.push(new Xb("generation")),e.push(new Xb("metageneration")),e.push(new Xb("name","fullPath",!0));const t=new Xb("name");t.xform=function(e,t){return function(e){return!Cb(e)||e.length<2?e:Yb(e)}(t)},e.push(t);const n=new Xb("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Xb("timeCreated")),e.push(new Xb("updated")),e.push(new Xb("md5Hash",null,!0)),e.push(new Xb("cacheControl",null,!0)),e.push(new Xb("contentDisposition",null,!0)),e.push(new Xb("contentEncoding",null,!0)),e.push(new Xb("contentLanguage",null,!0)),e.push(new Xb("contentType",null,!0)),e.push(new Xb("metadata","customMetadata",!0)),Qb=e,Qb}function $b(e,t,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new Ib(n,i);return t._makeStorageReference(r)}})}(i,e),i}function ex(e,t,n){const i=Kb(t);if(null===i)return null;return $b(e,i,n)}function tx(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}class nx{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ix(e){if(!e)throw vb()}function rx(e,t){return function(n,i){const r=ex(e,i,t);return ix(null!==r),r}}function sx(e,t){return function(n,i){const r=ex(e,i,t);return ix(null!==r),function(e,t,n,i){const r=Kb(t);if(null===r)return null;if(!Cb(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent,o=s.split(",").map((t=>{const r=e.bucket,s=e.fullPath;return Mb("/b/"+a(r)+"/o/"+a(s),n,i)+Rb({alt:"media",token:t})}));return o[0]}(r,i,e.host,e._protocol)}}function ax(e){return function(t,n){let i;var r,s;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new fb(mb.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new fb(mb.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,i=new fb(mb.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new fb(mb.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function ox(e){const t=ax(e);return function(n,i){let r=t(n,i);var s;return 404===n.getStatus()&&(s=e.path,r=new fb(mb.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function lx(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}function cx(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=lx(t,i,r),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+tx(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",h=Wb.getBlob(c,i,u);if(null===h)throw xb();const d={name:l.fullPath},p=Mb(s,e.host,e._protocol),f=e.maxUploadRetryTime,m=new nx(p,"POST",rx(e,n),f);return m.urlParams=d,m.headers=a,m.body=h.uploadData(),m.errorHandler=ax(t),m}let ux=null;class hx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gb.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=gb.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=gb.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,i){if(this.sent_)throw Tb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const r in i)i.hasOwnProperty(r)&&this.xhr_.setRequestHeader(r,i[r].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Tb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Tb("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Tb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Tb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class dx extends hx{initXhr(){this.xhr_.responseType="text"}}function px(){return ux?ux():new dx}class fx{constructor(e,t){this._service=e,this._location=t instanceof Ib?t:Ib.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new fx(e,t)}get root(){const e=new Ib(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yb(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Ib(this._location.bucket,e);return new fx(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new fb(mb.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function mx(e,t,n){e._throwIfRoot("uploadBytes");const i=cx(e.storage,e._location,Jb(),new Wb(t,!0),n);return e.storage.makeRequestWithTokens(i,px).then((t=>({metadata:t,ref:e})))}function gx(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=Mb(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new nx(i,"GET",sx(e,n),r);return s.errorHandler=ox(t),s}(e.storage,e._location,Jb());return e.storage.makeRequestWithTokens(t,px).then((e=>{if(null===e)throw new fb(mb.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function yx(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new Ib(e._location.bucket,n);return new fx(e.storage,i)}function vx(e,t){if(e instanceof xx){const n=e;if(null==n._bucket)throw new fb(mb.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+pb+"' property when initializing the app?");const i=new fx(n,n._bucket);return null!=t?vx(i,t):i}return void 0!==t?yx(e,t):e}function _x(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof xx)return function(e,t){return new fx(e,t)}(e,t);throw wb("To use ref(service, url), the first argument must be a Storage instance.")}return vx(e,t)}function bx(e,t){const n=null===t||void 0===t?void 0:t[pb];return null==n?null:Ib.makeFromBucketSpec(n,e)}class xx{constructor(e,t,n,i,r){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._bucket=null,this._host=db,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Ib.makeFromBucketSpec(i,this._host):bx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Ib.makeFromBucketSpec(this._url,e):this._bucket=bx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Nb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new fx(this,e)}_makeRequest(e,t,n,i){let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new kb(Sb());{const s=function(e,t,n,i,r,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=Rb(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,i),new Db(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a)}(e,this._appId,n,i,t,this._firebaseVersion,r);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const wx="@firebase/storage",Sx="0.12.0",Ex="storage";function Tx(e,t){return _x(e=li(e),t)}function Ix(e,t){let{instanceIdentifier:n}=t;const i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new xx(i,r,s,n,Qi)}Ki(new ci(Ex,Ix,"PUBLIC").setMultipleInstances(!0)),er(wx,Sx,""),er(wx,Sx,"esm2017");const kx=Ji({apiKey:"AIzaSyD4HVHrIFx1WDiJOOO8mq4qildraimdHPM",authDomain:"realtry-5a403.firebaseapp.com",projectId:"realtry-5a403",storageBucket:"realtry-5a403.appspot.com",messagingSenderId:"567091626359",appId:"1:567091626359:web:c88bfffda774ed4cd2a172"}),Cx=function(e,t){const n="string"==typeof e?e:t||"(default)",i=Yi("object"==typeof e?e:$i(),"firestore").getImmediate({identifier:n});if(!i._initialized){const e=Wn("firestore");e&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var r;const s=(e=Pm(e,Rm))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),i.mockUserToken){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=Ol.MOCK_USER;else{t=Xn(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Wl(Gl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ol(s)}e._authCredentials=new Xl(new Yl(t,n))}}(i,...e)}return i}(kx),Ax=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i(),t=arguments.length>1?arguments[1]:void 0;e=li(e);const n=Yi(e,Ex).getImmediate({identifier:t}),i=Wn("storage");return i&&function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:r}=i;r&&(e._overrideAuthToken="string"===typeof r?r:Xn(r,e.app.options.projectId))}(e,t,n,i)}(n,...i),n}(kx),Px=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$i();const t=Yi(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Yi(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(ti(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Kg(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:sb,persistence:[s_,Uv,Hv]}),i=Yn("authTokenSyncURL");if(i){const e=(r=i,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>cb)return;const i=null===t||void 0===t?void 0:t.token;ub!==i&&(ub=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))});!function(e,t,n){li(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,i){li(e).onIdTokenChanged(t,n,i)}(n,(t=>e(t)))}var r;const s=Gn("auth");return s&&av(n,"http://".concat(s)),n}(kx);var Nx=n(62),Mx=n.n(Nx);const Rx=()=>{const[e,n]=(0,t.useState)(""),[i,r]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),o=zm(Cx,"usermsg");return(0,Ge.jsxs)("div",{className:"contactsec1",children:[(0,Ge.jsxs)("div",{className:"clientcontact",children:[(0,Ge.jsx)("p",{children:"GET IN TOUCH"}),(0,Ge.jsx)("h2",{children:"Send Us Message"}),(0,Ge.jsx)("hr",{})]}),(0,Ge.jsxs)("div",{className:"contactinfo",children:[(0,Ge.jsx)("div",{className:"mapGoogle",children:(0,Ge.jsx)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1705.4523227812365!2d38.77867906906879!3d8.99073533478897!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x164b855836e2265f%3A0xd982813bc48420c7!2sLa%20Vie%20En%20Rose%20Addis!5e0!3m2!1sam!2set!4v1701674774584!5m2!1sam!2set",width:"600",height:"450",style:{border:0},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})}),(0,Ge.jsxs)("div",{className:"contactinforeal",children:[(0,Ge.jsx)("h1",{children:"Any Question? Contact Us"}),(0,Ge.jsxs)("div",{className:"contextreal",children:[(0,Ge.jsx)("div",{className:"iconContactreal",children:(0,Ge.jsx)(Ze,{className:"iconConReal"})}),(0,Ge.jsxs)("div",{className:"iconContactText",children:[(0,Ge.jsx)("h2",{children:"Company Address :"}),(0,Ge.jsx)("p",{children:"Meskel Flower, Addis Ababa"})]})]}),(0,Ge.jsxs)("div",{className:"contextreal",children:[(0,Ge.jsx)("div",{className:"iconContactreal",children:(0,Ge.jsx)(Ve,{className:"iconConReal"})}),(0,Ge.jsxs)("div",{className:"iconContactText",children:[(0,Ge.jsx)("h2",{children:"Email Address : :"}),(0,Ge.jsxs)("a",{href:"mailto: abelahabtamu1@gmail.com",children:["    ",(0,Ge.jsx)("p",{children:"abelahabtamu1@gmail.com"})," "]})]})]}),(0,Ge.jsxs)("div",{className:"contextreal",children:[(0,Ge.jsx)("div",{className:"iconContactreal",children:(0,Ge.jsx)(Fe,{className:"iconConReal"})}),(0,Ge.jsxs)("div",{className:"iconContactText",children:[(0,Ge.jsx)("h2",{children:"Contact Us :"}),(0,Ge.jsxs)("a",{href:"tel:+251930104785",children:["      ",(0,Ge.jsx)("p",{children:"+251930104785"})," "]})]})]})]})]}),(0,Ge.jsxs)("div",{className:"conFileInfo",children:[(0,Ge.jsxs)("div",{className:"nameEmailInfo",children:[(0,Ge.jsxs)("div",{className:"nameInfo",children:[(0,Ge.jsx)("input",{type:"text",className:"nameTextInfo",value:e,onChange:e=>n(e.target.value),placeholder:"Your Name"}),(0,Ge.jsx)(Be,{className:"nameIconInfo"})]}),(0,Ge.jsxs)("div",{className:"emailInfo",children:[(0,Ge.jsx)("input",{type:"email",className:"emailTextInfo",value:i,onChange:e=>r(e.target.value),placeholder:"Your Email"}),(0,Ge.jsx)(Ve,{className:"emailIconInfo"})]})]}),(0,Ge.jsx)("div",{className:"feedbackreal",children:(0,Ge.jsx)("input",{type:"text",className:"feedbackTextInfo",value:s,onChange:e=>a(e.target.value),placeholder:"Your Feedback"})}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:async()=>{await jg(o,{email:i,msg:s,name:e}),r(""),n(""),a(""),Mx()("Tnx For your feedback \ud83d\ude0a")},className:"btnhewecontact btnrewecontact",children:"Submit Now"})})]})]})};function Ox(e){return Ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(e)}function Dx(e){var t=function(e,t){if("object"!==Ox(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Ox(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ox(t)?t:String(t)}function Lx(e,t,n){return(t=Dx(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function jx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zx(Object(n),!0).forEach((function(t){Lx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Bx(e,t){if(e){if("string"===typeof e)return Fx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fx(e,t):void 0}}function Vx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(e,t)||Bx(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ux(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var qx=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hx.apply(this,arguments)}function Gx(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Dx(i.key),i)}}function Wx(e,t){return Wx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Wx(e,t)}function Kx(e){return Kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Kx(e)}function Yx(e,t){if(t&&("object"===Ox(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Zx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=Kx(e);if(t){var r=Kx(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Yx(this,n)}}function Xx(e){return function(e){if(Array.isArray(e))return Fx(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Bx(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qx=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Jx=Math.abs,$x=String.fromCharCode,ew=Object.assign;function tw(e){return e.trim()}function nw(e,t,n){return e.replace(t,n)}function iw(e,t){return e.indexOf(t)}function rw(e,t){return 0|e.charCodeAt(t)}function sw(e,t,n){return e.slice(t,n)}function aw(e){return e.length}function ow(e){return e.length}function lw(e,t){return t.push(e),e}var cw=1,uw=1,hw=0,dw=0,pw=0,fw="";function mw(e,t,n,i,r,s,a){return{value:e,root:t,parent:n,type:i,props:r,children:s,line:cw,column:uw,length:a,return:""}}function gw(e,t){return ew(mw("",null,null,"",null,null,0),e,{length:-e.length},t)}function yw(){return pw=dw>0?rw(fw,--dw):0,uw--,10===pw&&(uw=1,cw--),pw}function vw(){return pw=dw<hw?rw(fw,dw++):0,uw++,10===pw&&(uw=1,cw++),pw}function _w(){return rw(fw,dw)}function bw(){return dw}function xw(e,t){return sw(fw,e,t)}function ww(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sw(e){return cw=uw=1,hw=aw(fw=e),dw=0,[]}function Ew(e){return fw="",e}function Tw(e){return tw(xw(dw-1,Cw(91===e?e+2:40===e?e+1:e)))}function Iw(e){for(;(pw=_w())&&pw<33;)vw();return ww(e)>2||ww(pw)>3?"":" "}function kw(e,t){for(;--t&&vw()&&!(pw<48||pw>102||pw>57&&pw<65||pw>70&&pw<97););return xw(e,bw()+(t<6&&32==_w()&&32==vw()))}function Cw(e){for(;vw();)switch(pw){case e:return dw;case 34:case 39:34!==e&&39!==e&&Cw(pw);break;case 40:41===e&&Cw(e);break;case 92:vw()}return dw}function Aw(e,t){for(;vw()&&e+pw!==57&&(e+pw!==84||47!==_w()););return"/*"+xw(t,dw-1)+"*"+$x(47===e?e:vw())}function Pw(e){for(;!ww(_w());)vw();return xw(e,dw)}var Nw="-ms-",Mw="-moz-",Rw="-webkit-",Ow="comm",Dw="rule",Lw="decl",zw="@keyframes";function jw(e,t){for(var n="",i=ow(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function Fw(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Lw:return e.return=e.return||e.value;case Ow:return"";case zw:return e.return=e.value+"{"+jw(e.children,i)+"}";case Dw:e.value=e.props.join(",")}return aw(n=jw(e.children,i))?e.return=e.value+"{"+n+"}":""}function Bw(e){return function(t){t.root||(t=t.return)&&e(t)}}function Vw(e){return Ew(Uw("",null,null,null,[""],e=Sw(e),0,[0],e))}function Uw(e,t,n,i,r,s,a,o,l){for(var c=0,u=0,h=a,d=0,p=0,f=0,m=1,g=1,y=1,v=0,_="",b=r,x=s,w=i,S=_;g;)switch(f=v,v=vw()){case 40:if(108!=f&&58==rw(S,h-1)){-1!=iw(S+=nw(Tw(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Tw(v);break;case 9:case 10:case 13:case 32:S+=Iw(f);break;case 92:S+=kw(bw()-1,7);continue;case 47:switch(_w()){case 42:case 47:lw(Hw(Aw(vw(),bw()),t,n),l);break;default:S+="/"}break;case 123*m:o[c++]=aw(S)*y;case 125*m:case 59:case 0:switch(v){case 0:case 125:g=0;case 59+u:-1==y&&(S=nw(S,/\f/g,"")),p>0&&aw(S)-h&&lw(p>32?Gw(S+";",i,n,h-1):Gw(nw(S," ","")+";",i,n,h-2),l);break;case 59:S+=";";default:if(lw(w=qw(S,t,n,c,u,r,o,_,b=[],x=[],h),s),123===v)if(0===u)Uw(S,t,w,w,b,s,h,o,x);else switch(99===d&&110===rw(S,3)?100:d){case 100:case 108:case 109:case 115:Uw(e,w,w,i&&lw(qw(e,w,w,0,0,r,o,_,r,b=[],h),x),r,x,h,o,i?b:x);break;default:Uw(S,w,w,w,[""],x,0,o,x)}}c=u=p=0,m=y=1,_=S="",h=a;break;case 58:h=1+aw(S),p=f;default:if(m<1)if(123==v)--m;else if(125==v&&0==m++&&125==yw())continue;switch(S+=$x(v),v*m){case 38:y=u>0?1:(S+="\f",-1);break;case 44:o[c++]=(aw(S)-1)*y,y=1;break;case 64:45===_w()&&(S+=Tw(vw())),d=_w(),u=h=aw(_=S+=Pw(bw())),v++;break;case 45:45===f&&2==aw(S)&&(m=0)}}return s}function qw(e,t,n,i,r,s,a,o,l,c,u){for(var h=r-1,d=0===r?s:[""],p=ow(d),f=0,m=0,g=0;f<i;++f)for(var y=0,v=sw(e,h+1,h=Jx(m=a[f])),_=e;y<p;++y)(_=tw(m>0?d[y]+" "+v:nw(v,/&\f/g,d[y])))&&(l[g++]=_);return mw(e,t,n,0===r?Dw:o,l,c,u)}function Hw(e,t,n){return mw(e,t,n,Ow,$x(pw),sw(e,2,-2),0)}function Gw(e,t,n,i){return mw(e,t,n,Lw,sw(e,0,i),sw(e,i+1,-1),i)}var Ww=function(e,t,n){for(var i=0,r=0;i=r,r=_w(),38===i&&12===r&&(t[n]=1),!ww(r);)vw();return xw(e,dw)},Kw=function(e,t){return Ew(function(e,t){var n=-1,i=44;do{switch(ww(i)){case 0:38===i&&12===_w()&&(t[n]=1),e[n]+=Ww(dw-1,t,n);break;case 2:e[n]+=Tw(i);break;case 4:if(44===i){e[++n]=58===_w()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=$x(i)}}while(i=vw());return e}(Sw(e),t))},Yw=new WeakMap,Zw=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Yw.get(n))&&!i){Yw.set(e,!0);for(var r=[],s=Kw(t,r),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=r[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},Xw=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function Qw(e,t){switch(function(e,t){return 45^rw(e,0)?(((t<<2^rw(e,0))<<2^rw(e,1))<<2^rw(e,2))<<2^rw(e,3):0}(e,t)){case 5103:return Rw+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rw+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Rw+e+Mw+e+Nw+e+e;case 6828:case 4268:return Rw+e+Nw+e+e;case 6165:return Rw+e+Nw+"flex-"+e+e;case 5187:return Rw+e+nw(e,/(\w+).+(:[^]+)/,Rw+"box-$1$2"+Nw+"flex-$1$2")+e;case 5443:return Rw+e+Nw+"flex-item-"+nw(e,/flex-|-self/,"")+e;case 4675:return Rw+e+Nw+"flex-line-pack"+nw(e,/align-content|flex-|-self/,"")+e;case 5548:return Rw+e+Nw+nw(e,"shrink","negative")+e;case 5292:return Rw+e+Nw+nw(e,"basis","preferred-size")+e;case 6060:return Rw+"box-"+nw(e,"-grow","")+Rw+e+Nw+nw(e,"grow","positive")+e;case 4554:return Rw+nw(e,/([^-])(transform)/g,"$1"+Rw+"$2")+e;case 6187:return nw(nw(nw(e,/(zoom-|grab)/,Rw+"$1"),/(image-set)/,Rw+"$1"),e,"")+e;case 5495:case 3959:return nw(e,/(image-set\([^]*)/,Rw+"$1$`$1");case 4968:return nw(nw(e,/(.+:)(flex-)?(.*)/,Rw+"box-pack:$3"+Nw+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rw+e+e;case 4095:case 3583:case 4068:case 2532:return nw(e,/(.+)-inline(.+)/,Rw+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(aw(e)-1-t>6)switch(rw(e,t+1)){case 109:if(45!==rw(e,t+4))break;case 102:return nw(e,/(.+:)(.+)-([^]+)/,"$1"+Rw+"$2-$3$1"+Mw+(108==rw(e,t+3)?"$3":"$2-$3"))+e;case 115:return~iw(e,"stretch")?Qw(nw(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==rw(e,t+1))break;case 6444:switch(rw(e,aw(e)-3-(~iw(e,"!important")&&10))){case 107:return nw(e,":",":"+Rw)+e;case 101:return nw(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rw+(45===rw(e,14)?"inline-":"")+"box$3$1"+Rw+"$2$3$1"+Nw+"$2box$3")+e}break;case 5936:switch(rw(e,t+11)){case 114:return Rw+e+Nw+nw(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Rw+e+Nw+nw(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Rw+e+Nw+nw(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Rw+e+Nw+e+e}return e}var Jw=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Lw:e.return=Qw(e.value,e.length);break;case zw:return jw([gw(e,{value:nw(e.value,"@","@"+Rw)})],i);case Dw:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jw([gw(e,{props:[nw(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return jw([gw(e,{props:[nw(t,/:(plac\w+)/,":"+Rw+"input-$1")]}),gw(e,{props:[nw(t,/:(plac\w+)/,":-moz-$1")]}),gw(e,{props:[nw(t,/:(plac\w+)/,Nw+"input-$1")]})],i)}return""}))}}],$w=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||Jw;var r,s,a={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l=[Zw,Xw];var c,u=[Fw,Bw((function(e){c.insert(e)}))],h=function(e){var t=ow(e);return function(n,i,r,s){for(var a="",o=0;o<t;o++)a+=e[o](n,i,r,s)||"";return a}}(l.concat(i,u));s=function(e,t,n,i){c=n,jw(Vw(e?e+"{"+t.styles+"}":t.styles),h),i&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new Qx({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:s};return d.sheet.hydrate(o),d};var eS=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)};var tS={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function nS(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var iS=/[A-Z]|^ms/g,rS=/_EMO_([^_]+?)_([^]*?)_EMO_/g,sS=function(e){return 45===e.charCodeAt(1)},aS=function(e){return null!=e&&"boolean"!==typeof e},oS=nS((function(e){return sS(e)?e:e.replace(iS,"-$&").toLowerCase()})),lS=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(rS,(function(e,t,n){return uS={name:t,styles:n,next:uS},t}))}return 1===tS[e]||sS(e)||"number"!==typeof t||0===t?t:t+"px"};function cS(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return uS={name:n.name,styles:n.styles,next:uS},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)uS={name:i.name,styles:i.styles,next:uS},i=i.next;return n.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=cS(e,t,n[r])+";";else for(var s in n){var a=n[s];if("object"!==typeof a)null!=t&&void 0!==t[a]?i+=s+"{"+t[a]+"}":aS(a)&&(i+=oS(s)+":"+lS(s,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var o=cS(e,t,a);switch(s){case"animation":case"animationName":i+=oS(s)+":"+o+";";break;default:i+=s+"{"+o+"}"}}else for(var l=0;l<a.length;l++)aS(a[l])&&(i+=oS(s)+":"+lS(s,a[l])+";")}return i}(e,t,n);case"function":if(void 0!==e){var r=uS,s=n(e);return uS=r,cS(e,t,s)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var uS,hS=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var dS=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";uS=void 0;var s=e[0];null==s||void 0===s.raw?(i=!1,r+=cS(n,t,s)):r+=s[0];for(var a=1;a<e.length;a++)r+=cS(n,t,e[a]),i&&(r+=s[a]);hS.lastIndex=0;for(var o,l="";null!==(o=hS.exec(r));)l+="-"+o[1];var c=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:c,styles:r,next:uS}},pS=!!i.useInsertionEffect&&i.useInsertionEffect,fS=pS||function(e){return e()},mS=(pS||t.useLayoutEffect,{}.hasOwnProperty),gS=t.createContext("undefined"!==typeof HTMLElement?$w({key:"css"}):null);gS.Provider;var yS=function(e){return(0,t.forwardRef)((function(n,i){var r=(0,t.useContext)(gS);return e(n,r,i)}))};var vS=t.createContext({});var _S="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",bS=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return eS(t,n,i),fS((function(){return function(e,t,n){eS(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}(t,n,i)})),null},xS=yS((function(e,n,i){var r=e.css;"string"===typeof r&&void 0!==n.registered[r]&&(r=n.registered[r]);var s=e[_S],a=[r],o="";"string"===typeof e.className?o=function(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}(n.registered,a,e.className):null!=e.className&&(o=e.className+" ");var l=dS(a,void 0,t.useContext(vS));o+=n.key+"-"+l.name;var c={};for(var u in e)mS.call(e,u)&&"css"!==u&&u!==_S&&(c[u]=e[u]);return c.ref=i,c.className=o,t.createElement(t.Fragment,null,t.createElement(bS,{cache:n,serialized:l,isStringTag:"string"===typeof s}),t.createElement(s,c))}));var wS=xS,SS=(n(110),function(e,n){var i=arguments;if(null==n||!mS.call(n,"css"))return t.createElement.apply(void 0,i);var r=i.length,s=new Array(r);s[0]=wS,s[1]=function(e,t){var n={};for(var i in t)mS.call(t,i)&&(n[i]=t[i]);return n[_S]=e,n}(e,n);for(var a=2;a<r;a++)s[a]=i[a];return t.createElement.apply(null,s)});function ES(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return dS(t)}const TS=Math.min,IS=Math.max,kS=Math.round,CS=Math.floor,AS=e=>({x:e,y:e});function PS(e){return{...e,top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height}}function NS(e){return OS(e)?(e.nodeName||"").toLowerCase():"#document"}function MS(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function RS(e){var t;return null==(t=(OS(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function OS(e){return e instanceof Node||e instanceof MS(e).Node}function DS(e){return e instanceof Element||e instanceof MS(e).Element}function LS(e){return e instanceof HTMLElement||e instanceof MS(e).HTMLElement}function zS(e){return"undefined"!==typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof MS(e).ShadowRoot)}function jS(e){const{overflow:t,overflowX:n,overflowY:i,display:r}=VS(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+n)&&!["inline","contents"].includes(r)}function FS(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function BS(e){return["html","body","#document"].includes(NS(e))}function VS(e){return MS(e).getComputedStyle(e)}function US(e){if("html"===NS(e))return e;const t=e.assignedSlot||e.parentNode||zS(e)&&e.host||RS(e);return zS(t)?t.host:t}function qS(e){const t=US(e);return BS(t)?e.ownerDocument?e.ownerDocument.body:e.body:LS(t)&&jS(t)?t:qS(t)}function HS(e,t,n){var i;void 0===t&&(t=[]),void 0===n&&(n=!0);const r=qS(e),s=r===(null==(i=e.ownerDocument)?void 0:i.body),a=MS(r);return s?t.concat(a,a.visualViewport||[],jS(r)?r:[],a.frameElement&&n?HS(a.frameElement):[]):t.concat(r,HS(r,[],n))}function GS(e){const t=VS(e);let n=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const r=LS(e),s=r?e.offsetWidth:n,a=r?e.offsetHeight:i,o=kS(n)!==s||kS(i)!==a;return o&&(n=s,i=a),{width:n,height:i,$:o}}function WS(e){return DS(e)?e:e.contextElement}function KS(e){const t=WS(e);if(!LS(t))return AS(1);const n=t.getBoundingClientRect(),{width:i,height:r,$:s}=GS(t);let a=(s?kS(n.width):n.width)/i,o=(s?kS(n.height):n.height)/r;return a&&Number.isFinite(a)||(a=1),o&&Number.isFinite(o)||(o=1),{x:a,y:o}}const YS=AS(0);function ZS(e){const t=MS(e);return FS()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:YS}function XS(e,t,n,i){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=e.getBoundingClientRect(),s=WS(e);let a=AS(1);t&&(i?DS(i)&&(a=KS(i)):a=KS(e));const o=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==MS(e))&&t}(s,n,i)?ZS(s):AS(0);let l=(r.left+o.x)/a.x,c=(r.top+o.y)/a.y,u=r.width/a.x,h=r.height/a.y;if(s){const e=MS(s),t=i&&DS(i)?MS(i):i;let n=e.frameElement;for(;n&&i&&t!==e;){const e=KS(n),t=n.getBoundingClientRect(),i=VS(n),r=t.left+(n.clientLeft+parseFloat(i.paddingLeft))*e.x,s=t.top+(n.clientTop+parseFloat(i.paddingTop))*e.y;l*=e.x,c*=e.y,u*=e.x,h*=e.y,l+=r,c+=s,n=MS(n).frameElement}}return PS({width:u,height:h,x:l,y:c})}function QS(e,t,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:o="function"===typeof IntersectionObserver,animationFrame:l=!1}=i,c=WS(e),u=r||s?[...c?HS(c):[],...HS(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const h=c&&o?function(e,t){let n,i=null;const r=RS(e);function s(){clearTimeout(n),i&&i.disconnect(),i=null}return function a(o,l){void 0===o&&(o=!1),void 0===l&&(l=1),s();const{left:c,top:u,width:h,height:d}=e.getBoundingClientRect();if(o||t(),!h||!d)return;const p={rootMargin:-CS(u)+"px "+-CS(r.clientWidth-(c+h))+"px "+-CS(r.clientHeight-(u+d))+"px "+-CS(c)+"px",threshold:IS(0,TS(1,l))||1};let f=!0;function m(e){const t=e[0].intersectionRatio;if(t!==l){if(!f)return a();t?a(!1,t):n=setTimeout((()=>{a(!1,1e-7)}),100)}f=!1}try{i=new IntersectionObserver(m,{...p,root:r.ownerDocument})}catch(g){i=new IntersectionObserver(m,p)}i.observe(e)}(!0),s}(c,n):null;let d,p=-1,f=null;a&&(f=new ResizeObserver((e=>{let[i]=e;i&&i.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame((()=>{f&&f.observe(t)}))),n()})),c&&!l&&f.observe(c),f.observe(t));let m=l?XS(e):null;return l&&function t(){const i=XS(e);!m||i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height||n();m=i,d=requestAnimationFrame(t)}(),n(),()=>{u.forEach((e=>{r&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),h&&h(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(d)}}const JS=t.useLayoutEffect;var $S=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],eE=function(){};function tE(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function nE(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];var s=[].concat(i);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&s.push("".concat(tE(e,a)));return s.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var iE=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===Ox(e)&&null!==e?[e]:[];var t},rE=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,jx({},Ux(e,$S))},sE=function(e,t,n){var i=e.cx,r=e.getStyles,s=e.getClassNames,a=e.className;return{css:r(t,e),className:i(null!==n&&void 0!==n?n:{},s(t,e),a)}};function aE(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function oE(e){return aE(e)?window.pageYOffset:e.scrollTop}function lE(e,t){aE(e)?window.scrollTo(0,t):e.scrollTop=t}function cE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:eE,r=oE(e),s=t-r,a=0;!function t(){var o=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t}(a+=10,r,s,n);lE(e,o),a<n?window.requestAnimationFrame(t):i(e)}()}function uE(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=t.offsetHeight/3;i.bottom+r>n.bottom?lE(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+r,e.scrollHeight)):i.top-r<n.top&&lE(e,Math.max(t.offsetTop-r,0))}function hE(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var dE=!1,pE={get passive(){return dE=!0}},fE="undefined"!==typeof window?window:{};fE.addEventListener&&fE.removeEventListener&&(fE.addEventListener("p",eE,pE),fE.removeEventListener("p",eE,!1));var mE=dE;function gE(e){return null!=e}function yE(e,t,n){return e?t:n}var vE=["children","innerProps"],_E=["children","innerProps"];function bE(e){var t=e.maxHeight,n=e.menuEl,i=e.minHeight,r=e.placement,s=e.shouldScroll,a=e.isFixedPosition,o=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,i=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var r=e;r=r.parentElement;)if(t=getComputedStyle(r),(!n||"static"!==t.position)&&i.test(t.overflow+t.overflowY+t.overflowX))return r;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,m=d.top,g=n.offsetParent.getBoundingClientRect().top,y=a?window.innerHeight:aE(u=l)?window.innerHeight:u.clientHeight,v=oE(l),_=parseInt(getComputedStyle(n).marginBottom,10),b=parseInt(getComputedStyle(n).marginTop,10),x=g-b,w=y-m,S=x+v,E=h-v-m,T=p-y+v+_,I=v+m-b,k=160;switch(r){case"auto":case"bottom":if(w>=f)return{placement:"bottom",maxHeight:t};if(E>=f&&!a)return s&&cE(l,T,k),{placement:"bottom",maxHeight:t};if(!a&&E>=i||a&&w>=i)return s&&cE(l,T,k),{placement:"bottom",maxHeight:a?w-_:E-_};if("auto"===r||a){var C=t,A=a?x:S;return A>=i&&(C=Math.min(A-_-o,t)),{placement:"top",maxHeight:C}}if("bottom"===r)return s&&lE(l,T),{placement:"bottom",maxHeight:t};break;case"top":if(x>=f)return{placement:"top",maxHeight:t};if(S>=f&&!a)return s&&cE(l,I,k),{placement:"top",maxHeight:t};if(!a&&S>=i||a&&x>=i){var P=t;return(!a&&S>=i||a&&x>=i)&&(P=a?x-b:S-b),s&&cE(l,I,k),{placement:"top",maxHeight:P}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(r,'".'))}return c}var xE,wE=function(e){return"auto"===e?"bottom":e},SE=(0,t.createContext)(null),EE=function(e){var n=e.children,i=e.minMenuHeight,r=e.maxMenuHeight,s=e.menuPlacement,a=e.menuPosition,o=e.menuShouldScrollIntoView,l=e.theme,c=((0,t.useContext)(SE)||{}).setPortalPlacement,u=(0,t.useRef)(null),h=Vx((0,t.useState)(r),2),d=h[0],p=h[1],f=Vx((0,t.useState)(null),2),m=f[0],g=f[1],y=l.spacing.controlHeight;return JS((function(){var e=u.current;if(e){var t="fixed"===a,n=bE({maxHeight:r,menuEl:e,minHeight:i,placement:s,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:y});p(n.maxHeight),g(n.placement),null===c||void 0===c||c(n.placement)}}),[r,s,a,o,i,c,y]),n({ref:u,placerProps:jx(jx({},e),{},{placement:m||wE(s),maxHeight:d})})},TE=function(e){var t=e.children,n=e.innerRef,i=e.innerProps;return SS("div",Hx({},sE(e,"menu",{menu:!0}),{ref:n},i),t)},IE=function(e,t){var n=e.theme,i=n.spacing.baseUnit,r=n.colors;return jx({textAlign:"center"},t?{}:{color:r.neutral40,padding:"".concat(2*i,"px ").concat(3*i,"px")})},kE=IE,CE=IE,AE=["size"],PE=["innerProps","isRtl","size"];var NE,ME,RE={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},OE=function(e){var t=e.size,n=Ux(e,AE);return SS("svg",Hx({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:RE},n))},DE=function(e){return SS(OE,Hx({size:20},e),SS("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},LE=function(e){return SS(OE,Hx({size:20},e),SS("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zE=function(e,t){var n=e.isFocused,i=e.theme,r=i.spacing.baseUnit,s=i.colors;return jx({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*r,":hover":{color:n?s.neutral80:s.neutral40}})},jE=zE,FE=zE,BE=function(){var e=ES.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(xE||(NE=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],ME||(ME=NE.slice(0)),xE=Object.freeze(Object.defineProperties(NE,{raw:{value:Object.freeze(ME)}})))),VE=function(e){var t=e.delay,n=e.offset;return SS("span",{css:ES({animation:"".concat(BE," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},UE=function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.innerRef,s=e.innerProps,a=e.menuIsOpen;return SS("div",Hx({ref:r},sE(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":i,"control--menu-is-open":a}),s,{"aria-disabled":n||void 0}),t)},qE=["data"],HE=function(e){var t=e.children,n=e.cx,i=e.getStyles,r=e.getClassNames,s=e.Heading,a=e.headingProps,o=e.innerProps,l=e.label,c=e.theme,u=e.selectProps;return SS("div",Hx({},sE(e,"group",{group:!0}),o),SS(s,Hx({},a,{selectProps:u,theme:c,getStyles:i,getClassNames:r,cx:n}),l),SS("div",null,t))},GE=["innerRef","isDisabled","isHidden","inputClassName"],WE={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},KE={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":jx({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},WE)},YE=function(e){return jx({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},WE)},ZE=function(e){var t=e.children,n=e.innerProps;return SS("div",n,t)};var XE=function(e){var t=e.children,n=e.components,i=e.data,r=e.innerProps,s=e.isDisabled,a=e.removeProps,o=e.selectProps,l=n.Container,c=n.Label,u=n.Remove;return SS(l,{data:i,innerProps:jx(jx({},sE(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":s})),r),selectProps:o},SS(c,{data:i,innerProps:jx({},sE(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:o},t),SS(u,{data:i,innerProps:jx(jx({},sE(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:o}))},QE={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return SS("div",Hx({},sE(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||SS(DE,null))},Control:UE,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return SS("div",Hx({},sE(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||SS(LE,null))},DownChevron:LE,CrossIcon:DE,Group:HE,GroupHeading:function(e){var t=rE(e);t.data;var n=Ux(t,qE);return SS("div",Hx({},sE(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return SS("div",Hx({},sE(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return SS("span",Hx({},t,sE(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,i=rE(e),r=i.innerRef,s=i.isDisabled,a=i.isHidden,o=i.inputClassName,l=Ux(i,GE);return SS("div",Hx({},sE(e,"input",{"input-container":!0}),{"data-value":n||""}),SS("input",Hx({className:t({input:!0},o),ref:r,style:YE(a),disabled:s},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,i=e.size,r=void 0===i?4:i,s=Ux(e,PE);return SS("div",Hx({},sE(jx(jx({},s),{},{innerProps:t,isRtl:n,size:r}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),SS(VE,{delay:0,offset:n}),SS(VE,{delay:160,offset:!0}),SS(VE,{delay:320,offset:!n}))},Menu:TE,MenuList:function(e){var t=e.children,n=e.innerProps,i=e.innerRef,r=e.isMulti;return SS("div",Hx({},sE(e,"menuList",{"menu-list":!0,"menu-list--is-multi":r}),{ref:i},n),t)},MenuPortal:function(e){var n=e.appendTo,i=e.children,r=e.controlElement,a=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=(0,t.useRef)(null),u=(0,t.useRef)(null),h=Vx((0,t.useState)(wE(o)),2),d=h[0],p=h[1],f=(0,t.useMemo)((function(){return{setPortalPlacement:p}}),[]),m=Vx((0,t.useState)(null),2),g=m[0],y=m[1],v=(0,t.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===l?0:window.pageYOffset,n=e[d]+t;n===(null===g||void 0===g?void 0:g.offset)&&e.left===(null===g||void 0===g?void 0:g.rect.left)&&e.width===(null===g||void 0===g?void 0:g.rect.width)||y({offset:n,rect:e})}}),[r,l,d,null===g||void 0===g?void 0:g.offset,null===g||void 0===g?void 0:g.rect.left,null===g||void 0===g?void 0:g.rect.width]);JS((function(){v()}),[v]);var _=(0,t.useCallback)((function(){"function"===typeof u.current&&(u.current(),u.current=null),r&&c.current&&(u.current=QS(r,c.current,v,{elementResize:"ResizeObserver"in window}))}),[r,v]);JS((function(){_()}),[_]);var b=(0,t.useCallback)((function(e){c.current=e,_()}),[_]);if(!n&&"fixed"!==l||!g)return null;var x=SS("div",Hx({ref:b},sE(jx(jx({},e),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),a),i);return SS(SE.Provider,{value:f},n?(0,s.createPortal)(x,n):x)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,i=e.innerProps,r=Ux(e,_E);return SS("div",Hx({},sE(jx(jx({},r),{},{children:n,innerProps:i}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),i),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,i=e.innerProps,r=Ux(e,vE);return SS("div",Hx({},sE(jx(jx({},r),{},{children:n,innerProps:i}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),i),n)},MultiValue:XE,MultiValueContainer:ZE,MultiValueLabel:ZE,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return SS("div",Hx({role:"button"},n),t||SS(DE,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,i=e.isFocused,r=e.isSelected,s=e.innerRef,a=e.innerProps;return SS("div",Hx({},sE(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":i,"option--is-selected":r}),{ref:s,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return SS("div",Hx({},sE(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,i=e.isDisabled,r=e.isRtl;return SS("div",Hx({},sE(e,"container",{"--is-disabled":i,"--is-rtl":r}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,i=e.innerProps;return SS("div",Hx({},sE(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),i),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,i=e.isMulti,r=e.hasValue;return SS("div",Hx({},sE(e,"valueContainer",{"value-container":!0,"value-container--is-multi":i,"value-container--has-value":r}),n),t)}},JE=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function $E(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(i=e[n],r=t[n],!(i===r||JE(i)&&JE(r)))return!1;var i,r;return!0}for(var eT={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},tT=function(e){return SS("span",Hx({css:eT},e))},nT={guidance:function(e){var t=e.isSearchable,n=e.isMulti,i=e.tabSelectsValue,r=e.context,s=e.isInitialFocus;switch(r){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return s?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,i=void 0===n?"":n,r=e.labels,s=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(r.length>1?"s":""," ").concat(r.join(","),", selected.");case"select-option":return"option ".concat(i,s?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,i=e.options,r=e.label,s=void 0===r?"":r,a=e.selectValue,o=e.isDisabled,l=e.isSelected,c=e.isAppleDevice,u=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(s," focused, ").concat(u(a,n),".");if("menu"===t&&c){var h=o?" disabled":"",d="".concat(l?" selected":"").concat(h);return"".concat(s).concat(d,", ").concat(u(i,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},iT=function(e){var n=e.ariaSelection,i=e.focusedOption,r=e.focusedValue,s=e.focusableOptions,a=e.isFocused,o=e.selectValue,l=e.selectProps,c=e.id,u=e.isAppleDevice,h=l.ariaLiveMessages,d=l.getOptionLabel,p=l.inputValue,f=l.isMulti,m=l.isOptionDisabled,g=l.isSearchable,y=l.menuIsOpen,v=l.options,_=l.screenReaderStatus,b=l.tabSelectsValue,x=l.isLoading,w=l["aria-label"],S=l["aria-live"],E=(0,t.useMemo)((function(){return jx(jx({},nT),h||{})}),[h]),T=(0,t.useMemo)((function(){var e,t="";if(n&&E.onChange){var i=n.option,r=n.options,s=n.removedValue,a=n.removedValues,l=n.value,c=s||i||(e=l,Array.isArray(e)?null:e),u=c?d(c):"",h=r||a||void 0,p=h?h.map(d):[],f=jx({isDisabled:c&&m(c,o),label:u,labels:p},n);t=E.onChange(f)}return t}),[n,E,m,o,d]),I=(0,t.useMemo)((function(){var e="",t=i||r,n=!!(i&&o&&o.includes(i));if(t&&E.onFocus){var a={focused:t,label:d(t),isDisabled:m(t,o),isSelected:n,options:s,context:t===i?"menu":"value",selectValue:o,isAppleDevice:u};e=E.onFocus(a)}return e}),[i,r,d,m,E,s,o,u]),k=(0,t.useMemo)((function(){var e="";if(y&&v.length&&!x&&E.onFilter){var t=_({count:s.length});e=E.onFilter({inputValue:p,resultsMessage:t})}return e}),[s,p,y,E,v,_,x]),C="initial-input-focus"===(null===n||void 0===n?void 0:n.action),A=(0,t.useMemo)((function(){var e="";if(E.guidance){var t=r?"value":y?"menu":"input";e=E.guidance({"aria-label":w,context:t,isDisabled:i&&m(i,o),isMulti:f,isSearchable:g,tabSelectsValue:b,isInitialFocus:C})}return e}),[w,i,r,f,m,g,y,E,o,b,C]),P=SS(t.Fragment,null,SS("span",{id:"aria-selection"},T),SS("span",{id:"aria-focused"},I),SS("span",{id:"aria-results"},k),SS("span",{id:"aria-guidance"},A));return SS(t.Fragment,null,SS(tT,{id:c},C&&P),SS(tT,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},a&&!C&&P))},rT=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],sT=new RegExp("["+rT.map((function(e){return e.letters})).join("")+"]","g"),aT={},oT=0;oT<rT.length;oT++)for(var lT=rT[oT],cT=0;cT<lT.letters.length;cT++)aT[lT.letters[cT]]=lT.base;var uT=function(e){return e.replace(sT,(function(e){return aT[e]}))},hT=function(e,t){void 0===t&&(t=$E);var n=null;function i(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];if(n&&n.lastThis===this&&t(i,n.lastArgs))return n.lastResult;var s=e.apply(this,i);return n={lastResult:s,lastArgs:i,lastThis:this},s}return i.clear=function(){n=null},i}(uT),dT=function(e){return e.replace(/^\s+|\s+$/g,"")},pT=function(e){return"".concat(e.label," ").concat(e.value)},fT=["innerRef"];function mT(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=Object.entries(e).filter((function(e){var t=Vx(e,1)[0];return!n.includes(t)}));return r.reduce((function(e,t){var n=Vx(t,2),i=n[0],r=n[1];return e[i]=r,e}),{})}(Ux(e,fT),"onExited","in","enter","exit","appear");return SS("input",Hx({ref:t},n,{css:ES({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var gT=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};var yT=["boxSizing","height","overflow","paddingRight","position"],vT={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function _T(e){e.preventDefault()}function bT(e){e.stopPropagation()}function xT(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function wT(){return"ontouchstart"in window||navigator.maxTouchPoints}var ST=!("undefined"===typeof window||!window.document||!window.document.createElement),ET=0,TT={capture:!1,passive:!1};var IT=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},kT={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function CT(e){var n=e.children,i=e.lockEnabled,r=e.captureEnabled,s=function(e){var n=e.isEnabled,i=e.onBottomArrive,r=e.onBottomLeave,s=e.onTopArrive,a=e.onTopLeave,o=(0,t.useRef)(!1),l=(0,t.useRef)(!1),c=(0,t.useRef)(0),u=(0,t.useRef)(null),h=(0,t.useCallback)((function(e,t){if(null!==u.current){var n=u.current,c=n.scrollTop,h=n.scrollHeight,d=n.clientHeight,p=u.current,f=t>0,m=h-d-c,g=!1;m>t&&o.current&&(r&&r(e),o.current=!1),f&&l.current&&(a&&a(e),l.current=!1),f&&t>m?(i&&!o.current&&i(e),p.scrollTop=h,g=!0,o.current=!0):!f&&-t>c&&(s&&!l.current&&s(e),p.scrollTop=0,g=!0,l.current=!0),g&&gT(e)}}),[i,r,s,a]),d=(0,t.useCallback)((function(e){h(e,e.deltaY)}),[h]),p=(0,t.useCallback)((function(e){c.current=e.changedTouches[0].clientY}),[]),f=(0,t.useCallback)((function(e){var t=c.current-e.changedTouches[0].clientY;h(e,t)}),[h]),m=(0,t.useCallback)((function(e){if(e){var t=!!mE&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",p,t),e.addEventListener("touchmove",f,t)}}),[f,p,d]),g=(0,t.useCallback)((function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",p,!1),e.removeEventListener("touchmove",f,!1))}),[f,p,d]);return(0,t.useEffect)((function(){if(n){var e=u.current;return m(e),function(){g(e)}}}),[n,m,g]),function(e){u.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),a=function(e){var n=e.isEnabled,i=e.accountForScrollbars,r=void 0===i||i,s=(0,t.useRef)({}),a=(0,t.useRef)(null),o=(0,t.useCallback)((function(e){if(ST){var t=document.body,n=t&&t.style;if(r&&yT.forEach((function(e){var t=n&&n[e];s.current[e]=t})),r&&ET<1){var i=parseInt(s.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,o=window.innerWidth-a+i||0;Object.keys(vT).forEach((function(e){var t=vT[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(o,"px"))}t&&wT()&&(t.addEventListener("touchmove",_T,TT),e&&(e.addEventListener("touchstart",xT,TT),e.addEventListener("touchmove",bT,TT))),ET+=1}}),[r]),l=(0,t.useCallback)((function(e){if(ST){var t=document.body,n=t&&t.style;ET=Math.max(ET-1,0),r&&ET<1&&yT.forEach((function(e){var t=s.current[e];n&&(n[e]=t)})),t&&wT()&&(t.removeEventListener("touchmove",_T,TT),e&&(e.removeEventListener("touchstart",xT,TT),e.removeEventListener("touchmove",bT,TT)))}}),[r]);return(0,t.useEffect)((function(){if(n){var e=a.current;return o(e),function(){l(e)}}}),[n,o,l]),function(e){a.current=e}}({isEnabled:i});return SS(t.Fragment,null,i&&SS("div",{onClick:IT,css:kT}),n((function(e){s(e),a(e)})))}var AT={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},PT=function(e){var t=e.name,n=e.onFocus;return SS("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:AT,value:"",onChange:function(){}})};function NT(e){var t;return"undefined"!==typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function MT(){return NT(/^Mac/i)}function RT(){return NT(/^iPhone/i)||NT(/^iPad/i)||MT()&&navigator.maxTouchPoints>1}var OT={clearIndicator:FE,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.theme,s=r.colors,a=r.borderRadius;return jx({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:r.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?s.neutral5:s.neutral0,borderColor:n?s.neutral10:i?s.primary:s.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(s.primary):void 0,"&:hover":{borderColor:i?s.primary:s.neutral30}})},dropdownIndicator:jE,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,i=n.colors,r=n.spacing;return jx({label:"group",cursor:"default",display:"block"},t?{}:{color:i.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*r.baseUnit,paddingRight:3*r.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing.baseUnit,s=i.colors;return jx({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?s.neutral10:s.neutral20,marginBottom:2*r,marginTop:2*r})},input:function(e,t){var n=e.isDisabled,i=e.value,r=e.theme,s=r.spacing,a=r.colors;return jx(jx({visibility:n?"hidden":"visible",transform:i?"translateZ(0)":""},KE),t?{}:{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,i=e.size,r=e.theme,s=r.colors,a=r.spacing.baseUnit;return jx({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?s.neutral60:s.neutral20,padding:2*a})},loadingMessage:CE,menu:function(e,t){var n,i=e.placement,r=e.theme,s=r.borderRadius,a=r.spacing,o=r.colors;return jx((Lx(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(i),"100%"),Lx(n,"position","absolute"),Lx(n,"width","100%"),Lx(n,"zIndex",1),n),t?{}:{backgroundColor:o.neutral0,borderRadius:s,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,i=e.theme.spacing.baseUnit;return jx({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:i,paddingTop:i})},menuPortal:function(e){var t=e.rect,n=e.offset,i=e.position;return{left:t.left,position:i,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,s=n.colors;return jx({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:s.neutral10,borderRadius:r/2,margin:i.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,i=n.borderRadius,r=n.colors,s=e.cropWithEllipsis;return jx({overflow:"hidden",textOverflow:s||void 0===s?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:i/2,color:r.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,i=n.spacing,r=n.borderRadius,s=n.colors,a=e.isFocused;return jx({alignItems:"center",display:"flex"},t?{}:{borderRadius:r/2,backgroundColor:a?s.dangerLight:void 0,paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:s.dangerLight,color:s.danger}})},noOptionsMessage:kE,option:function(e,t){var n=e.isDisabled,i=e.isFocused,r=e.isSelected,s=e.theme,a=s.spacing,o=s.colors;return jx({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:r?o.primary:i?o.primary25:"transparent",color:n?o.neutral20:r?o.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:r?o.primary:o.primary50}})},placeholder:function(e,t){var n=e.theme,i=n.spacing,r=n.colors;return jx({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:r.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,i=e.theme,r=i.spacing,s=i.colors;return jx({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?s.neutral40:s.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,i=e.isMulti,r=e.hasValue,s=e.selectProps.controlShouldRenderValue;return jx({alignItems:"center",display:i&&r&&s?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var DT,LT={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},zT={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:hE(),captureMenuScroll:!hE(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=jx({ignoreCase:!0,ignoreAccents:!0,stringify:pT,trim:!0,matchFrom:"any"},DT),i=n.ignoreCase,r=n.ignoreAccents,s=n.stringify,a=n.trim,o=n.matchFrom,l=a?dT(t):t,c=a?dT(s(e)):s(e);return i&&(l=l.toLowerCase(),c=c.toLowerCase()),r&&(l=hT(l),c=uT(c)),"start"===o?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function jT(e,t,n,i){return{type:"option",data:t,isDisabled:WT(e,t,n),isSelected:KT(e,t,n),label:HT(e,t),value:GT(e,t),index:i}}function FT(e,t){return e.options.map((function(n,i){if("options"in n){var r=n.options.map((function(n,i){return jT(e,n,t,i)})).filter((function(t){return UT(e,t)}));return r.length>0?{type:"group",data:n,options:r,index:i}:void 0}var s=jT(e,n,t,i);return UT(e,s)?s:void 0})).filter(gE)}function BT(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,Xx(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function VT(e,t){return e.reduce((function(e,n){return"group"===n.type?e.push.apply(e,Xx(n.options.map((function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}})))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e}),[])}function UT(e,t){var n=e.inputValue,i=void 0===n?"":n,r=t.data,s=t.isSelected,a=t.label,o=t.value;return(!ZT(e)||!s)&&YT(e,{label:a,value:o,data:r},i)}var qT=function(e,t){var n;return(null===(n=e.find((function(e){return e.data===t})))||void 0===n?void 0:n.id)||null},HT=function(e,t){return e.getOptionLabel(t)},GT=function(e,t){return e.getOptionValue(t)};function WT(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function KT(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var i=GT(e,t);return n.some((function(t){return GT(e,t)===i}))}function YT(e,t,n){return!e.filterOption||e.filterOption(t,n)}var ZT=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},XT=1,QT=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wx(e,t)}(a,e);var n,i,r,s=Zx(a);function a(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=s.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.isAppleDevice=MT()||RT(),t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var i=t.props,r=i.onChange,s=i.name;n.name=s,t.ariaOnChange(e,n),r(e,n)},t.setValue=function(e,n,i){var r=t.props,s=r.closeMenuOnSelect,a=r.isMulti,o=r.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:o}),s&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:i})},t.selectOption=function(e){var n=t.props,i=n.blurInputOnSelect,r=n.isMulti,s=n.name,a=t.state.selectValue,o=r&&t.isOptionSelected(e,a),l=t.isOptionDisabled(e,a);if(o){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(l)return void t.ariaOnChange(e,{action:"select-option",option:e,name:s});r?t.setValue([].concat(Xx(a),[e]),"select-option",e):t.setValue(e,"select-option")}i&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,i=t.state.selectValue,r=t.getOptionValue(e),s=i.filter((function(e){return t.getOptionValue(e)!==r})),a=yE(n,s,s[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(yE(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,i=n[n.length-1],r=n.slice(0,n.length-1),s=yE(e,r,r[0]||null);t.onChange(s,{action:"pop-value",removedValue:i})},t.getFocusedOptionId=function(e){return qT(t.state.focusableOptionsWithIds,e)},t.getFocusableOptionsWithIds=function(){return VT(FT(t.props,t.state.selectValue),t.getElementId("option"))},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return nE.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return HT(t.props,e)},t.getOptionValue=function(e){return GT(t.props,e)},t.getStyles=function(e,n){var i=t.props.unstyled,r=OT[e](n,i);r.boxSizing="border-box";var s=t.props.styles[e];return s?s(r,n):r},t.getClassNames=function(e,n){var i,r;return null===(i=(r=t.props.classNames)[e])||void 0===i?void 0:i.call(r,n)},t.getElementId=function(e){return"".concat(t.state.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,jx(jx({},QE),e.components);var e},t.buildCategorizedOptions=function(){return FT(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return BT(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:jx({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,i=n.isMulti,r=n.menuIsOpen;t.focusInput(),r?(t.setState({inputIsHiddenAfterUpdate:!i}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&aE(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,i=n&&n.item(0);i&&(t.initialTouchX=i.clientX,t.initialTouchY=i.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,i=n&&n.item(0);if(i){var r=Math.abs(i.clientX-t.initialTouchX),s=Math.abs(i.clientY-t.initialTouchY);t.userIsDragging=r>5||s>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,i=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(i,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){if(!t.blockOptionHover&&t.state.focusedOption!==e){var n=t.getFocusableOptions().indexOf(e);t.setState({focusedOption:e,focusedOptionId:n>-1?t.getFocusedOptionId(e):null})}},t.shouldHideSelectedOptions=function(){return ZT(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,i=n.isMulti,r=n.backspaceRemovesValue,s=n.escapeClearsValue,a=n.inputValue,o=n.isClearable,l=n.isDisabled,c=n.menuIsOpen,u=n.onKeyDown,h=n.tabSelectsValue,d=n.openMenuOnFocus,p=t.state,f=p.focusedOption,m=p.focusedValue,g=p.selectValue;if(!l&&("function"!==typeof u||(u(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!i||a)return;t.focusValue("previous");break;case"ArrowRight":if(!i||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(m)t.removeValue(m);else{if(!r)return;i?t.popValue():o&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!h||!f||d&&t.isOptionSelected(f,g))return;t.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(t.isComposing)return;t.selectOption(f);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):o&&s&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!f)return;t.selectOption(f);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.state.instancePrefix="react-select-"+(t.props.instanceId||++XT),t.state.selectValue=iE(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.getFocusableOptionsWithIds(),i=t.buildFocusableOptions(),r=i.indexOf(t.state.selectValue[0]);t.state.focusableOptionsWithIds=n,t.state.focusedOption=i[r],t.state.focusedOptionId=qT(n,i[r])}return t}return n=a,i=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&uE(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,i=t.menuIsOpen,r=this.state.isFocused;(r&&!n&&e.isDisabled||r&&i&&!e.menuIsOpen)&&this.focusInput(),r&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):r||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(uE(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,i=n.selectValue,r=n.isFocused,s=this.buildFocusableOptions(),a="first"===e?0:s.length-1;if(!this.props.isMulti){var o=s.indexOf(i[0]);o>-1&&(a=o)}this.scrollToFocusedOptionOnUpdate=!(r&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:s[a],focusedOptionId:this.getFocusedOptionId(s[a])},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,i=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var r=n.indexOf(i);i||(r=-1);var s=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===r?0:-1===r?s:r-1;break;case"next":r>-1&&r<s&&(a=r+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,i=this.getFocusableOptions();if(i.length){var r=0,s=i.indexOf(n);n||(s=-1),"up"===e?r=s>0?s-1:i.length-1:"down"===e?r=(s+1)%i.length:"pageup"===e?(r=s-t)<0&&(r=0):"pagedown"===e?(r=s+t)>i.length-1&&(r=i.length-1):"last"===e&&(r=i.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:i[r],focusedValue:null,focusedOptionId:this.getFocusedOptionId(i[r])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(LT):jx(jx({},LT),this.props.theme):LT}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,i=this.getClassNames,r=this.getValue,s=this.selectOption,a=this.setValue,o=this.props,l=o.isMulti,c=o.isRtl,u=o.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:i,getValue:r,hasValue:this.hasValue(),isMulti:l,isRtl:c,options:u,selectOption:s,selectProps:o,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return WT(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return KT(this.props,e,t)}},{key:"filterOption",value:function(e,t){return YT(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,i=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:i})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,n=e.isDisabled,i=e.isSearchable,r=e.inputId,s=e.inputValue,a=e.tabIndex,o=e.form,l=e.menuIsOpen,c=e.required,u=this.getComponents().Input,h=this.state,d=h.inputIsHidden,p=h.ariaSelection,f=this.commonProps,m=r||this.getElementId("input"),g=jx(jx(jx({"aria-autocomplete":"list","aria-expanded":l,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":c,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},l&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===p||void 0===p?void 0:p.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?t.createElement(u,Hx({},f,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:n,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:a,form:o,type:"text",value:s},g)):t.createElement(mT,Hx({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:eE,onFocus:this.onInputFocus,disabled:n,tabIndex:a,inputMode:"none",form:o,value:""},g))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,n=this.getComponents(),i=n.MultiValue,r=n.MultiValueContainer,s=n.MultiValueLabel,a=n.MultiValueRemove,o=n.SingleValue,l=n.Placeholder,c=this.commonProps,u=this.props,h=u.controlShouldRenderValue,d=u.isDisabled,p=u.isMulti,f=u.inputValue,m=u.placeholder,g=this.state,y=g.selectValue,v=g.focusedValue,_=g.isFocused;if(!this.hasValue()||!h)return f?null:t.createElement(l,Hx({},c,{key:"placeholder",isDisabled:d,isFocused:_,innerProps:{id:this.getElementId("placeholder")}}),m);if(p)return y.map((function(n,o){var l=n===v,u="".concat(e.getOptionLabel(n),"-").concat(e.getOptionValue(n));return t.createElement(i,Hx({},c,{components:{Container:r,Label:s,Remove:a},isFocused:l,isDisabled:d,key:u,index:o,removeProps:{onClick:function(){return e.removeValue(n)},onTouchEnd:function(){return e.removeValue(n)},onMouseDown:function(e){e.preventDefault()}},data:n}),e.formatOptionLabel(n,"value"))}));if(f)return null;var b=y[0];return t.createElement(o,Hx({},c,{data:b,isDisabled:d}),this.formatOptionLabel(b,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,s=i.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||s)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Hx({},n,{innerProps:o,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,n=this.commonProps,i=this.props,r=i.isDisabled,s=i.isLoading,a=this.state.isFocused;return e&&s?t.createElement(e,Hx({},n,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),n=e.DropdownIndicator,i=e.IndicatorSeparator;if(!n||!i)return null;var r=this.commonProps,s=this.props.isDisabled,a=this.state.isFocused;return t.createElement(i,Hx({},r,{isDisabled:s,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var n=this.commonProps,i=this.props.isDisabled,r=this.state.isFocused,s={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return t.createElement(e,Hx({},n,{innerProps:s,isDisabled:i,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,n=this.getComponents(),i=n.Group,r=n.GroupHeading,s=n.Menu,a=n.MenuList,o=n.MenuPortal,l=n.LoadingMessage,c=n.NoOptionsMessage,u=n.Option,h=this.commonProps,d=this.state.focusedOption,p=this.props,f=p.captureMenuScroll,m=p.inputValue,g=p.isLoading,y=p.loadingMessage,v=p.minMenuHeight,_=p.maxMenuHeight,b=p.menuIsOpen,x=p.menuPlacement,w=p.menuPosition,S=p.menuPortalTarget,E=p.menuShouldBlockScroll,T=p.menuShouldScrollIntoView,I=p.noOptionsMessage,k=p.onMenuScrollToTop,C=p.onMenuScrollToBottom;if(!b)return null;var A,P=function(n,i){var r=n.type,s=n.data,a=n.isDisabled,o=n.isSelected,l=n.label,c=n.value,p=d===s,f=a?void 0:function(){return e.onOptionHover(s)},m=a?void 0:function(){return e.selectOption(s)},g="".concat(e.getElementId("option"),"-").concat(i),y={id:g,onClick:m,onMouseMove:f,onMouseOver:f,tabIndex:-1,role:"option","aria-selected":e.isAppleDevice?void 0:o};return t.createElement(u,Hx({},h,{innerProps:y,data:s,isDisabled:a,isSelected:o,key:g,label:l,type:r,value:c,isFocused:p,innerRef:p?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map((function(n){if("group"===n.type){var s=n.data,a=n.options,o=n.index,l="".concat(e.getElementId("group"),"-").concat(o),c="".concat(l,"-heading");return t.createElement(i,Hx({},h,{key:l,data:s,options:a,Heading:r,headingProps:{id:c,data:n.data},label:e.formatGroupLabel(n.data)}),n.options.map((function(e){return P(e,"".concat(o,"-").concat(e.index))})))}if("option"===n.type)return P(n,"".concat(n.index))}));else if(g){var N=y({inputValue:m});if(null===N)return null;A=t.createElement(l,h,N)}else{var M=I({inputValue:m});if(null===M)return null;A=t.createElement(c,h,M)}var R={minMenuHeight:v,maxMenuHeight:_,menuPlacement:x,menuPosition:w,menuShouldScrollIntoView:T},O=t.createElement(EE,Hx({},h,R),(function(n){var i=n.ref,r=n.placerProps,o=r.placement,l=r.maxHeight;return t.createElement(s,Hx({},h,R,{innerRef:i,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:g,placement:o}),t.createElement(CT,{captureEnabled:f,onTopArrive:k,onBottomArrive:C,lockEnabled:E},(function(n){return t.createElement(a,Hx({},h,{innerRef:function(t){e.getMenuListRef(t),n(t)},innerProps:{role:"listbox","aria-multiselectable":h.isMulti,id:e.getElementId("listbox")},isLoading:g,maxHeight:l,focusedOption:d}),A)})))}));return S||"fixed"===w?t.createElement(o,Hx({},h,{appendTo:S,controlElement:this.controlRef,menuPlacement:x,menuPosition:w}),O):O}},{key:"renderFormField",value:function(){var e=this,n=this.props,i=n.delimiter,r=n.isDisabled,s=n.isMulti,a=n.name,o=n.required,l=this.state.selectValue;if(o&&!this.hasValue()&&!r)return t.createElement(PT,{name:a,onFocus:this.onValueInputFocus});if(a&&!r){if(s){if(i){var c=l.map((function(t){return e.getOptionValue(t)})).join(i);return t.createElement("input",{name:a,type:"hidden",value:c})}var u=l.length>0?l.map((function(n,i){return t.createElement("input",{key:"i-".concat(i),name:a,type:"hidden",value:e.getOptionValue(n)})})):t.createElement("input",{name:a,type:"hidden",value:""});return t.createElement("div",null,u)}var h=l[0]?this.getOptionValue(l[0]):"";return t.createElement("input",{name:a,type:"hidden",value:h})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,n=this.state,i=n.ariaSelection,r=n.focusedOption,s=n.focusedValue,a=n.isFocused,o=n.selectValue,l=this.getFocusableOptions();return t.createElement(iT,Hx({},e,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:r,focusedValue:s,isFocused:a,selectValue:o,focusableOptions:l,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),n=e.Control,i=e.IndicatorsContainer,r=e.SelectContainer,s=e.ValueContainer,a=this.props,o=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,h=this.state.isFocused,d=this.commonProps=this.getCommonProps();return t.createElement(r,Hx({},d,{className:o,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:h}),this.renderLiveRegion(),t.createElement(n,Hx({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:h,menuIsOpen:u}),t.createElement(s,Hx({},d,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),t.createElement(i,Hx({},d,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,i=t.clearFocusValueOnUpdate,r=t.inputIsHiddenAfterUpdate,s=t.ariaSelection,a=t.isFocused,o=t.prevWasFocused,l=t.instancePrefix,c=e.options,u=e.value,h=e.menuIsOpen,d=e.inputValue,p=e.isMulti,f=iE(u),m={};if(n&&(u!==n.value||c!==n.options||h!==n.menuIsOpen||d!==n.inputValue)){var g=h?function(e,t){return BT(FT(e,t))}(e,f):[],y=h?VT(FT(e,f),"".concat(l,"-option")):[],v=i?function(e,t){var n=e.focusedValue,i=e.selectValue.indexOf(n);if(i>-1){if(t.indexOf(n)>-1)return n;if(i<t.length)return t[i]}return null}(t,f):null,_=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);m={selectValue:f,focusedOption:_,focusedOptionId:qT(y,_),focusableOptionsWithIds:y,focusedValue:v,clearFocusValueOnUpdate:!1}}var b=null!=r&&e!==n?{inputIsHidden:r,inputIsHiddenAfterUpdate:void 0}:{},x=s,w=a&&o;return a&&!w&&(x={value:yE(p,f,f[0]||null),options:f,action:"initial-input-focus"},w=!o),"initial-input-focus"===(null===s||void 0===s?void 0:s.action)&&(x=null),jx(jx(jx({},m),b),{},{prevProps:e,ariaSelection:x,prevWasFocused:w})}}],i&&Gx(n.prototype,i),r&&Gx(n,r),Object.defineProperty(n,"prototype",{writable:!1}),a}(t.Component);QT.defaultProps=zT;var JT=(0,t.forwardRef)((function(e,n){var i=function(e){var n=e.defaultInputValue,i=void 0===n?"":n,r=e.defaultMenuIsOpen,s=void 0!==r&&r,a=e.defaultValue,o=void 0===a?null:a,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,h=e.onInputChange,d=e.onMenuClose,p=e.onMenuOpen,f=e.value,m=Ux(e,qx),g=Vx((0,t.useState)(void 0!==l?l:i),2),y=g[0],v=g[1],_=Vx((0,t.useState)(void 0!==c?c:s),2),b=_[0],x=_[1],w=Vx((0,t.useState)(void 0!==f?f:o),2),S=w[0],E=w[1],T=(0,t.useCallback)((function(e,t){"function"===typeof u&&u(e,t),E(e)}),[u]),I=(0,t.useCallback)((function(e,t){var n;"function"===typeof h&&(n=h(e,t)),v(void 0!==n?n:e)}),[h]),k=(0,t.useCallback)((function(){"function"===typeof p&&p(),x(!0)}),[p]),C=(0,t.useCallback)((function(){"function"===typeof d&&d(),x(!1)}),[d]),A=void 0!==l?l:y,P=void 0!==c?c:b,N=void 0!==f?f:S;return jx(jx({},m),{},{inputValue:A,menuIsOpen:P,onChange:T,onInputChange:I,onMenuClose:C,onMenuOpen:k,value:N})}(e);return t.createElement(QT,Hx({ref:n},i))})),$T=JT;const eI=(0,t.createContext)();function tI(e){let{children:n}=e;const[i,r]=(0,t.useState)({});return(0,t.useEffect)((()=>{const e=function(e,t,n,i){return li(e).onAuthStateChanged(t,n,i)}(Px,(e=>{console.log("Auth",e),r(e)}));return()=>{e()}}),[]),(0,Ge.jsx)(eI.Provider,{value:{user:i,signinPhone:function(e){const t=new m_(Px,"recaptcha-container",{});return t.render(),async function(e,t,n){const i=$y(e),r=await y_(i,t,li(n));return new g_(r,(e=>Dv(i,e)))}(Px,e,t)},logIn:function(e,t){return function(e,t,n){return Dv(li(e),bv.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&zv(e),t}))}(Px,e,t)},signUp:function(e,t){return jv(Px,e,t)},logOut:function(){return function(e){return li(e).signOut()}(Px)},googleSignIn:function(){const e=new Ev;return async function(e,t,n){const i=$y(e);Xg(e,t,xv);const r=__(i,n);return new I_(i,"signInViaPopup",t,r).executeNotNull()}(Px,e)},forgetPass:function(e){return async function(e,t,n){const i=$y(e),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Lv(i,r,n),await sv(i,r,"getOobCode",pv)}(Px,e)}},children:n})}function nI(){return(0,t.useContext)(eI)}const iI=()=>{const[e,n]=(0,t.useState)(""),[i,r]=(0,t.useState)(""),[s,a]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(null),[_,b]=(0,t.useState)([]),[x,w]=(0,t.useState)([]),[S,E]=(0,t.useState)([]),[T,I]=(0,t.useState)(""),[k,C]=(0,t.useState)(""),[A,P]=(0,t.useState)(null),[N,M]=(0,t.useState)(""),[R,O]=(0,t.useState)(""),[D,L]=(0,t.useState)(""),[z,j]=(0,t.useState)(""),[F,B]=(0,t.useState)(""),[V,U]=(0,t.useState)(""),[q,H]=(0,t.useState)(""),[G,W]=(0,t.useState)(""),[K,Y]=(0,t.useState)(""),[Z,X]=(0,t.useState)(""),[Q,J]=(0,t.useState)(""),[$,ee]=(0,t.useState)(""),[te,ne]=(0,t.useState)(""),[ie,re]=(0,t.useState)(""),[se,ae]=(0,t.useState)(""),[oe,le]=(0,t.useState)(""),[ce,ue]=(0,t.useState)(0),{signinPhone:he}=nI(),[de,pe]=(0,t.useState)(!1),[fe,me]=(0,t.useState)(!1),[ge,ye]=(0,t.useState)(!1),[ve,_e]=(0,t.useState)("one"),[be,xe]=(0,t.useState)("one"),[we,Ee]=(0,t.useState)("one"),[Te,Ie]=(0,t.useState)("");(0,t.useEffect)((()=>{(()=>{const e=document.querySelector("#serategna"),t=document.querySelector("#qetari"),n=document.querySelector("#wekil");!0===(null===e||void 0===e?void 0:e.checked)?console.log("amnalewa"):!0===(null===t||void 0===t?void 0:t.checked)?console.log("amnalew"):!0===(null===n||void 0===n?void 0:n.checked)&&console.log("amnale")})()}),[de,fe,ge]);const ke=zm(Cx,"userall"),Ce=zm(Cx,"qetari");async function Ae(e,t){return await function(e,t,n){return mx(e=li(e),t,n)}(e,t),function(e){return gx(e=li(e))}(e)}const Pe=async()=>Ae(Tx(Ax,"Images/".concat(S.name)),S),Ne=async()=>Ae(Tx(Ax,"Id/".concat(x.name)),x),{signUp:Me}=nI();console.log(A);const Re=async()=>{ue(70),_e("five")},Oe=()=>{ue(85),_e("six")},De=()=>{xe("three")},Le=async()=>{try{const e="+".concat(c.replace(/\D/g,"")),t=await he(e);v(t),alert("otp sent"),xe("four")}catch(e){console.log(e.message)}},ze=async()=>{try{const e="+".concat(c.replace(/\D/g,"")),t=await he(e);v(t),alert("otp sent"),Ee("three")}catch(e){console.log(e.message)}},je=async()=>{try{await y.confirm(m),Ee("four")}catch(e){console.log(e)}},Fe=()=>{Ee("five")};return(0,Ge.jsx)("div",{className:"regtext",children:(0,Ge.jsxs)("div",{className:"regfile",children:[(0,Ge.jsxs)("div",{className:"regimagereal",children:[(0,Ge.jsx)("div",{className:"regiimagefake",children:(0,Ge.jsx)("img",{src:qe,alt:""})}),(0,Ge.jsx)("div",{className:"regiimagefakeone",children:(0,Ge.jsx)("img",{src:Qe,className:"imagerealregi",alt:""})}),(0,Ge.jsx)("h2",{children:"Weyzero"}),(0,Ge.jsx)("p",{children:"We are helping thousands of families in finding their perfect EMEBET.Let's Work Together On Emebet"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnheweregi btnreweregi",children:"Go To Home Page"})}),(0,Ge.jsx)("h5",{children:"\xa9 2021"})]}),"one"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsx)("div",{className:"pagenation",children:(0,Ge.jsx)("div",{className:"line"})}),(0,Ge.jsxs)("div",{className:"textregreal",children:[(0,Ge.jsx)("div",{className:"regiimagefakereal",children:(0,Ge.jsx)("img",{src:qe,alt:""})}),(0,Ge.jsx)("h2",{children:"Weyzero"}),(0,Ge.jsx)("p",{children:"Registration  Page"})]}),(0,Ge.jsx)("div",{className:"rolereal",children:(0,Ge.jsx)("p",{children:"Who are you? Make sure you select your role"})}),(0,Ge.jsxs)("div",{onClick:()=>(()=>{const e=document.querySelector(".checkboxe"),t=document.querySelector(".checkboxs"),n=document.querySelector(".checkboxss");0==de?(e.checked=!0,t.checked=!1,n.checked=!1,pe(!0),me(!1),ye(!1)):1==de&&(e.checked=!1,pe(!1),me(!1),ye(!1))})(),className:"inputreal inputrealemployee",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"serategna",className:"checkbox checkboxe"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYEE (\u1230\u122b\u1270\u129b)"})]}),(0,Ge.jsxs)("div",{className:"inputreal inputrealemployee",onClick:()=>(()=>{const e=document.querySelector(".checkboxe"),t=document.querySelector(".checkboxs"),n=document.querySelector(".checkboxss");0==fe?(t.checked=!0,e.checked=!1,n.checked=!1,me(!0),pe(!1),ye(!1)):1==fe&&(t.checked=!1,me(!1),ye(!1),pe(!1))})(),children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"qetari",className:"checkbox checkboxs"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYER (\u1240\u1323\u122a)"})]}),(0,Ge.jsxs)("div",{className:"inputreal inputrealemployee",onClick:()=>(()=>{const e=document.querySelector(".checkboxe"),t=document.querySelector(".checkboxs"),n=document.querySelector(".checkboxss");0==ge?(n.checked=!0,t.checked=!1,e.checked=!1,ye(!0),me(!1),pe(!1)):1==ge&&(n.checked=!1,ye(!1),me(!1),pe(!1))})(),children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"wekil",className:"checkbox checkboxss"})," ",(0,Ge.jsx)("span",{children:"I AM AGENT (\u12c8\u12aa\u120d)"})]}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"bothdorgote",children:(0,Ge.jsxs)("div",{className:"signup",children:["Already have an account? ",(0,Ge.jsxs)("span",{children:[" ",(0,Ge.jsx)("a",{href:"",children:"Login here"})]})]})}),(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:()=>{const e=document.querySelector("#serategna"),t=document.querySelector("#qetari"),n=document.querySelector("#wekil");ue(15),1==(null===e||void 0===e?void 0:e.checked)?(_e("two"),xe(""),Ee("")):1==(null===t||void 0===t?void 0:t.checked)?(xe("two"),_e(""),Ee("")):1==(null===n||void 0===n?void 0:n.checked)&&(Ee("two"),_e(""),xe(""))},className:"btnhewereg btnrewereg",children:"Next"})})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"two"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 5 completed"}),(0,Ge.jsx)("div",{className:"line progressbar ",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",onChange:e=>n(e.target.value),id:"",className:"textInputreal",placeholder:"First Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",onChange:e=>r(e.target.value),id:"",className:"textInputreal",placeholder:"Last Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",onChange:e=>l(e.target.value),id:"",className:"textInputreal",placeholder:"Age"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",id:"",onChange:e=>u(e.target.value),className:"textInputreal",placeholder:"Phone Number ...911"})}),(0,Ge.jsxs)("select",{id:"city",value:T,onChange:e=>I(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Choose City  "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]}),(0,Ge.jsx)("div",{className:"recaptcha",id:"recaptcha-container"}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:()=>(window.location.reload(!1),_e("one"),xe("one"),void Ee("one")),className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{try{const e="+".concat(c.replace(/\D/g,"")),t=await he(e);v(t),alert("otp sent"),_e("three"),ue(30)}catch(e){console.log(e.message)}},className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"three"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale2",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsxs)("div",{className:"centerCode",children:[(0,Ge.jsx)("p",{children:"Verification Code Sent to Your Phone"}),(0,Ge.jsx)("p",{children:"\u12e8\u121b\u1228\u130b\u1308\u132b \u12ae\u12f5 \u12c8\u12f0 \u1235\u120d\u12ad\u12ce \u1270\u120d\u12b3\u120d. \u12ae\u12f1\u1295 \u12eb\u1235\u1308\u1261"}),(0,Ge.jsx)("label",{htmlFor:"",children:"Code"})]}),(0,Ge.jsx)("div",{className:"inputreal enterCode",children:(0,Ge.jsx)("input",{type:"number",name:"",value:m,onChange:e=>g(e.target.value),id:"",className:"textInputreal ",placeholder:"Enter Code Here"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:async()=>{try{await y.confirm(m),_e("four"),ue(43)}catch(e){console.log(e)}},className:"btnhewereg btnrewereg",children:"Next"})})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"four"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsxs)("select",{id:"countryId",value:q,onChange:e=>H(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Sepecific Location   "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]}),(0,Ge.jsxs)("select",{id:"religionId",value:Z,onChange:e=>X(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Religion  "}),(0,Ge.jsx)("option",{value:"Orthodox",children:" Orthodox "}),(0,Ge.jsx)("option",{value:"Muslim",children:" Muslim  "}),(0,Ge.jsx)("option",{value:"Protestant",children:" Protestant  "})]}),(0,Ge.jsxs)("select",{id:"lang",value:Q,onChange:e=>J(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Language   "}),(0,Ge.jsx)("option",{value:"Amharic",children:" Amharic "}),(0,Ge.jsx)("option",{value:"Oromifa",children:" Oromifa  "}),(0,Ge.jsx)("option",{value:"Tigregna",children:" Tigregna  "})]}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",value:h,onChange:e=>d(e.target.value),className:"textInputreal",placeholder:"If There Is Additional Language Please Insert"})}),(0,Ge.jsxs)("select",{id:"empId",value:G,onChange:e=>W(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Employement Type   "}),(0,Ge.jsx)("option",{value:"Full Time",children:" Full Time "}),(0,Ge.jsx)("option",{value:"Part Time",children:" Part Time "})]}),(0,Ge.jsxs)("select",{id:"salaryId",value:K,onChange:e=>Y(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Monthly Expected Salary   "}),(0,Ge.jsx)("option",{value:"1000-2000",children:" 1000-2000 "}),(0,Ge.jsx)("option",{value:"2000-3000",children:" 2000-3000  "}),(0,Ge.jsx)("option",{value:"2000-3000",children:" Nigotiable  "})]}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:Re,className:"btnhewereg btnrewereg",children:"Next"})})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"five"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("label",{htmlFor:"",children:"Select Service"})}),(0,Ge.jsx)($T,{isMulti:!0,isSearchable:!0,name:"colors",options:[{value:"cooking",label:"cooking"},{value:"adultCare",label:"adult care"},{value:"cleaner",label:"cleaner"}],className:"basic-multi-select",classNamePrefix:"select",id:"workId",onChange:e=>P(e),noOptionsMessage:()=>"Nothing Found",autoFocus:!0}),(0,Ge.jsxs)("select",{id:"eduId",value:ie,onChange:e=>re(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Education Level  "}),(0,Ge.jsx)("option",{value:"Masters",children:" Masters "}),(0,Ge.jsx)("option",{value:"Degree",children:" Degree  "}),(0,Ge.jsx)("option",{value:"Gradeten",children:" Grade 10  "}),(0,Ge.jsx)("option",{value:"Gradeeight",children:" Grade 8  "}),(0,Ge.jsx)("option",{value:"Un Educated",children:" Uneducated  "})]}),(0,Ge.jsxs)("select",{id:"expId",value:te,onChange:e=>ne(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Experience   "}),(0,Ge.jsx)("option",{value:"More Than 5 Years",children:" More Than 5 Years "}),(0,Ge.jsx)("option",{value:"More Than 2 Years",children:" More Than 2 Years "}),(0,Ge.jsx)("option",{value:"More Than 1 Years",children:" More Than 1 Years "}),(0,Ge.jsx)("option",{value:"None",children:" I don't Have any "})]}),(0,Ge.jsxs)("select",{id:"classId",value:$,onChange:e=>ee(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Do You Take Class   "}),(0,Ge.jsx)("option",{value:"Yes",children:" Yes "}),(0,Ge.jsx)("option",{value:"No",children:" No  "})]}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:async()=>{ue(58),_e("four")},className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:Oe,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"six"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale6",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsxs)("select",{id:"kidId",value:se,onChange:e=>ae(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Do you have children?  "}),(0,Ge.jsx)("option",{value:"Yes",children:" Yes "}),(0,Ge.jsx)("option",{value:"No",children:" No  "})]}),(0,Ge.jsxs)("select",{id:"liveId",value:oe,onChange:e=>le(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Live In Or Live Out   "}),(0,Ge.jsx)("option",{value:"Live In",children:" Live In "}),(0,Ge.jsx)("option",{value:"Live Out",children:" Live Out  "})]}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"Tell us what you can do (\u1235\u1208 \u12a5\u122d\u1236 \u1275\u1295\u123d \u12ed\u1295\u1308\u1229\u1295)"})}),(0,Ge.jsx)("div",{className:"inputreal inputreal6",children:(0,Ge.jsx)("textarea",{type:"text",multiple:!0,name:"",onChange:e=>f(e.target.value),id:"",className:"textInputreal textInputreal6",placeholder:"Tell Us About Yourself "})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"Profile Image (\u134e\u1276)"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"file",name:"",id:"",onChange:e=>b(e.target.files[0]),className:" textInputFile"})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"ID or Passport \u1218\u1273\u12c8\u1242\u12eb \u12c8\u12ed\u121d \u1353\u1235\u1356\u122d\u1275"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"file",name:"",onChange:e=>w(e.target.files[0]),id:"",className:" textInputFile"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:Re,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{ue(100),_e("seven")},className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"seven"==ve?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line",children:(0,Ge.jsx)("div",{className:"line1",style:{width:"".concat(ce,"%")}})})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"email",name:"",id:"",onChange:e=>a(e.target.value),className:"textInputreal",placeholder:"Email"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>O(e.target.value),className:"textInputreal",placeholder:"Password"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>M(e.target.value),className:"textInputreal",placeholder:"Confirm Password"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsxs)("div",{className:"agreeTerm",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:""}),"I agree to the ",(0,Ge.jsx)(Se,{to:"/term",children:"Terms and conditions"}),"  of the emebet.net"]}),(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:Oe,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{const t=await Ne(),n=await Pe();jg(ke,{fname:e,lname:i,email:s,cityId:T,pass:R,haveChild:se,tellAbout:p,liveIn:oe,haveclass:$,haveExpireance:te,isPartime:G,Education:ie,language:Q,lang:h,religion:Z,workType:A,age:Number(o),salary:K,country:q,phone:c,urlId:t,urlTin:n});try{await Me(s,R)}catch(r){console.log(r.message)}},className:"btnhewereg btnrewereg",children:"Submit"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"two"==be?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line progressbar"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employer"})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"Add Your Personal info"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>n(e.target.value),className:"textInputreal",placeholder:"First Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>r(e.target.value),className:"textInputreal",placeholder:"Last Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"email",name:"",id:"",onChange:e=>a(e.target.value),className:"textInputreal",placeholder:"Email"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:()=>{window.location.reload(!1),_e("one"),xe("")},className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:De,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"three"==be?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale6",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",id:"",className:"textInputreal",value:c,onChange:e=>u(e.target.value),placeholder:"Phone Number ...911"})}),(0,Ge.jsxs)("select",{id:"cityId",value:T,onChange:e=>I(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Choose City   "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]}),T&&(0,Ge.jsx)("select",{id:"locId",value:k,onChange:e=>C(e.target.value),className:"inputreal selectReg",children:{"Addis Ababa":["Lebu","Kaliti","Megenagna"],Jimma:["Ajip","Saris","Qochi"]}[T].map((e=>(0,Ge.jsx)("option",{children:e})))}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"What are you looking for?"})}),(0,Ge.jsx)($T,{isMulti:!0,isSearchable:!0,name:"colors",options:[{value:"cooking",label:"cooking"},{value:"adultCare",label:"adult care"},{value:"cleaner",label:"cleaner"}],className:"basic-multi-select",classNamePrefix:"select",id:"workerId",onChange:e=>P(e),noOptionsMessage:()=>"Nothing Found",autoFocus:!0}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>O(e.target.value),className:"textInputreal",placeholder:"Password"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>M(e.target.value),className:"textInputreal",placeholder:"Confirm Password"})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"ID or Passport \u1218\u1273\u12c8\u1242\u12eb \u12c8\u12ed\u121d \u1353\u1235\u1356\u122d\u1275"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"file",name:"",onChange:e=>w(e.target.files[0]),id:"",className:" textInputFile"})}),(0,Ge.jsx)("div",{className:"recaptcha",id:"recaptcha-container"}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:()=>{xe("two")},className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:Le,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"four"==be?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale2",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsxs)("div",{className:"centerCode",children:[(0,Ge.jsx)("p",{children:"Verification Code Sent to Your Phone"}),(0,Ge.jsx)("p",{children:"\u12e8\u121b\u1228\u130b\u1308\u132b \u12ae\u12f5 \u12c8\u12f0 \u1235\u120d\u12ad\u12ce \u1270\u120d\u12b3\u120d. \u12ae\u12f1\u1295 \u12eb\u1235\u1308\u1261"}),(0,Ge.jsx)("label",{htmlFor:"",children:"Code"})]}),(0,Ge.jsx)("div",{className:"inputreal enterCode",children:(0,Ge.jsx)("input",{type:"number",name:"",value:m,onChange:e=>g(e.target.value),id:"",className:"textInputreal ",placeholder:"Enter Code Here"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:De,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{try{await y.confirm(m),xe("five")}catch(e){console.log(e)}},className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"five"==be?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"Thank you for your time! You have reached to the end, Please Confirm your registration by accepting our terms and conditions!"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsxs)("div",{className:"agreeTerm",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:""}),"I agree to the ",(0,Ge.jsx)(Se,{to:"/term",children:"Terms and conditions"}),"  of the emebet.net"]}),(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:Le,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{const t=await Ne();jg(Ce,{fname:e,lname:i,email:s,selectCity:T,selectedArea:k,selectedWork:A,pass:R,phone:c,urlId:t});try{await Me(s,R)}catch(n){console.log(n.message)}},className:"btnhewereg btnrewereg",children:"Submit"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"two"==we?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Agent..."})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>n(e.target.value),className:"textInputreal",placeholder:"First Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>r(e.target.value),className:"textInputreal",placeholder:"Last Name"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",id:"",value:c,onChange:e=>u(e.target.value),className:"textInputreal",placeholder:"Phone Number ...911"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"email",name:"",id:"",onChange:e=>a(e.target.value),className:"textInputreal",placeholder:"Email"})}),(0,Ge.jsxs)("select",{id:"cityyId",value:F,onChange:e=>B(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Choose City   "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]}),(0,Ge.jsx)("div",{className:"recaptcha",id:"recaptcha-container"}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:()=>{window.location.reload(!1),_e("one"),Ee("")},className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:ze,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"three"==we?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale2",children:(0,Ge.jsx)("h2",{children:"Registering Agent..."})}),(0,Ge.jsxs)("div",{className:"centerCode",children:[(0,Ge.jsx)("p",{children:"Verification Code Sent to Your Phone"}),(0,Ge.jsx)("p",{children:"\u12e8\u121b\u1228\u130b\u1308\u132b \u12ae\u12f5 \u12c8\u12f0 \u1235\u120d\u12ad\u12ce \u1270\u120d\u12b3\u120d. \u12ae\u12f1\u1295 \u12eb\u1235\u1308\u1261"}),(0,Ge.jsx)("label",{htmlFor:"",children:"Code"})]}),(0,Ge.jsx)("div",{className:"inputreal enterCode",children:(0,Ge.jsx)("input",{type:"number",name:"",value:m,onChange:e=>g(e.target.value),id:"",className:"textInputreal ",placeholder:"Enter Code Here"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:()=>{Ee("two")},className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:je,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"four"==we?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Agent..."})}),(0,Ge.jsxs)("select",{id:"speciId",value:V,onChange:e=>U(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Specific Location  "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",id:"",onChange:e=>L(e.target.value),className:"textInputreal",placeholder:"legal Number"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"number",name:"",id:"",onChange:e=>j(e.target.value),className:"textInputreal",placeholder:"Tin Number"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"email",name:"",id:"",onChange:e=>a(e.target.value),className:"textInputreal",placeholder:"Email"})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"ID Image"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"file",name:"",id:"",onChange:e=>w(e.target.files[0]),className:" textInputFile"})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"License Image"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"file",name:"",onChange:e=>E(e.target.files[0]),id:"",className:" textInputFile"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:ze,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:Fe,className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"five"==we?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Agent..."})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>O(e.target.value),className:"textInputreal",placeholder:"Password"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",onChange:e=>M(e.target.value),className:"textInputreal",placeholder:"Confirm Password"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:je,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:()=>{Ee("six")},className:"btnhewereg btnrewereg",children:"Next"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"six"==we?(0,Ge.jsxs)("div",{className:"regpagetext",children:[(0,Ge.jsxs)("div",{className:"pagenation",children:[(0,Ge.jsx)("p",{children:"0 of 4 completed"}),(0,Ge.jsx)("div",{className:"line"})]}),(0,Ge.jsx)("div",{className:"textregreal textregreale1",children:(0,Ge.jsx)("h2",{children:"Registering Employee..."})}),(0,Ge.jsx)("div",{className:"centerCode centerCode5",children:(0,Ge.jsx)("p",{children:"Thank you for your time! You have reached to the end, Please Confirm your registration by accepting our terms and conditions!"})}),(0,Ge.jsxs)("div",{className:"regandforget",children:[(0,Ge.jsxs)("div",{className:"agreeTerm",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:""}),"I agree to the ",(0,Ge.jsx)(Se,{to:"/term",children:"Terms and conditions"}),"  of the emebet.net"]}),(0,Ge.jsx)("div",{className:"line"}),(0,Ge.jsxs)("div",{className:"herobtnWork",children:[(0,Ge.jsx)("button",{onClick:Fe,className:"btnhewereg btnrewereg",children:"Prev"}),(0,Ge.jsx)("button",{onClick:async()=>{const t=F,n=V;console.log(t),console.log(n);const r=await Ne(),a=await Pe();jg(ke,{fname:e,lname:i,email:s,cityId:t,speciId:n,pass:R,legalNum:D,tin:z,phone:c,urlId:r,urlTin:a});try{await Me(s,R)}catch(o){console.log(o.message)}},className:"btnhewereg btnrewereg",children:"Submit"})]})]})]}):(0,Ge.jsx)(Ge.Fragment,{})]})})},rI=()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)(!1),[s,a]=(0,t.useState)("one"),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(""),[h,d]=(0,t.useState)(""),[p,f]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[_,b]=(0,t.useState)(""),x=(zm(Cx,"userall"),$()),{logIn:w,googleSignIn:S,forgetPass:E,user:T}=nI(),I=()=>{const t=document.querySelector(".checkboxe"),i=document.querySelector(".checkboxs");0==e?(t.checked=!0,i.checked=!1,n(!0),r(!1)):1==e&&(t.checked=!1,n(!1),r(!1))},k=()=>{const e=document.querySelector(".checkboxe"),t=document.querySelector(".checkboxs");0==i?(t.checked=!0,e.checked=!1,r(!0),n(!1)):1==i&&(t.checked=!1,r(!1),n(!1))};return(0,Ge.jsx)("div",{className:"logintext",children:(0,Ge.jsxs)("div",{className:"loginfile",children:[(0,Ge.jsxs)("div",{className:"loginimagereal",children:[(0,Ge.jsx)("div",{className:"logimagefake",children:(0,Ge.jsx)("img",{src:qe,alt:""})}),(0,Ge.jsx)("div",{className:"logimagefakeone",children:(0,Ge.jsx)("img",{src:Qe,className:"imagereallog",alt:""})}),(0,Ge.jsx)("h2",{children:"Weyzero"}),(0,Ge.jsx)("p",{children:"We are helping thousands of families in finding their perfect EMEBET.Let's Work Together On Emebet"}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewelog btnrewelog",children:"Go To Home Page"})}),(0,Ge.jsx)("h5",{children:"\xa9 2021"})]}),"one"==s?(0,Ge.jsxs)("div",{className:"loginpagetext",children:[(0,Ge.jsxs)("div",{className:"textloginreal",children:[(0,Ge.jsx)("div",{className:"logimagefakereal",children:(0,Ge.jsx)("img",{src:qe,alt:""})}),(0,Ge.jsx)("h2",{children:"Weyzero"}),(0,Ge.jsx)("p",{children:"Login Page"})]}),(0,Ge.jsx)("div",{className:"rolereal",children:(0,Ge.jsx)("p",{children:"What is your role?"})}),(0,Ge.jsxs)("div",{onClick:()=>I(),className:"inputreal inputrealemployee",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"",className:"checkbox checkboxe"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYEE (\u1230\u122b\u1270\u129b)"})]}),(0,Ge.jsxs)("div",{className:"inputreal inputrealemployee",onClick:()=>k(),children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"",className:"checkbox checkboxs"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYER (\u1240\u1323\u122a)"})]}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",value:p,onChange:e=>f(e.target.value),className:"textInputreal",placeholder:"Login With Email"})}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",value:y,onChange:e=>v(e.target.value),className:"textInputreal",placeholder:"Password"})}),(0,Ge.jsxs)("div",{className:"loginandforget",children:[(0,Ge.jsxs)("div",{className:"bothdorgote",children:[(0,Ge.jsx)("div",{className:"forget",children:(0,Ge.jsx)("button",{onClick:()=>{a("two")},children:" Forgot Password? "})}),(0,Ge.jsxs)("div",{className:"signup",children:["Don't have an account? ",(0,Ge.jsxs)("span",{children:[" ",(0,Ge.jsx)("a",{href:"",children:"Signup here"})]})]})]}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:async t=>{t.preventDefault(),b("");try{await w(p,y),T&&1==e?x("/"):T&&1==i&&x("/serv")}catch(_){b(_.message),console.log(_)}},className:"btnhewecontact btnrewecontact",children:"Login"})})]})]}):(0,Ge.jsx)(Ge.Fragment,{}),"two"==s?(0,Ge.jsxs)("div",{className:"loginpagetext",children:[(0,Ge.jsxs)("div",{className:"textloginreal",children:[(0,Ge.jsx)("div",{className:"logimagefakereal",children:(0,Ge.jsx)("img",{src:qe,alt:""})}),(0,Ge.jsx)("h2",{children:"Weyzero"}),(0,Ge.jsx)("p",{children:"Login Page"})]}),(0,Ge.jsx)("div",{className:"rolereal",children:(0,Ge.jsx)("p",{children:"What is your role?"})}),(0,Ge.jsxs)("div",{onClick:()=>I(),className:"inputreal inputrealemployee",children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"",className:"checkbox checkboxe"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYEE (\u1230\u122b\u1270\u129b)"})]}),(0,Ge.jsxs)("div",{className:"inputreal inputrealemployee",onClick:()=>k(),children:[(0,Ge.jsx)("input",{type:"checkbox",name:"",id:"",className:"checkbox checkboxs"})," ",(0,Ge.jsx)("span",{children:"I AM EMPLOYER (\u1240\u1323\u122a)"})]}),(0,Ge.jsx)("div",{className:"inputreal",children:(0,Ge.jsx)("input",{type:"text",name:"",id:"",value:m,onChange:e=>g(e.target.value),className:"textInputreal",placeholder:"Enter Your Email"})}),(0,Ge.jsx)("div",{className:"loginandforget",children:(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{onClick:async e=>{e.preventDefault(),b("");try{await E(m),alert("check your email")}catch(_){b(_.message),console.log(_)}},className:"btnhewecontact btnrewecontact",children:"Next"})})})]}):(0,Ge.jsx)(Ge.Fragment,{})]})})},sI=()=>(0,Ge.jsx)("div",{className:"term",children:(0,Ge.jsxs)("div",{className:"termreal",children:[(0,Ge.jsxs)("div",{className:"termserv",children:[(0,Ge.jsx)("h2",{children:"Terms And Conditions"}),(0,Ge.jsx)("hr",{})]}),(0,Ge.jsx)("h3",{children:"Terms of Services"}),(0,Ge.jsx)("p",{children:"These Terms of Use (\u201cTerms\u201d) govern your use of the Ewneta Weyzero platform, located at www.Ewneta Weyzero.net, any mobile applications, and services (\u201cSite\u201d) provided by Vintage Technologies PLC. (\u201cEwneta Weyzero\u201d). Please read these Terms before using or continuing to use the Site. Do not agree to the Terms unless you fully understand and accept each provision. By using or continuing to use the Site, you represent and warrant that you understand, agree to, and accept all terms and conditions contained in these Terms."}),(0,Ge.jsx)("h3",{children:"1. General terms"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero provides this Site to users seeking Maids, Female Tutors, Housekeepers, Adult care, Nanny, Baby Sitters, Care for special needs ,Cleaning, Cooking and Waitress service providers (\u201cEmployer\u201d) and to users seeking to provide such services (\u201cEmployees\u201d), and to any other entity on whose behalf users accept these Terms. The term \u201cyou\u201d or \u201cYou\u201d or \u201cUser\u201d or \u201cUsers\u201d shall refer to Employees,Employers,Agents or any person or entity who views, uses, accesses, browses or submits any content or material to the Site. These Terms are entered into by and between Ewneta Weyzero and you, and you accept them by: (a) contracting for employment service through the Site; (b) using the Site in any other manner; and/or (c) acknowledging agreement with these Terms. If you do not agree to these Terms, do not use the Site. To the extent that anything in or associated with the Site is in conflict or inconsistent with these Terms, the Terms shall control. Any express waiver or failure to exercise promptly any right under the Terms will not create a continuing waiver or any expectation of non-enforcement. If any provision of the Terms is held invalid by any law or regulation of any government, or by any court or arbitrator, the parties agree that such provision will be replaced with a new provision that accomplishes the original business purpose, and the other provisions of the Terms will remain in full force and effect."}),(0,Ge.jsx)("h3",{children:"2. Privacy Policy"}),(0,Ge.jsx)("p",{children:"Please refer to the Ewneta Weyzero Privacy Policy, for information on how Ewneta Weyzero collects, uses and discloses information about you."}),(0,Ge.jsx)("h3",{children:"3. Services"}),(0,Ge.jsx)("p",{children:"The Site offers a marketplace for those seeking Maids, Female Tutors, Housekeepers, Adult care, Nanny, Baby Sitters, Care for special needs ,Cleaning, Cooking and Waitress service providers to connect with those seeking to provide such services. Employers are responsible for selecting the right Ewneta Weyzero for their needs. In making hiring decisions, employers should review and investigate each Ewneta Weyzero\u2019s self-reported informations, credentials, and experience, as well as reviews from other employers if any. Ewneta Weyzero may controls and operates the Site from various locations and makes no representation that this website is appropriate or available for use in all locations. Ewneta Weyzero services may not be available in your location, and available services may vary among locations. Besides, Ewneta Weyzero will attempt to deliver all correspondence sent via the Site's messaging/request system. Ewneta Weyzero does not, however, guarantee delivery of all messages/requests."}),(0,Ge.jsx)("h3",{children:"4. Your obligations and conduct"}),(0,Ge.jsx)("p",{children:"In consideration of your use of the Site, you agree: (a) that you are of legal age and have capacity to agree to these Terms on your own behalf or on behalf of a minor who will be receiving the services; (b) to provide accurate, current, and complete information about you as may be prompted by a registration form on the website (\u201cRegistration Data\u201d); (c) to maintain the security of your password and identification; (d) to maintain and promptly update the Registration Data and any information you provide to Ewneta Weyzero, to keep it accurate, current and complete; and (e) to accept all risks of unauthorized access to information and Registration Data. You are not permitted to use the Site or the services or submit Content to the Site if you are under the age of 18. You are entirely responsible for all Content that you upload, post, or otherwise transmit through your use of the Site (\u201cContent\u201d). You agree not to upload, post or otherwise transmit Content that: (a) is inaccurate, harmful, obscene, pornographic, defamatory, racist, violent, offensive, harassing, or otherwise objectionable to Ewneta Weyzero or other users of the website; (b) includes unauthorized disclosure of personal information; (c) violates or infringes anyone's intellectual property rights; or (d) contains software viruses or any other computer code, files or programs designed to interrupt, destroy or limit the functionality of any computer software or hardware or telecommunications equipment. Ewneta Weyzero reserves the right to edit or remove Content that violates these Terms, that contains third-party commercial advertisements, or for any other reason it deems necessary. You agree to use the Site in a manner that is lawful, relevant and proper to the applicable forum. Any use of the Site that Ewneta Weyzero, in its sole discretion, finds inappropriate and/or offensive may result in suspension and/or termination of a User with or without notice. Conduct that is inappropriate and/or offensive includes without limitation the following: Defame, abuse, harass, harm, stalk, threaten or otherwise violate the legal rights (including without limitation rights of privacy and publicity) of others; Publish, post, upload, distribute or disseminate any profane, defamatory, infringing, hateful, distasteful, obscene or unlawful topic, name, information, materials or content; Use the Site for any purpose that violates local, state, national, or international law, including without limitation wage/hour and working condition laws and regulations; Upload files that contain software or other material that violates the rights of any third party, including without limitation intellectual property rights or rights of privacy or publicity; Upload files that contain viruses, Trojan horses, worms, time bombs, spiders, cancel bots, corrupted files, or any other similar software, malware or materials that may damage, interfere with, disrupt, impair, disable or otherwise overburden the operation of any device, computer system or network; Take any action that would undermine any aspect of the Site; Attempt to gain unauthorized access to the Site, other User accounts, or other device, computer system or networks connected to the Site; Advertise or offer to sell any goods or services for any commercial purpose on the Site that are not appropriate or relevant to the Site; Impersonate another person or allow any other person or entity to use your user name, password or membership; Post the same content repeatedly or spam - spamming is strictly prohibited; Access, download, or copy any information, content and/or materials from the Site through artificial means (including without limitation spiders, scrapers, hacking devices, computer programs, bots, web spoofing, URL rewriting or other such means); Reproduce, duplicate, copy, sell, re-sell or exploit any information, materials or content on the Site; or Restrict or inhibit any other user from using and enjoying the Site. By using the Site, you represent and warrant that you currently meet and will continue to meet the following eligibility conditions (\u201cEligibility Conditions\u201d) for as long as you use the Site: (a) you have and will at all times comply with all laws and regulations; (b) you have the right, authority and capacity to enter into these Terms and to abide by all of terms and conditions in these Terms; (c) neither you, nor anyone in your home: (i) has been the subject of a complaint, restraining order or any other legal action involving violence, abuse, neglect, fraud, larceny, or any offense that involves endangering the safety of others; (ii) has been convicted of a crime of any nature, including any felony or misdemeanor of any kind, including without limitation any sexual, child abuse or domestic violence offenses; and/or (iii) has been and/or is currently required to register as a sex offender in any jurisdiction or with any government entity; and (d) neither you, nor anyone in your home, is currently out on bail or on your own recognizance pending trial, relating to any felony or misdemeanor charges of any kind, including without limitation sexual, child abuse or domestic violence offenses. By using the Site, you understand and agree that Ewneta Weyzero may rely on the above Eligibility Conditions representations and warranties as true. You understand and agree that Ewneta Weyzero may revise the Eligibility Conditions from time to time and require new conditions and certifications and that User will abide by such revised Eligibility Conditions or discontinue using the Site. You hereby authorize Ewneta Weyzero to verify the above representations and warranties by you and you acknowledge and agree that Ewneta Weyzero shall have the right, but not the obligation, to verify such representations and warranties. You agree and understand that such verification may include, without limitation, conducting criminal background checks, sex offender registry checks, identification verifications and/or use of available public records. You consent to any collection, use or disclosure to accomplish such verification. You further agree that Ewneta Weyzero may take such action as it, in its sole discretion, deems appropriate, including without limitation suspending and/or terminating your use of the Site, should it determine that you have violated any representation or warranty. Ewneta Weyzero expressly disclaims, and you expressly release Ewneta Weyzero from, any liability whatsoever for any controversies, claims, suits, injuries and/or damages arising from and/or in any way related to: (a) any inaccuracy, untimeliness or incompleteness regarding a User's Eligibility Conditions and/or (b) misstatements or misrepresentations made by any User. Ewneta Weyzero reserves all of its rights under the Communications Decency Act, including without limitation its right to remove anything objectionable to Ewneta Weyzero in its sole discretion. Alleged improprieties by any User may be reported to Ewneta Weyzero by email at abelahabtamu1@gmail.com."}),(0,Ge.jsx)("h3",{children:"5. Third party reports and verification services"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero may utilize third party consumer reporting agencies that perform, among other things, criminal background checks, sex offender registry checks, identification verifications, and Background Information check on employees. Ewneta Weyzero may work with third party partners to perform criminal background checks on employees, and we receive information from them such as publicly available information about a employee\u2019s criminal history. You agree that Ewneta Weyzero shall not be held responsible or liable in any way if any information provided by a third party verification service is inaccurate. When a third party verification service is used, you warrant that you will comply with the Fair Credit Reporting Act. You hereby consent to Ewneta Weyzero collecting, using and disclosing the information in the consumer reports. You understand and agree that Ewneta Weyzero may, in its sole discretion, review and rely on the information in the consumer reports in deciding whether to suspend or terminate a User or to investigate a complaint about a User, but that Ewneta Weyzero shall not be responsible or liable in any way if any information in the consumer reports about any person, including without limitation any User, is not accurate, timely or complete. Users who are the subject of consumer reports may contact the service provider to dispute the accuracy, timeliness or completeness of such information. Ewneta Weyzero reserves the right to suspend and/or terminate User based on information in the consumer reports or for any other reason in Ewneta Weyzero's sole discretion. Payment processing services on Ewneta Weyzero are provided by Third parties and are subject to the Third parties terms of service (collectively, the \u201cServices Agreement\u201d). By agreeing to Ewneta Weyzero's Terms of Service Agreement or continuing to operate as an account holder on Ewneta Weyzero, you agree to be bound by the Third party Services Agreement, as the same may be modified by third parties from time to time. As a condition of Ewneta Weyzero enabling payment processing services through third parties, you agree to provide Ewneta Weyzero accurate and complete information about you, and you authorize Ewneta Weyzero to share it and transaction information related to your use of the payment processing services provided by the third parties."}),(0,Ge.jsx)("h3",{children:"6. Confidentiality of Ewneta Weyzero information"}),(0,Ge.jsx)("p",{children:"You may obtain direct access via the Site to certain confidential information of Ewneta Weyzero and its affiliates, including without limitation technical, contractual, pricing, marketing and other valuable information that should reasonably be understood as confidential (\u201cConfidential Information\u201d). You must hold Confidential Information in strict confidence. All right, title and interest in the Confidential Information remains with Ewneta Weyzero and its affiliates. The Terms impose no obligation upon you concerning Confidential Information that you can establish by legally sufficient evidence: (a) you possessed before your receipt from Ewneta Weyzero, without an obligation to maintain its confidentiality; (b) is or becomes generally known to the public through no act or omission by you, or otherwise without violation of the Terms; (c) you obtained from a third party who had the right to disclose it, without an obligation to keep such information confidential; (d) you independently developed without the use of Confidential Information and without the participation of individuals who have had access to it, or (e) in response to a valid order by a court or other governmental body, or as otherwise required by law, or as necessary to establish the rights of either party under these Terms and as disclosed after prior notice to Ewneta Weyzero, adequate to allow Ewneta Weyzero to object to the disclosure."}),(0,Ge.jsx)("h3",{children:"7. Content submitted to the site"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero does not claim ownership of the Content that you place on the website and shall have no obligation of any kind concerning such Content. Unless otherwise stated herein, any Content that you provide in connection with this website shall be deemed to be provided on a non-confidential basis. Ewneta Weyzero shall be free to use or disseminate such Content on an unrestricted basis for any purpose, and you grant Ewneta Weyzero an irrevocable, worldwide, royalty-free, nonexclusive license to use, reproduce, modify, distribute, transmit, display, perform, adapt, resell and publish such Content (including in digital form). You represent and warrant that you have proper authorization for the worldwide transfer and processing among Ewneta Weyzero, its affiliates, and third-party providers of any information that you may provide on the Site."}),(0,Ge.jsx)("h3",{children:"8. Advertisements and promotions"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero may run advertisements and promotions from third parties on the Site. Your correspondence or business dealings with, or participation in promotions of, advertisers other than Ewneta Weyzero found on or through the Site, including payment and delivery of related goods or services, and any other terms, conditions, warranties or representations associated with such dealings, are solely between you and such advertiser. Ewneta Weyzero is not responsible or liable for any loss or damage of any sort incurred as the result of any such dealings or as the result of the presence of such non-Ewneta Weyzero advertisers on the Site."}),(0,Ge.jsx)("h3",{children:"9. Text message notifications"}),(0,Ge.jsx)("p",{children:"We may deliver text message notifications through Ethio Telecom or other telecom Service Provider. Telecom is not liable for delayed or undelivered messages. Questions for help or more information email abelahabtamu1@gmail.com"}),(0,Ge.jsx)("h3",{children:"10. Content provided via links"}),(0,Ge.jsx)("p",{children:"You may find links to other websites or resources on the Site. You acknowledge and agree that Ewneta Weyzero is not responsible for the availability of such external sites or resources, and does not endorse and is not responsible or liable for any content, advertising, products, or other materials on or available from such sites or resources. Ewneta Weyzero will not be responsible or liable, directly or indirectly, for any actual or alleged damage or loss caused by or in connection with use of or reliance on any such content, goods or services available on or through any such site or resource."}),(0,Ge.jsx)("h3",{children:"11. Intellectual property rights"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero permits you (which may be revoked at any time for any reason or no reason) to use the Site for the services as provided herein and per these Terms and solely for your own personal, non-commercial use (except as provided herein), provided you do not remove any trademark, copyright or other notice contained on such pages. No other use is permitted. You may not, for example, incorporate the information, content, or other material in any database, compilation, archive or cache. Except as specifically authorized by Ewneta Weyzero, you may not deep-link to the Site for any purpose or access the Site manually or with any robot, spider, web crawler, extraction software, automated process or device to scrape, copy, or monitor any portion of the Site or any information, content, or material on the Site. Ewneta Weyzero reserves all of its statutory and common law rights against any person or entity who violates this paragraph. You may not link or frame to any pages of the Site or any content contained therein, whether in whole or in part, without prior written consent from Ewneta Weyzero. You may like or follow Ewneta Weyzero or share links to the Site via social networking technology referenced on the Site. Any rights not expressly granted herein are reserved. Except as expressly authorized by Ewneta Weyzero or by Content providers, you agree not to reproduce, modify, rent, lease, loan, sell, distribute, mirror, frame, republish, download, transmit, or create derivative works of the Content of others, in whole or in part, by any means. You must not modify, decompile, or reverse engineer any software Ewneta Weyzero discloses to you, and you must not remove or modify any copyright or trademark notice, or other notice of ownership. \u201cEwneta Weyzero Trademarks\u201d means all names, marks, brands, logos, designs, trade dress, slogans and other designations Ewneta Weyzero uses in connection with its products and services. You may not remove or alter any Ewneta Weyzero Trademarks, or co-brand your own products or material with Ewneta Weyzero Trademarks, without Ewneta Weyzero's prior written consent. You acknowledge Ewneta Weyzero's rights in Ewneta Weyzero Trademarks and agree that any use of Ewneta Weyzero Trademarks by you shall inure to Ewneta Weyzero's sole benefit. You agree not to incorporate any Ewneta Weyzero Trademarks into your trademarks, service marks, company names, internet addresses, domain names, or any other similar designations, for use on or in connection with computer or internet-related products, services or technologies. Unless explicitly stated herein, nothing in these Terms shall be construed as conferring any license to intellectual property rights, whether by estoppels, implication, or otherwise. Permission is granted to display, copy, distribute and download Content owned by Ewneta Weyzero on this Site provided that: (a)the copyright notice about the Content remains, and a permission notice (e.g., \"used with permission\") is added to such Content; (b) the use of such Content is solely for personal and non-commercial use; (c) such Content will not be copied or posted on any networked computer or published in any medium, except as explicitly permitted by valid permission or license covering such materials; and (d) no modifications are made to such Content. This permission terminates automatically without notice if you breach any of the terms or conditions in this document. Upon termination, you must immediately destroy any downloaded and/or printed Content."}),(0,Ge.jsx)("h3",{children:"12. Copyright Infringement"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero respects the intellectual property of others, and we ask our users to do the same. Thus, in your use of and interactions with Ewneta Weyzero and the Site, you may not post, modify, distribute, or reproduce in any way any Content that is copyrighted material belonging to others, without obtaining their prior written consent. Ewneta Weyzero reserves the right, in its discretion, to remove any Content if we believe it may infringe the copyright rights of others, and/or to terminate the accounts of Users who we believe to be infringers. If you believe in good faith that content or material hosted on the Site infringes your copyright, you (or your agent) may send Ewneta Weyzero a notice requesting that the content or material be removed, or access to it blocked. The notice must include the following information: (a) a physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed; (b) identification of the copyrighted work claimed to have been infringed (or if multiple copyrighted works are covered by a single notification, a representative list of such works); (c) identification of the material that is claimed to be infringing or the subject of infringing activity, and information reasonably sufficient to allow Ewneta Weyzero to locate the content or material within the Site; (d) the name, address, telephone number and email address (if available) of the complaining party; (e) a statement that the complaining party has a good faith belief that use of the content or material in the manner complained of is not authorized by the copyright owner, its agent or the law; and (f) a statement that the information in the notification is accurate and, under penalty of perjury, that the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed. Ewneta Weyzero\u2019s agent for notice of claims of copyright or other intellectual property infringement can be reached as follows: By email: abelahabtamu1@gmail.com. We suggest that you consult with a legal advisor before filing a notice. Also, be aware that there can be penalties for false claims."}),(0,Ge.jsx)("h3",{children:"13. Termination and suspension"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero reserves the right to suspend and/or terminate any user with or without notice at any time in its sole discretion, for any reason or no reason. You agree that, if you are suspended and/or terminated, you will make no further use of the Site after termination or during suspension."}),(0,Ge.jsx)("h3",{children:"14. Disclaimer of warranties"}),(0,Ge.jsx)("p",{children:"USE OF THE SITE IS AT YOUR SOLE RISK UNLESS OTHERWISE EXPLICITLY STATED. THE SITE, INCLUDING THE INFORMATION, SERVICES, AND CONTENT, IS PROVIDED ON AN \u201cAS IS\u201d, \u201cAS AVAILABLE\u201d, AND \u201cWITH ALL FAULTS\u201d BASIS. Ewneta Weyzero DISCLAIMS ALL EXPRESS OR IMPLIED CONDITIONS, REPRESENTATIONS, AND WARRANTIES OF ANY KIND, INCLUDING ANY IMPLIED WARRANTY OR CONDITION OF MERCHANTABILITY, SATISFACTORY QUALITY, OR FITNESS FOR A PARTICULAR PURPOSE. Ewneta Weyzero MAKES NO REPRESENTATIONS, WARRANTIES, CONDITIONS OR GUARANTEES AS TO THE USEFULNESS, QUALITY, SUITABILITY, TRUTH, ACCURACY, OR COMPLETENESS OF THE SITE. Ewneta Weyzero MAKES NO WARRANTY OR REPRESENTATIONS THAT: (A) THE SITE WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE; (B) THE RESULTS THAT MAY BE OBTAINED FROM THE USE OF THE WEBSITE WILL BE ACCURATE OR RELIABLE; (C) THE QUALITY OF ANY PRODUCTS, SERVICES, CONTENT, INFORMATION, OR OTHER MATERIAL OBTAINED FROM EMPLOYEES WILL MEET YOUR EXPECTATIONS OR REQUIREMENTS; OR (D) ANY ERRORS IN THE SITE WILL BE CORRECTED. YOU ASSUME ALL RISK FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR LOSS OF DATA THAT RESULTS FROM OBTAINING ANY CONTENT FROM THE SITE, INCLUDING ANY DAMAGES RESULTING FROM COMPUTER VIRUSES."}),(0,Ge.jsx)("h3",{children:"15. Limitation of liability"}),(0,Ge.jsx)("p",{children:"THE SITE OFFERS A MARKETPLACE FOR THOSE SEEKING Maids, Female Tutors, Housekeepers, Adult care, Nanny, Baby Sitters, Care for special needs, Cleaning, Cooking and Waitress SERVICE TO CONNECT WITH THOSE SEEKING TO PROVIDE SUCH SERVICES. YOU UNDERSTAND AND AGREE THAT Ewneta Weyzero HAS NO CONTROL OVER THE ACTS OR OMISSIONS OF ANY USER ON OR OFF THE SITE AND THAT Ewneta Weyzero MAKES NO REPRESENTATIONS OR WARRANTIES ABOUT THE QUALITY OF THE SERVICES PROVIDED BY ANY USER. YOU UNDERSTAND AND AGREE THAT Ewneta Weyzero IS NOT RESPONSIBLE FOR THE PERFORMANCE OR CONDUCT, WHETHER ON OR OFF THE SITE, OF ANY USER. AS SUCH, Ewneta Weyzero EXPRESSLY DISCLAIMS, AND EACH USER EXPRESSLY RELEASES Ewneta Weyzero FROM, ANY AND ALL LIABILITY WHATSOEVER FOR ANY CONTROVERSIES, CLAIMS, SUITS, INJURIES AND/OR DAMAGES ARISING FROM AND/OR IN ANY WAY RELATED TO THE SITE, INCLUDING WITHOUT LIMITATION ANY ACTS AND/OR OMISSIONS OF USERS ON OR OFF THE SITE. USERS OF THE SITE TRANSACT BETWEEN THEMSELVES. Ewneta Weyzero WILL/WILL NOT BE INVOLVED IN ANY USER INTERACTIONS. Ewneta Weyzero IS NOT RESPONSIBLE FOR DISPUTES, CLAIMS, LOSS, INJURY, OR DAMAGE OF ANY KIND THAT MIGHT ARISE DURING AND AFTER USER INTERACTION. TO THE FULL EXTENT PERMITTED BY LAW, Ewneta Weyzero IS NOT LIABLE FOR ANY DIRECT, INDIRECT, PUNITIVE, SPECIAL, INCIDENTAL, CONSEQUENTIAL, OR EXEMPLARY DAMAGES (INCLUDING WITHOUT LIMITATION LOSS OF BUSINESS, REVENUE, PROFITS, GOODWILL, USE, DATA, ELECTRONICALLY TRANSMITTED ORDERS, OR OTHER ECONOMIC ADVANTAGE) ARISING OUT OF OR IN CONNECTION WITH THE SITE, EVEN IF Ewneta Weyzero HAS PREVIOUSLY BEEN ADVISED OF, OR REASONABLY COULD HAVE FORESEEN, THE POSSIBILITY OF SUCH DAMAGES, HOWEVER THEY ARISE, WHETHER IN BREACH OF CONTRACT OR IN TORT (INCLUDING NEGLIGENCE), INCLUDING WITHOUT LIMITATION DAMAGES DUE TO: (A) THE USE OF OR THE INABILITY TO USE THE SITE; (B) THE COST OR PROCUREMENT OF SUBSTITUTE GOODS AND SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION, OR SERVICES PURCHASED OR OBTAINED, OR MESSAGES RECEIVED OR TRANSACTIONS ENTERED INTO, THROUGH OR FROM THE SITE; (C) STATEMENTS OR CONDUCT OF ANY THIRD PARTY ON THE SITE, INCLUDING WITHOUT LIMITATION UNAUTHORIZED ACCESS TO OR ALTERATION OF TRANSMISSION OR DATA, MALICIOUS OR CRIMINAL BEHAVIOR, OR FALSE OR FRAUDULENT TRANSACTIONS; OR (D) CONTENT OR INFORMATION USERS MAY DOWNLOAD, USE, MODIFY, OR DISTRIBUTE. THESE LIMITATIONS SHALL APPLY NOTWITHSTANDING ANY FAILURE OF ESSENTIAL PURPOSE OF ANY LIMITED REMEDY. BECAUSE SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR CONSEQUENTIAL OR INCIDENTAL DAMAGES, THE ABOVE LIMITATIONS MAY NOT APPLY TO YOU. IN NO EVENT SHALL Ewneta Weyzero\u2019s TOTAL LIABILITY TO YOU FOR ALL DAMAGES, LOSSES AND CAUSES OF ACTION, WHETHER IN CONTRACT, TORT (INCLUDING BUT NOT LIMITED TO, NEGLIGENCE) OR OTHERWISE, EXCEED (A) THE AMOUNT PAID BY YOU TO Ewneta Weyzero OR A Ewneta Weyzero PARTNER, IF ANY, OR (B) 100ETB (WHICHEVER IS LESS). WE RESERVES THE RIGHT TO CHANGE FEES. YOU AND Ewneta Weyzero AGREE THAT THE WARRANTY DISCLAIMERS AND LIMITATIONS OF LIABILITY IN THESE TERMS ARE MATERIAL, BARGAINED-FOR BASES OF THIS AGREEMENT, AND THAT THEY HAVE BEEN TAKEN INTO ACCOUNT IN DETERMINING THE CONSIDERATION TO BE GIVEN BY EACH PARTY UNDER THIS AGREEMENT AND IN THE DECISION BY EACH PARTY TO ENTER INTO THIS AGREEMENT. YOU AND Ewneta Weyzero AGREE THAT THE WARRANTY DISCLAIMERS AND LIMITATIONS OF LIABILITY IN THESE TERMS ARE FAIR AND REASONABLE. IF YOU ARE DISSATISFIED WITH THE SITE OR DO NOT AGREE TO ANY PROVISIONS OF THESE TERMS, YOUR SOLE AND EXCLUSIVE REMEDY IS TO DISCONTINUE USING THE SITE, EXCEPT AS MAY BE PROVIDED FOR IN THIS SECTION 17."}),(0,Ge.jsx)("h3",{children:"16. Assumption of risk"}),(0,Ge.jsx)("p",{children:"You agree and understand that you assume all risks when using the Site, including without limitation any of the risks associated with any online or offline interactions with other Users. You agree to take all necessary precautions, including without limitation following the recommendations outlined in Ewneta Weyzero\u2019s Safety Tips, when interacting with other users."}),(0,Ge.jsx)("h3",{children:"17. Indemnification"}),(0,Ge.jsx)("p",{children:"You agree to indemnify, defend, and hold harmless Ewneta Weyzero and its subsidiaries, affiliates, shareholders, officers, directors, agents, licensors, suppliers, other partners, employees, and representatives from and against any and all claims, demands, causes of action, losses, expenses, damages and/or liabilities, including reasonable attorney's fees and court costs, incurred by Ewneta Weyzero in any way related to your (a) acts and/or omissions on or off the site; (b) violation of any rights of another, including without limitation any alleged infringement of intellectual property or other right of any person or entity relating to the Site; (c) breach of these Terms; (d) disputes with or between other Users; (e) use and/or misuse of the Site, including without limitation any information, content and/or materials thereon; (f) violation of any applicable law or regulation; (g) inaccurate, untimely, incomplete or misleading User information, including without limitation with respect to registration, profile or eligibility; (h) misstatements and/or misrepresentations; (i) use of links to third party websites, including without limitation such websites' availability, terms of use, privacy policy, information, content, materials, advertising, products and/or services; (j) User information and any acts or omissions with respect to such User information; (k) use of any information in third-party reports; (l) use of third party payment processing services; (m) use of phone support services; and/or (n) use of any services or products or any contracts or arrangements made or provided based on information, content and/or materials obtained on or through the site. You further agree that you will cooperate as requested by Ewneta Weyzero in the defense of such claims. Ewneta Weyzero reserves the right, at its own expense, to assume the exclusive defense and control of any matter otherwise subject to indemnification by Users, and you shall not, in any event, settle any claim or matter on behalf of Ewneta Weyzero without the written consent of Ewneta Weyzero."}),(0,Ge.jsx)("h3",{children:"18. Arbitration"}),(0,Ge.jsx)("p",{children:"Any controversy, claim, suit, injury or damage arising from or in any way related to the Site, its use, its User (e.g. Employers, Employees, Agents) conduct, or the Terms shall be settled by binding arbitration under the Laws of Ethiopia. Ewneta Weyzero and you will attempt to agree on a single arbitrator. If agreement is not possible, each party will select its own arbitrator. Each party's arbitrator will, in turn, confer and select a single arbitrator. The arbitrator will base the decision on the evidence presented and following these Terms and governing law, including statutory and judicial authority. The arbitrator can award the same damages and relief on an individual basis that a court can award to an individual under these Terms and applicable law. The arbitrator will issue a written decision, which will contain the essential findings and conclusions on which the decision is based. The arbitrator's decision will be final and binding upon all parties. YOU AND Ewneta Weyzero AGREE THAT EACH OF US MAY BRING CLAIMS, SUIT, INJURY, HARM, LOSS OR DAMAGE AGAINST THE OTHER ONLY ON AN INDIVIDUAL BASIS AND NOT AS A PLAINTIFF OR CLASS MEMBER IN ANY PURPORTED CLASS OR REPRESENTATIVE ACTION OR PROCEEDING. UNLESS BOTH YOU AND Ewneta Weyzero AGREE OTHERWISE, THE ARBITRATOR MAY NOT CONSOLIDATE OR JOIN MORE THAN ONE PERSON\u2019S OR PARTY\u2019S CLAIMS AND MAY NOT OTHERWISE PRESIDE OVER ANY FORM OF A CONSOLIDATED, REPRESENTATIVE, OR CLASS PROCEEDING. ALSO, THE ARBITRATOR MAY AWARD RELIEF (INCLUDING MONETARY, INJUNCTIVE, AND DECLARATORY RELIEF) ONLY IN FAVOR OF THE INDIVIDUAL PARTY SEEKING RELIEF AND ONLY TO THE EXTENT NECESSARY TO PROVIDE RELIEF NECESSITATED BY THAT PARTY\u2019S INDIVIDUAL CLAIM(S). ANY RELIEF AWARDED CANNOT AFFECT OTHER Ewneta Weyzero USERS. The arbitration shall be conducted at a location which is reasonably convenient to both parties with due consideration of their ability to travel and other pertinent circumstances; and the judgment of the arbitration award may be entered by any court having jurisdiction thereof. Each party will pay its own attorneys\u2019 fees, subject to any remedies to which that party may later be entitled under applicable law. You will bear only those costs of arbitration that you would have borne had you brought a claim covered by this arbitration provision in court. If you demonstrate to the arbitrator that the costs of arbitration will be prohibitive as compared to the costs of litigation, Ewneta Weyzero will pay as much of the arbitration fees as the arbitrator deems necessary to prevent the arbitration from being cost-prohibitive. Notwithstanding anything to the contrary, disputes may be brought before an administrative agency to the extent applicable law requires access to an agency notwithstanding the existence of this arbitration provision. Nothing in this arbitration provision shall be construed to: (i) relieve any party of the duty to exhaust administrative remedies by filing a charge or complaint with an administrative agency and obtaining a right to sue notice, where otherwise required by law; or (ii) prevent either party from cooperating with a federal or state body as required by law. However, you understand that you are not entitled to a double recovery or eligible to receive any monetary benefit from any action brought by an administrative agency except as required by law. You may represent yourself in the arbitration or be represented by an attorney or another representative. Once we receive your arbitration claim, we may assert any counterclaims we may have against you. If a tribunal or arbitrator of competent jurisdiction determines that the arbitration provision is unenforceable, you agree that the exclusive forum and/or venue for any controversy, claim, suit, injury, harm, loss or damage arising from or in any way related to the use, inability to use or provision of these Terms shall be any State Court or Federal Court, and you hereby submit to the exclusive jurisdiction of those courts for purposes of any such proceeding. You and Ewneta Weyzero agree that any dispute is personal to you and Ewneta Weyzero and that any such controversy, claim, suit, injury, harm, loss or damage shall be brought on an individual basis, and shall not be consolidated with any controversy, claim, suit, injury, harm, loss or damage of any other party. However, this representative action waiver may be severed if it would otherwise render these Terms unenforceable."}),(0,Ge.jsx)("h3",{children:"19. Injunction"}),(0,Ge.jsx)("p",{children:"You agree that any material breach of the Terms will result in irreparable harm to Ewneta Weyzero for which damages would be an inadequate remedy and, therefore, in addition to its rights and remedies otherwise available at law, Ewneta Weyzero will be entitled to equitable relief, including both a preliminary and permanent injunction, if such a breach occurs. You waive any requirement for the posting of a bond or other security if Ewneta Weyzero seeks such an injunction."}),(0,Ge.jsx)("h3",{children:"20. Notices; modification and termination of services; amendment of terms"}),(0,Ge.jsx)("p",{children:"Ewneta Weyzero may provide notice to Users via email, regular mail, or posting notices or links to notices on the Site. Ewneta Weyzero reserves the right at any time to modify, suspend or terminate the services (or any part thereof), and/or use of or access to them, with or without notice. Ewneta Weyzero may also delete, or bar access to or use of, all related information and files. Ewneta Weyzero will not be liable to Users or any third-party for any modification, suspension, or termination of service, or loss of related information. Ewneta Weyzero may amend these Terms at any time by posting the amended terms on this Site."}),(0,Ge.jsx)("h3",{children:"21. Governing law"}),(0,Ge.jsx)("p",{children:"This Agreement shall be governed by and construed following the substantive laws, without regard to choice of law rules, of the State of Ethiopia."}),(0,Ge.jsx)("h3",{children:"22. Entire agreement"}),(0,Ge.jsx)("p",{children:"These Terms constitute the entire agreement between you and Ewneta Weyzero relating to their subject matter, and cancel and supersede any prior versions of the Terms. You may not assign or otherwise transfer the Terms or any right granted hereunder. You also may be subject to additional terms and conditions that may apply when you use Ewneta Weyzero or third-party products or services."})]})}),aI=n.p+"static/media/blogger_5449026-removebg-preview.f0be34bcbd6fe90b560c.png",oI=n.p+"static/media/caregiver_2512441-removebg-preview.1ce9fda35e05363c8ec4.png",lI=n.p+"static/media/housekeeper_6966743-removebg-preview.25850a09f7e1c702d879.png",cI=n.p+"static/media/hair_9951559-removebg-preview.0137b87012a26d28e0fb.png",uI=n.p+"static/media/customer-support_2114809-removebg-preview.bf67c23670323015a129.png",hI=n.p+"static/media/financial-advisor_4256762-removebg-preview.b930507ac62a50a3ac14.png",dI=n.p+"static/media/chef_1249857-removebg-preview.a3fae59f702483c17312.png",pI=n.p+"static/media/accountant_2607547-removebg-preview.eae7f05a401b865f1272.png",fI=n.p+"static/media/service.c709e446e0c7636999e3.png",mI=(n.p,()=>(0,Ge.jsxs)("div",{className:"servi",children:[(0,Ge.jsx)("div",{className:"herosec11",children:(0,Ge.jsxs)("div",{className:"starthero11",children:[(0,Ge.jsx)("h1",{children:"Our Services"}),(0,Ge.jsx)("div",{className:"startherobtnWork11",children:(0,Ge.jsx)("img",{src:fI,alt:""})})]})}),(0,Ge.jsx)("div",{className:"herosec22",children:(0,Ge.jsxs)("div",{className:"heroservi",children:[(0,Ge.jsx)("h2",{children:"Explore services"}),(0,Ge.jsx)("hr",{}),(0,Ge.jsxs)("div",{className:"serviiceHero",children:[(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:$e,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Private Nurse "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:et,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Adult Care  "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:tt,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Baby Sitter  "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:nt,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"House Keeper "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:it,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Tutor  "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:rt,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Cleaner"})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:st,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Waitress   "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:at,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Cooking "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:oI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{style:{textAlign:"center"},children:"Care for Special Needs "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:lI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Maid  "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:cI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Hair Stylist "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:uI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Receptionist  "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:hI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Sales"})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:dI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Chef (\u123c\u134d)   "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:pI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Accountant "})]}),(0,Ge.jsxs)("div",{className:"conservie",children:[(0,Ge.jsx)("img",{src:aI,className:"imgservie",alt:""}),(0,Ge.jsx)("h4",{children:"Secretary "})]})]})]})}),(0,Ge.jsx)("div",{className:"herosec66",children:(0,Ge.jsxs)("div",{className:"startheroo",children:[(0,Ge.jsx)("h1",{children:"Start Working With Our Company"}),(0,Ge.jsx)("div",{className:"startherobtnWork",children:(0,Ge.jsx)("button",{className:"startbtnhewe6 startbtnrewe6",children:"Register As Agent Now"})})]})})]})),gI=(n.p,()=>{const[e,n]=(0,t.useState)(!1),[i,r]=(0,t.useState)([]),[s,a]=(0,t.useState)(null),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[h,d]=(0,t.useState)(null),[p,f]=(0,t.useState)(null),[m,g]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[_,b]=(0,t.useState)(""),[x,w]=(0,t.useState)(""),[S,E]=(0,t.useState)(""),[T,I]=(0,t.useState)(""),[k,C]=(0,t.useState)(""),[A,P]=(0,t.useState)(""),[N,M]=(0,t.useState)(""),[R,O]=(0,t.useState)(""),[D,L]=(0,t.useState)(""),[z,j]=(0,t.useState)(""),[F,B]=(0,t.useState)([]),[V,U]=(0,t.useState)("one"),q=zm(Cx,"userall");Tx(Ax,"images/");(0,t.useEffect)((()=>{H()}),[]);const H=async()=>{u(!0);const e=gg(q,xg(8)),t=await zg(e);r(t.docs.map((e=>({...e.data(),id:e.id})))),d(t.docs[t.docs.length-1]),u(!1)},G=$(),W=async e=>{await jm(Cx,"userall",e);G("/detail",{state:e})};return(0,Ge.jsxs)("div",{className:"employe",children:[(0,Ge.jsx)("div",{className:"herosec10"}),(0,Ge.jsxs)("div",{className:"herosec20",children:[(0,Ge.jsx)("h3",{children:"Available Emebets"}),(0,Ge.jsxs)("button",{onClick:()=>{const t=document.querySelector(".herosec20"),i=document.querySelector(".searchFilter");0==e?(t.style="height:600px;",i.style="display:flex;",n(!0)):1==e&&(t.style="height:200px;",i.style="display:none;",n(!1))},children:["Advance Search With Filters",(0,Ge.jsx)(Ue,{})]}),(0,Ge.jsxs)("div",{className:"searchFilter",children:[(0,Ge.jsxs)("div",{className:"searchdiv",children:[(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{onChange:e=>b(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Select Age  "}),(0,Ge.jsx)("option",{value:"0-18",children:" Below 18 "}),(0,Ge.jsx)("option",{value:"18-24",children:" 18-24 "}),(0,Ge.jsx)("option",{value:"25-30",children:" 25-30   "}),(0,Ge.jsx)("option",{value:"31-60",children:" Above 31  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",value:m,onChange:e=>g(e.target.value),children:(0,Ge.jsxs)("select",{className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Select City   "}),(0,Ge.jsx)("option",{value:"Addis Ababa",children:" Addis Ababa "}),(0,Ge.jsx)("option",{value:"Jimma",children:" Jimma  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:m&&(0,Ge.jsx)("select",{id:"locId",value:y,onChange:e=>v(e.target.value),className:"inputreal selectReg",children:{"Addis Ababa":["Select Location","Lebu","Kaliti","Megenagna"],Jimma:["Select Location","Ajip","Saris","Qochi"]}[m].map((e=>(0,Ge.jsx)("option",{children:e})))})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:T,onChange:e=>I(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Religion   "}),(0,Ge.jsx)("option",{value:"Orthodox",children:" Orthodox "}),(0,Ge.jsx)("option",{value:"Muslim",children:" Muslim  "}),(0,Ge.jsx)("option",{value:"Protestant",children:" Protestant  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:k,onChange:e=>C(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:" Language   "}),(0,Ge.jsx)("option",{value:"Amharic",children:" Amharic "}),(0,Ge.jsx)("option",{value:"Oromifa",children:" Oromifa  "}),(0,Ge.jsx)("option",{value:"Tigregna",children:" Tigregna  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:x,onChange:e=>w(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Select Type   "}),(0,Ge.jsx)("option",{value:"Full Time",children:" Full Time "}),(0,Ge.jsx)("option",{value:"Part Time",children:" Part Time "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:A,onChange:e=>P(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Learner  ?   "}),(0,Ge.jsx)("option",{value:"Yes",children:" Yes "}),(0,Ge.jsx)("option",{value:"No",children:" No  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:D,onChange:e=>L(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Residence   "}),(0,Ge.jsx)("option",{value:"Live In",children:" Live In "}),(0,Ge.jsx)("option",{value:"Live Out",children:" Live Out  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:R,onChange:e=>O(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Has Child   "}),(0,Ge.jsx)("option",{value:"Yes",children:" Yes "}),(0,Ge.jsx)("option",{value:"No",children:" No  "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:z,onChange:e=>j(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Select Service   "}),(0,Ge.jsx)("option",{value:"Private Nurse",children:" Private Nurse "}),(0,Ge.jsx)("option",{value:"Adult Care",children:" Adult Care "}),(0,Ge.jsx)("option",{value:"Baby Sitter",children:" Baby Sitter"}),(0,Ge.jsx)("option",{value:"House Keeper",children:" House Keeper "}),(0,Ge.jsx)("option",{value:"Tutor",children:" Tutor "}),(0,Ge.jsx)("option",{value:"Cleaner",children:" Cleaner "}),(0,Ge.jsx)("option",{value:"Waitress",children:" Waitress "}),(0,Ge.jsx)("option",{value:"cooking",children:" Cooking "}),(0,Ge.jsx)("option",{value:"Care for Special Needs",children:" Care for Special Needs "}),(0,Ge.jsx)("option",{value:"Maid",children:" Maid "}),(0,Ge.jsx)("option",{value:"Hair Stylist",children:" Hair Stylist "}),(0,Ge.jsx)("option",{value:"Receptionist",children:" Receptionist "}),(0,Ge.jsx)("option",{value:"Sales",children:"Sales "}),(0,Ge.jsx)("option",{value:"Chef (\u123c\u134d)",children:" Chef (\u123c\u134d) "}),(0,Ge.jsx)("option",{value:"Accountant",children:" Accountant "}),(0,Ge.jsx)("option",{value:"Secretary",children:" Secretary "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:N,onChange:e=>M(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Experience   "}),(0,Ge.jsx)("option",{value:"More Than 5 Years",children:" More Than 5 Years "}),(0,Ge.jsx)("option",{value:"More Than 2 Years",children:" More Than 2 Years "}),(0,Ge.jsx)("option",{value:"More Than 1 Years",children:" More Than 1 Years "}),(0,Ge.jsx)("option",{value:"None",children:" I don't Have any "})]})}),(0,Ge.jsx)("div",{className:"selectSearch",children:(0,Ge.jsxs)("select",{value:S,onChange:e=>E(e.target.value),className:"inputreal selectReg",children:[(0,Ge.jsx)("option",{value:"",children:"Salary  "}),(0,Ge.jsx)("option",{value:"1000-2000",children:" 1000-2000 "}),(0,Ge.jsx)("option",{value:"2000-3000",children:" 2000-3000  "}),(0,Ge.jsx)("option",{value:"Nigotiate",children:" Nigotiable  "})]})})]}),(0,Ge.jsx)("div",{className:"serchWorker",children:(0,Ge.jsx)("button",{onClick:async()=>{const e=_.split("-");let t=0,n=0;e.length>1&&(t=parseInt(e[0]),n=parseInt(e[1])),console.log(t),U("two");const i=gg(q,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>Cg("and",e))),_g._create("and",t)}(vg("salary","==",S),vg("haveChild","==",R),vg("country","==",m),vg("haveclass","==",A),vg("haveExpireance","==",N),vg("language","==",k),vg("isPartime","==",x),vg("liveIn","==",D),vg("cityId","==",y),vg("religion","==",T),vg("workType","array-contains-any",[{label:"cooking",value:"cooking"}]),vg("age",">=",t),vg("age","<=",n))),r=await zg(i);B(r.docs.map((e=>({...e.data(),id:e.id})))),f(r.docs[r.docs.length-1]),u(!1)},children:"Search"})})]})]}),"one"===V?(0,Ge.jsx)("div",{className:"herosec33",children:(0,Ge.jsxs)("div",{className:"workerrs",children:[(0,Ge.jsx)("h2",{children:"Available Workers"}),(0,Ge.jsx)("p",{children:"ALL OF OUR LISTED WORKERS ARE IN ETHIOPIA AND WAITING FOR YOU TO CONTACT THEM"}),(0,Ge.jsx)("div",{className:"workerrHero",children:i.map(((e,t)=>{var n;return(0,Ge.jsx)("div",{children:(0,Ge.jsxs)("div",{className:"conworkerr",children:[(0,Ge.jsx)("img",{src:e.urlId,className:"workerrsimage",alt:""},t),(0,Ge.jsx)("h2",{children:e.fname+" "+e.lname}),(0,Ge.jsxs)("h3",{className:"yearrs",children:[e.age," years old"]}),(0,Ge.jsxs)("h4",{children:[e.country,", ",e.cityId]}),(0,Ge.jsx)("h5",{style:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center"},children:null===(n=e.workType)||void 0===n?void 0:n.map((e=>(0,Ge.jsxs)("h5",{children:[" ",e.value+" *","  "]})))}),(0,Ge.jsx)("div",{onClick:()=>W(e.id),className:"herobtnWorkr",children:(0,Ge.jsx)("button",{className:"btnhewerr btnrewerr",children:"View Profile"})})]})},t)}))}),(0,Ge.jsx)("div",{className:"moreWorker",children:(0,Ge.jsx)("button",{onClick:async()=>{if(!h||c)return alert("there is no data");u(!0);const e=gg(q,Sg(h),xg(8)),t=await zg(e);r([...t.docs.map((e=>({...e.data(),id:e.id})))]),d(t.docs[t.docs.length-1]),u(!1)},children:"Find More Workers"})})]})}):(0,Ge.jsx)(Ge.Fragment,{}),"two"===V?(0,Ge.jsx)("div",{className:"herosec33",children:(0,Ge.jsxs)("div",{className:"workerrs",children:[(0,Ge.jsx)("h2",{children:"Available Workers"}),(0,Ge.jsx)("p",{children:"ALL OF OUR LISTED WORKERS IN YOUR SEARCH"}),(0,Ge.jsx)("div",{className:"workerrHero",children:F.map(((e,t)=>{var n;return(0,Ge.jsx)("div",{children:(0,Ge.jsxs)("div",{className:"conworkerr",children:[(0,Ge.jsx)("img",{src:e.urlId,className:"workerrsimage",alt:""},t),(0,Ge.jsx)("h2",{children:e.fname+" "+e.lname}),(0,Ge.jsxs)("h3",{className:"yearrs",children:[e.age," years old"]}),(0,Ge.jsxs)("h4",{children:[e.country,", ",e.cityId]}),(0,Ge.jsx)("h5",{style:{display:"flex",textAlign:"center",justifyContent:"center",alignItems:"center"},children:null===(n=e.workType)||void 0===n?void 0:n.map((e=>(0,Ge.jsxs)("h5",{children:[" ",e.value+" *","  "]})))}),(0,Ge.jsx)("div",{onClick:()=>W(e.id),className:"herobtnWorkr",children:(0,Ge.jsx)("button",{className:"btnhewerr btnrewerr",children:"View Profile"})})]})},t)}))}),(0,Ge.jsx)("div",{className:"moreWorker",children:(0,Ge.jsx)("button",{onClick:async()=>{if(!p||c)return alert("there is no data");u(!0);const e=gg(q,vg("salary","==","1000-2000"),Sg(p),xg(8)),t=await zg(e);B([...t.docs.map((e=>({...e.data(),id:e.id})))]),f(t.docs[t.docs.length-1]),u(!1)},children:"Find More Workers"})})]})}):(0,Ge.jsx)(Ge.Fragment,{}),(0,Ge.jsx)("div",{className:"herosec67",children:(0,Ge.jsxs)("div",{className:"startheroo7",children:[(0,Ge.jsx)("h1",{children:"Start Working With Our Company"}),(0,Ge.jsx)("div",{className:"startherobtnWork",children:(0,Ge.jsx)("button",{className:"startbtnhewe67 startbtnrewe67",children:"Register As Agent Now"})})]})})]})}),yI=e=>{var n,i,r;const s=Q();console.log(e,"props");null===(n=s.state)||void 0===n||n.data;const[a,o]=(0,t.useState)([]);return(0,t.useEffect)((()=>{window.scrollTo(0,0);const e=jm(Cx,"userall",s.state);(async()=>{const t=await function(e){e=Pm(e,Dm);const t=Pm(e.firestore,Bm);return wm(Vm(t),e._key).then((n=>Bg(t,e,n)))}(e);o(t.data())})()}),[]),(0,Ge.jsx)("div",{children:(0,Ge.jsx)("div",{children:(0,Ge.jsx)("div",{className:"detail",children:(0,Ge.jsxs)("div",{className:"bgDetail",children:[(0,Ge.jsxs)("div",{className:"theRest",children:[(0,Ge.jsxs)("div",{className:"allInfoWorkk",children:[(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Religion"}),(0,Ge.jsx)("p",{children:a.religion})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Language"}),(0,Ge.jsx)("p",{children:a.language+" , "+a.lang})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Employee Type"}),(0,Ge.jsx)("p",{children:a.isPartime})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Residence"}),(0,Ge.jsx)("p",{children:a.liveIn})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Student"}),(0,Ge.jsx)("p",{children:a.haveclass})]})]}),(0,Ge.jsx)("div",{className:"allInfoWorkk",children:(0,Ge.jsx)("div",{className:"moreWorker",children:(0,Ge.jsxs)("div",{className:"conworkerrr",children:[(0,Ge.jsx)("img",{src:a.urlId,className:"workerrrsimage",alt:""}),(0,Ge.jsx)("h2",{children:a.fname+" "+a.lname}),(0,Ge.jsx)("h3",{className:"yearrrs",children:a.age}),(0,Ge.jsxs)("h4",{children:[a.country,", ",a.cityId]}),(0,Ge.jsx)("h5",{children:null===(i=a.workType)||void 0===i?void 0:i.map((e=>(0,Ge.jsxs)("p",{children:[" ",e.value+" *","  "]})))}),(0,Ge.jsx)("div",{className:"herobtnWork",children:(0,Ge.jsx)("button",{className:"btnhewerrr btnrewerrr",children:(0,Ge.jsx)("a",{href:"tel:+251930104785",children:"call us"})})})]})})}),(0,Ge.jsxs)("div",{className:"allInfoWorkk",children:[(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Education Level"}),(0,Ge.jsx)("p",{children:a.Education})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Expected Salary"}),(0,Ge.jsx)("p",{children:a.salary})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Services"}),(0,Ge.jsx)("p",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:null===(r=a.workType)||void 0===r?void 0:r.map((e=>(0,Ge.jsxs)("h5",{children:[" ",e.value+" ~","  "]})))})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Children"}),(0,Ge.jsx)("p",{children:a.haveChild})]}),(0,Ge.jsxs)("div",{className:"religion",children:[(0,Ge.jsx)("h4",{children:"Experience"}),(0,Ge.jsx)("p",{children:a.haveExpireance})]})]})]}),(0,Ge.jsx)("div",{className:"skilldetail",children:(0,Ge.jsxs)("div",{className:"skillOne",children:[(0,Ge.jsx)("h4",{children:"Skill"}),(0,Ge.jsx)("p",{children:a.tellAbout})]})})]})})})})};const vI=function(){return(0,Ge.jsx)("div",{className:"App",children:(0,Ge.jsx)(be,{children:(0,Ge.jsxs)(tI,{children:[(0,Ge.jsx)(We,{}),(0,Ge.jsxs)(fe,{children:[(0,Ge.jsx)(de,{path:"/",element:(0,Ge.jsx)(zn,{})}),(0,Ge.jsx)(de,{path:"/serv",element:(0,Ge.jsx)(mI,{})}),(0,Ge.jsx)(de,{path:"/employe",element:(0,Ge.jsx)(gI,{})}),(0,Ge.jsx)(de,{path:"/detail",element:(0,Ge.jsx)(yI,{})}),(0,Ge.jsx)(de,{path:"/register",element:(0,Ge.jsx)(iI,{})}),(0,Ge.jsx)(de,{path:"/login",element:(0,Ge.jsx)(rI,{})}),(0,Ge.jsx)(de,{path:"/contact",element:(0,Ge.jsx)(Rx,{})}),(0,Ge.jsx)(de,{path:"/term",element:(0,Ge.jsx)(sI,{})})]}),(0,Ge.jsx)(Xe,{})]})})})};r.createRoot(document.getElementById("root")).render((0,Ge.jsx)(vI,{}))})()})();
//# sourceMappingURL=main.9e5c3bab.js.map